(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function Vi(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function m0(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var n=l.default;if(typeof n=="function"){var s=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(a){var o=Object.getOwnPropertyDescriptor(l,a);Object.defineProperty(s,a,o.get?o:{enumerable:!0,get:function(){return l[a]}})}),s}var Vl={exports:{}},Js={},Kl={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function p0(){if(Zh)return be;Zh=1;var l=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function A(E,B,pe){this.props=E,this.context=B,this.refs=C,this.updater=pe||j}A.prototype.isReactComponent={},A.prototype.setState=function(E,B){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,B,"setState")},A.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function _(){}_.prototype=A.prototype;function P(E,B,pe){this.props=E,this.context=B,this.refs=C,this.updater=pe||j}var S=P.prototype=new _;S.constructor=P,N(S,A.prototype),S.isPureReactComponent=!0;var L=Array.isArray,I=Object.prototype.hasOwnProperty,U={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function ee(E,B,pe){var ae,xe={},ye=null,Y=null;if(B!=null)for(ae in B.ref!==void 0&&(Y=B.ref),B.key!==void 0&&(ye=""+B.key),B)I.call(B,ae)&&!z.hasOwnProperty(ae)&&(xe[ae]=B[ae]);var re=arguments.length-2;if(re===1)xe.children=pe;else if(1<re){for(var he=Array(re),ke=0;ke<re;ke++)he[ke]=arguments[ke+2];xe.children=he}if(E&&E.defaultProps)for(ae in re=E.defaultProps,re)xe[ae]===void 0&&(xe[ae]=re[ae]);return{$$typeof:l,type:E,key:ye,ref:Y,props:xe,_owner:U.current}}function H(E,B){return{$$typeof:l,type:E.type,key:B,ref:E.ref,props:E.props,_owner:E._owner}}function te(E){return typeof E=="object"&&E!==null&&E.$$typeof===l}function $(E){var B={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(pe){return B[pe]})}var q=/\/+/g;function Z(E,B){return typeof E=="object"&&E!==null&&E.key!=null?$(""+E.key):B.toString(36)}function ie(E,B,pe,ae,xe){var ye=typeof E;(ye==="undefined"||ye==="boolean")&&(E=null);var Y=!1;if(E===null)Y=!0;else switch(ye){case"string":case"number":Y=!0;break;case"object":switch(E.$$typeof){case l:case n:Y=!0}}if(Y)return Y=E,xe=xe(Y),E=ae===""?"."+Z(Y,0):ae,L(xe)?(pe="",E!=null&&(pe=E.replace(q,"$&/")+"/"),ie(xe,B,pe,"",function(ke){return ke})):xe!=null&&(te(xe)&&(xe=H(xe,pe+(!xe.key||Y&&Y.key===xe.key?"":(""+xe.key).replace(q,"$&/")+"/")+E)),B.push(xe)),1;if(Y=0,ae=ae===""?".":ae+":",L(E))for(var re=0;re<E.length;re++){ye=E[re];var he=ae+Z(ye,re);Y+=ie(ye,B,pe,he,xe)}else if(he=w(E),typeof he=="function")for(E=he.call(E),re=0;!(ye=E.next()).done;)ye=ye.value,he=ae+Z(ye,re++),Y+=ie(ye,B,pe,he,xe);else if(ye==="object")throw B=String(E),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Y}function Ce(E,B,pe){if(E==null)return E;var ae=[],xe=0;return ie(E,ae,"","",function(ye){return B.call(pe,ye,xe++)}),ae}function Ee(E){if(E._status===-1){var B=E._result;B=B(),B.then(function(pe){(E._status===0||E._status===-1)&&(E._status=1,E._result=pe)},function(pe){(E._status===0||E._status===-1)&&(E._status=2,E._result=pe)}),E._status===-1&&(E._status=0,E._result=B)}if(E._status===1)return E._result.default;throw E._result}var je={current:null},Q={transition:null},K={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Q,ReactCurrentOwner:U};function J(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Ce,forEach:function(E,B,pe){Ce(E,function(){B.apply(this,arguments)},pe)},count:function(E){var B=0;return Ce(E,function(){B++}),B},toArray:function(E){return Ce(E,function(B){return B})||[]},only:function(E){if(!te(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},be.Component=A,be.Fragment=s,be.Profiler=o,be.PureComponent=P,be.StrictMode=a,be.Suspense=m,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,be.act=J,be.cloneElement=function(E,B,pe){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ae=N({},E.props),xe=E.key,ye=E.ref,Y=E._owner;if(B!=null){if(B.ref!==void 0&&(ye=B.ref,Y=U.current),B.key!==void 0&&(xe=""+B.key),E.type&&E.type.defaultProps)var re=E.type.defaultProps;for(he in B)I.call(B,he)&&!z.hasOwnProperty(he)&&(ae[he]=B[he]===void 0&&re!==void 0?re[he]:B[he])}var he=arguments.length-2;if(he===1)ae.children=pe;else if(1<he){re=Array(he);for(var ke=0;ke<he;ke++)re[ke]=arguments[ke+2];ae.children=re}return{$$typeof:l,type:E.type,key:xe,ref:ye,props:ae,_owner:Y}},be.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},be.createElement=ee,be.createFactory=function(E){var B=ee.bind(null,E);return B.type=E,B},be.createRef=function(){return{current:null}},be.forwardRef=function(E){return{$$typeof:f,render:E}},be.isValidElement=te,be.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:Ee}},be.memo=function(E,B){return{$$typeof:g,type:E,compare:B===void 0?null:B}},be.startTransition=function(E){var B=Q.transition;Q.transition={};try{E()}finally{Q.transition=B}},be.unstable_act=J,be.useCallback=function(E,B){return je.current.useCallback(E,B)},be.useContext=function(E){return je.current.useContext(E)},be.useDebugValue=function(){},be.useDeferredValue=function(E){return je.current.useDeferredValue(E)},be.useEffect=function(E,B){return je.current.useEffect(E,B)},be.useId=function(){return je.current.useId()},be.useImperativeHandle=function(E,B,pe){return je.current.useImperativeHandle(E,B,pe)},be.useInsertionEffect=function(E,B){return je.current.useInsertionEffect(E,B)},be.useLayoutEffect=function(E,B){return je.current.useLayoutEffect(E,B)},be.useMemo=function(E,B){return je.current.useMemo(E,B)},be.useReducer=function(E,B,pe){return je.current.useReducer(E,B,pe)},be.useRef=function(E){return je.current.useRef(E)},be.useState=function(E){return je.current.useState(E)},be.useSyncExternalStore=function(E,B,pe){return je.current.useSyncExternalStore(E,B,pe)},be.useTransition=function(){return je.current.useTransition()},be.version="18.3.1",be}var ef;function Hc(){return ef||(ef=1,Kl.exports=p0()),Kl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf;function g0(){if(tf)return Js;tf=1;var l=Hc(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,m,g){var x,y={},w=null,j=null;g!==void 0&&(w=""+g),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(j=m.ref);for(x in m)a.call(m,x)&&!c.hasOwnProperty(x)&&(y[x]=m[x]);if(f&&f.defaultProps)for(x in m=f.defaultProps,m)y[x]===void 0&&(y[x]=m[x]);return{$$typeof:n,type:f,key:w,ref:j,props:y,_owner:o.current}}return Js.Fragment=s,Js.jsx=d,Js.jsxs=d,Js}var rf;function x0(){return rf||(rf=1,Vl.exports=g0()),Vl.exports}var r=x0(),b=Hc();const ca=Vi(b);var _i={},Jl={exports:{}},gt={},Ql={exports:{}},Yl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf;function y0(){return nf||(nf=1,function(l){function n(Q,K){var J=Q.length;Q.push(K);e:for(;0<J;){var E=J-1>>>1,B=Q[E];if(0<o(B,K))Q[E]=K,Q[J]=B,J=E;else break e}}function s(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var K=Q[0],J=Q.pop();if(J!==K){Q[0]=J;e:for(var E=0,B=Q.length,pe=B>>>1;E<pe;){var ae=2*(E+1)-1,xe=Q[ae],ye=ae+1,Y=Q[ye];if(0>o(xe,J))ye<B&&0>o(Y,xe)?(Q[E]=Y,Q[ye]=J,E=ye):(Q[E]=xe,Q[ae]=J,E=ae);else if(ye<B&&0>o(Y,J))Q[E]=Y,Q[ye]=J,E=ye;else break e}}return K}function o(Q,K){var J=Q.sortIndex-K.sortIndex;return J!==0?J:Q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();l.unstable_now=function(){return d.now()-f}}var m=[],g=[],x=1,y=null,w=3,j=!1,N=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Q){for(var K=s(g);K!==null;){if(K.callback===null)a(g);else if(K.startTime<=Q)a(g),K.sortIndex=K.expirationTime,n(m,K);else break;K=s(g)}}function L(Q){if(C=!1,S(Q),!N)if(s(m)!==null)N=!0,Ee(I);else{var K=s(g);K!==null&&je(L,K.startTime-Q)}}function I(Q,K){N=!1,C&&(C=!1,_(ee),ee=-1),j=!0;var J=w;try{for(S(K),y=s(m);y!==null&&(!(y.expirationTime>K)||Q&&!$());){var E=y.callback;if(typeof E=="function"){y.callback=null,w=y.priorityLevel;var B=E(y.expirationTime<=K);K=l.unstable_now(),typeof B=="function"?y.callback=B:y===s(m)&&a(m),S(K)}else a(m);y=s(m)}if(y!==null)var pe=!0;else{var ae=s(g);ae!==null&&je(L,ae.startTime-K),pe=!1}return pe}finally{y=null,w=J,j=!1}}var U=!1,z=null,ee=-1,H=5,te=-1;function $(){return!(l.unstable_now()-te<H)}function q(){if(z!==null){var Q=l.unstable_now();te=Q;var K=!0;try{K=z(!0,Q)}finally{K?Z():(U=!1,z=null)}}else U=!1}var Z;if(typeof P=="function")Z=function(){P(q)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Ce=ie.port2;ie.port1.onmessage=q,Z=function(){Ce.postMessage(null)}}else Z=function(){A(q,0)};function Ee(Q){z=Q,U||(U=!0,Z())}function je(Q,K){ee=A(function(){Q(l.unstable_now())},K)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(Q){Q.callback=null},l.unstable_continueExecution=function(){N||j||(N=!0,Ee(I))},l.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Q?Math.floor(1e3/Q):5},l.unstable_getCurrentPriorityLevel=function(){return w},l.unstable_getFirstCallbackNode=function(){return s(m)},l.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var J=w;w=K;try{return Q()}finally{w=J}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(Q,K){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var J=w;w=Q;try{return K()}finally{w=J}},l.unstable_scheduleCallback=function(Q,K,J){var E=l.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?E+J:E):J=E,Q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,Q={id:x++,callback:K,priorityLevel:Q,startTime:J,expirationTime:B,sortIndex:-1},J>E?(Q.sortIndex=J,n(g,Q),s(m)===null&&Q===s(g)&&(C?(_(ee),ee=-1):C=!0,je(L,J-E))):(Q.sortIndex=B,n(m,Q),N||j||(N=!0,Ee(I))),Q},l.unstable_shouldYield=$,l.unstable_wrapCallback=function(Q){var K=w;return function(){var J=w;w=K;try{return Q.apply(this,arguments)}finally{w=J}}}}(Yl)),Yl}var sf;function v0(){return sf||(sf=1,Ql.exports=y0()),Ql.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af;function w0(){if(af)return gt;af=1;var l=Hc(),n=v0();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function w(e){return m.call(y,e)?!0:m.call(x,e)?!1:g.test(e)?y[e]=!0:(x[e]=!0,!1)}function j(e,t,i,u){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,i,u){if(t===null||typeof t>"u"||j(e,t,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function C(e,t,i,u,h,p,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=v}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new C(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_,P);A[t]=new C(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_,P);A[t]=new C(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_,P);A[t]=new C(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function S(e,t,i,u){var h=A.hasOwnProperty(t)?A[t]:null;(h!==null?h.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,i,h,u)&&(i=null),u||h===null?w(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(t=h.attributeName,u=h.attributeNamespace,i===null?e.removeAttribute(t):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?e.setAttributeNS(u,t,i):e.setAttribute(t,i))))}var L=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),$=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),Q=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,E;function B(e){if(E===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var pe=!1;function ae(e,t){if(!e||pe)return"";pe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(D){var u=D}Reflect.construct(e,[],t)}else{try{t.call()}catch(D){u=D}e.call(t.prototype)}else{try{throw Error()}catch(D){u=D}e()}}catch(D){if(D&&u&&typeof D.stack=="string"){for(var h=D.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,k=p.length-1;1<=v&&0<=k&&h[v]!==p[k];)k--;for(;1<=v&&0<=k;v--,k--)if(h[v]!==p[k]){if(v!==1||k!==1)do if(v--,k--,0>k||h[v]!==p[k]){var T=`
`+h[v].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=v&&0<=k);break}}}finally{pe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function xe(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function ye(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case U:return"Portal";case H:return"Profiler";case ee:return"StrictMode";case Z:return"Suspense";case ie:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $:return(e.displayName||"Context")+".Consumer";case te:return(e._context.displayName||"Context")+".Provider";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ce:return t=e.displayName||null,t!==null?t:ye(e.type)||"Memo";case Ee:t=e._payload,e=e._init;try{return ye(e(t))}catch{}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(t);case 8:return t===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function re(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function he(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ke(e){var t=he(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,p=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wt(e){e._valueTracker||(e._valueTracker=ke(e))}function yr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),u="";return e&&(u=he(e)?e.checked?"true":"false":e.value),e=u,e!==i?(t.setValue(e),!0):!1}function tr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pn(e,t){var i=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function cs(e,t){var i=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;i=re(t.value!=null?t.value:i),e._wrapperState={initialChecked:u,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Re(e,t){t=t.checked,t!=null&&S(e,"checked",t,!1)}function bt(e,t){Re(e,t);var i=re(t.value),u=t.type;if(i!=null)u==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?to(e,t.type,i):t.hasOwnProperty("defaultValue")&&to(e,t.type,re(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lu(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function to(e,t,i){(t!=="number"||tr(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var us=Array.isArray;function gn(e,t,i,u){if(e=e.options,t){t={};for(var h=0;h<i.length;h++)t["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=t.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&u&&(e[i].defaultSelected=!0)}else{for(i=""+re(i),t=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cu(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(s(92));if(us(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:re(i)}}function uu(e,t){var i=re(t.value),u=re(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),u!=null&&(e.defaultValue=""+u)}function du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function no(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xa,fu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,u,h){MSApp.execUnsafeLocalFunction(function(){return e(t,i,u,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ds(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yp=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(e){yp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hs[t]=hs[e]})});function mu(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||hs.hasOwnProperty(e)&&hs[e]?(""+t).trim():t+"px"}function pu(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=mu(i,t[i],u);i==="float"&&(i="cssFloat"),u?e.setProperty(i,h):e[i]=h}}var vp=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(e,t){if(t){if(vp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lo=null,xn=null,yn=null;function gu(e){if(e=Is(e)){if(typeof lo!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Fa(t),lo(e.stateNode,e.type,t))}}function xu(e){xn?yn?yn.push(e):yn=[e]:xn=e}function yu(){if(xn){var e=xn,t=yn;if(yn=xn=null,gu(e),t)for(e=0;e<t.length;e++)gu(t[e])}}function vu(e,t){return e(t)}function wu(){}var co=!1;function bu(e,t,i){if(co)return e(t,i);co=!0;try{return vu(e,t,i)}finally{co=!1,(xn!==null||yn!==null)&&(wu(),yu())}}function fs(e,t){var i=e.stateNode;if(i===null)return null;var u=Fa(i);if(u===null)return null;i=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var uo=!1;if(f)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){uo=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{uo=!1}function wp(e,t,i,u,h,p,v,k,T){var D=Array.prototype.slice.call(arguments,3);try{t.apply(i,D)}catch(G){this.onError(G)}}var ps=!1,ya=null,va=!1,ho=null,bp={onError:function(e){ps=!0,ya=e}};function jp(e,t,i,u,h,p,v,k,T){ps=!1,ya=null,wp.apply(bp,arguments)}function Np(e,t,i,u,h,p,v,k,T){if(jp.apply(this,arguments),ps){if(ps){var D=ya;ps=!1,ya=null}else throw Error(s(198));va||(va=!0,ho=D)}}function qr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function ju(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nu(e){if(qr(e)!==e)throw Error(s(188))}function kp(e){var t=e.alternate;if(!t){if(t=qr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,u=t;;){var h=i.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===i)return Nu(h),e;if(p===u)return Nu(h),t;p=p.sibling}throw Error(s(188))}if(i.return!==u.return)i=h,u=p;else{for(var v=!1,k=h.child;k;){if(k===i){v=!0,i=h,u=p;break}if(k===u){v=!0,u=h,i=p;break}k=k.sibling}if(!v){for(k=p.child;k;){if(k===i){v=!0,i=p,u=h;break}if(k===u){v=!0,u=p,i=h;break}k=k.sibling}if(!v)throw Error(s(189))}}if(i.alternate!==u)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function ku(e){return e=kp(e),e!==null?_u(e):null}function _u(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_u(e);if(t!==null)return t;e=e.sibling}return null}var Su=n.unstable_scheduleCallback,Cu=n.unstable_cancelCallback,_p=n.unstable_shouldYield,Sp=n.unstable_requestPaint,Fe=n.unstable_now,Cp=n.unstable_getCurrentPriorityLevel,fo=n.unstable_ImmediatePriority,Eu=n.unstable_UserBlockingPriority,wa=n.unstable_NormalPriority,Ep=n.unstable_LowPriority,Pu=n.unstable_IdlePriority,ba=null,Ht=null;function Pp(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ba,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:Rp,Tp=Math.log,Ap=Math.LN2;function Rp(e){return e>>>=0,e===0?32:31-(Tp(e)/Ap|0)|0}var ja=64,Na=4194304;function gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ka(e,t){var i=e.pendingLanes;if(i===0)return 0;var u=0,h=e.suspendedLanes,p=e.pingedLanes,v=i&268435455;if(v!==0){var k=v&~h;k!==0?u=gs(k):(p&=v,p!==0&&(u=gs(p)))}else v=i&~h,v!==0?u=gs(v):p!==0&&(u=gs(p));if(u===0)return 0;if(t!==0&&t!==u&&(t&h)===0&&(h=u&-u,p=t&-t,h>=p||h===16&&(p&4194240)!==0))return t;if((u&4)!==0&&(u|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)i=31-It(t),h=1<<i,u|=e[i],t&=~h;return u}function Lp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ip(e,t){for(var i=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var v=31-It(p),k=1<<v,T=h[v];T===-1?((k&i)===0||(k&u)!==0)&&(h[v]=Lp(k,t)):T<=t&&(e.expiredLanes|=k),p&=~k}}function mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tu(){var e=ja;return ja<<=1,(ja&4194240)===0&&(ja=64),e}function po(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function xs(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=i}function Op(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-It(i),p=1<<h;t[h]=0,u[h]=-1,e[h]=-1,i&=~p}}function go(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var u=31-It(i),h=1<<u;h&t|e[u]&t&&(e[u]|=t),i&=~h}}var Pe=0;function Au(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ru,xo,Lu,Iu,Ou,yo=!1,_a=[],vr=null,wr=null,br=null,ys=new Map,vs=new Map,jr=[],Mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mu(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(t.pointerId)}}function ws(e,t,i,u,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:i,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},t!==null&&(t=Is(t),t!==null&&xo(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Dp(e,t,i,u,h){switch(t){case"focusin":return vr=ws(vr,e,t,i,u,h),!0;case"dragenter":return wr=ws(wr,e,t,i,u,h),!0;case"mouseover":return br=ws(br,e,t,i,u,h),!0;case"pointerover":var p=h.pointerId;return ys.set(p,ws(ys.get(p)||null,e,t,i,u,h)),!0;case"gotpointercapture":return p=h.pointerId,vs.set(p,ws(vs.get(p)||null,e,t,i,u,h)),!0}return!1}function Du(e){var t=Wr(e.target);if(t!==null){var i=qr(t);if(i!==null){if(t=i.tag,t===13){if(t=ju(i),t!==null){e.blockedOn=t,Ou(e.priority,function(){Lu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);io=u,i.target.dispatchEvent(u),io=null}else return t=Is(i),t!==null&&xo(t),e.blockedOn=i,!1;t.shift()}return!0}function Uu(e,t,i){Sa(e)&&i.delete(t)}function Up(){yo=!1,vr!==null&&Sa(vr)&&(vr=null),wr!==null&&Sa(wr)&&(wr=null),br!==null&&Sa(br)&&(br=null),ys.forEach(Uu),vs.forEach(Uu)}function bs(e,t){e.blockedOn===t&&(e.blockedOn=null,yo||(yo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Up)))}function js(e){function t(h){return bs(h,e)}if(0<_a.length){bs(_a[0],e);for(var i=1;i<_a.length;i++){var u=_a[i];u.blockedOn===e&&(u.blockedOn=null)}}for(vr!==null&&bs(vr,e),wr!==null&&bs(wr,e),br!==null&&bs(br,e),ys.forEach(t),vs.forEach(t),i=0;i<jr.length;i++)u=jr[i],u.blockedOn===e&&(u.blockedOn=null);for(;0<jr.length&&(i=jr[0],i.blockedOn===null);)Du(i),i.blockedOn===null&&jr.shift()}var vn=L.ReactCurrentBatchConfig,Ca=!0;function $p(e,t,i,u){var h=Pe,p=vn.transition;vn.transition=null;try{Pe=1,vo(e,t,i,u)}finally{Pe=h,vn.transition=p}}function Fp(e,t,i,u){var h=Pe,p=vn.transition;vn.transition=null;try{Pe=4,vo(e,t,i,u)}finally{Pe=h,vn.transition=p}}function vo(e,t,i,u){if(Ca){var h=wo(e,t,i,u);if(h===null)Do(e,t,u,Ea,i),Mu(e,u);else if(Dp(h,e,t,i,u))u.stopPropagation();else if(Mu(e,u),t&4&&-1<Mp.indexOf(e)){for(;h!==null;){var p=Is(h);if(p!==null&&Ru(p),p=wo(e,t,i,u),p===null&&Do(e,t,u,Ea,i),p===h)break;h=p}h!==null&&u.stopPropagation()}else Do(e,t,u,null,i)}}var Ea=null;function wo(e,t,i,u){if(Ea=null,e=oo(u),e=Wr(e),e!==null)if(t=qr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=ju(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ea=e,null}function $u(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cp()){case fo:return 1;case Eu:return 4;case wa:case Ep:return 16;case Pu:return 536870912;default:return 16}default:return 16}}var Nr=null,bo=null,Pa=null;function Fu(){if(Pa)return Pa;var e,t=bo,i=t.length,u,h="value"in Nr?Nr.value:Nr.textContent,p=h.length;for(e=0;e<i&&t[e]===h[e];e++);var v=i-e;for(u=1;u<=v&&t[i-u]===h[p-u];u++);return Pa=h.slice(e,1<u?1-u:void 0)}function Ta(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Aa(){return!0}function Bu(){return!1}function jt(e){function t(i,u,h,p,v){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(i=e[k],this[k]=i?i(p):p[k]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Aa:Bu,this.isPropagationStopped=Bu,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),t}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=jt(wn),Ns=J({},wn,{view:0,detail:0}),Bp=jt(Ns),No,ko,ks,Ra=J({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:So,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(No=e.screenX-ks.screenX,ko=e.screenY-ks.screenY):ko=No=0,ks=e),No)},movementY:function(e){return"movementY"in e?e.movementY:ko}}),zu=jt(Ra),zp=J({},Ra,{dataTransfer:0}),qp=jt(zp),Wp=J({},Ns,{relatedTarget:0}),_o=jt(Wp),Gp=J({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hp=jt(Gp),Vp=J({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kp=jt(Vp),Jp=J({},wn,{data:0}),qu=jt(Jp),Qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xp[e])?!!t[e]:!1}function So(){return Zp}var eg=J({},Ns,{key:function(e){if(e.key){var t=Qp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:So,charCode:function(e){return e.type==="keypress"?Ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tg=jt(eg),rg=J({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=jt(rg),ng=J({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:So}),sg=jt(ng),ag=J({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ig=jt(ag),og=J({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lg=jt(og),cg=[9,13,27,32],Co=f&&"CompositionEvent"in window,_s=null;f&&"documentMode"in document&&(_s=document.documentMode);var ug=f&&"TextEvent"in window&&!_s,Gu=f&&(!Co||_s&&8<_s&&11>=_s),Hu=" ",Vu=!1;function Ku(e,t){switch(e){case"keyup":return cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bn=!1;function dg(e,t){switch(e){case"compositionend":return Ju(t);case"keypress":return t.which!==32?null:(Vu=!0,Hu);case"textInput":return e=t.data,e===Hu&&Vu?null:e;default:return null}}function hg(e,t){if(bn)return e==="compositionend"||!Co&&Ku(e,t)?(e=Fu(),Pa=bo=Nr=null,bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gu&&t.locale!=="ko"?null:t.data;default:return null}}var fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fg[e.type]:t==="textarea"}function Yu(e,t,i,u){xu(u),t=Da(t,"onChange"),0<t.length&&(i=new jo("onChange","change",null,i,u),e.push({event:i,listeners:t}))}var Ss=null,Cs=null;function mg(e){pd(e,0)}function La(e){var t=Sn(e);if(yr(t))return e}function pg(e,t){if(e==="change")return t}var Xu=!1;if(f){var Eo;if(f){var Po="oninput"in document;if(!Po){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),Po=typeof Zu.oninput=="function"}Eo=Po}else Eo=!1;Xu=Eo&&(!document.documentMode||9<document.documentMode)}function ed(){Ss&&(Ss.detachEvent("onpropertychange",td),Cs=Ss=null)}function td(e){if(e.propertyName==="value"&&La(Cs)){var t=[];Yu(t,Cs,e,oo(e)),bu(mg,t)}}function gg(e,t,i){e==="focusin"?(ed(),Ss=t,Cs=i,Ss.attachEvent("onpropertychange",td)):e==="focusout"&&ed()}function xg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return La(Cs)}function yg(e,t){if(e==="click")return La(t)}function vg(e,t){if(e==="input"||e==="change")return La(t)}function wg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:wg;function Es(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),u=Object.keys(t);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!m.call(t,h)||!Ot(e[h],t[h]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var i=rd(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=t&&u>=t)return{node:i,offset:t-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=rd(i)}}function sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ad(){for(var e=window,t=tr();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=tr(e.document)}return t}function To(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bg(e){var t=ad(),i=e.focusedElem,u=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&sd(i.ownerDocument.documentElement,i)){if(u!==null&&To(i)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!e.extend&&p>u&&(h=u,u=p,p=h),h=nd(i,p);var v=nd(i,u);h&&v&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),p>u?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jg=f&&"documentMode"in document&&11>=document.documentMode,jn=null,Ao=null,Ps=null,Ro=!1;function id(e,t,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ro||jn==null||jn!==tr(u)||(u=jn,"selectionStart"in u&&To(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ps&&Es(Ps,u)||(Ps=u,u=Da(Ao,"onSelect"),0<u.length&&(t=new jo("onSelect","select",null,t,i),e.push({event:t,listeners:u}),t.target=jn)))}function Ia(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Nn={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionend:Ia("Transition","TransitionEnd")},Lo={},od={};f&&(od=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function Oa(e){if(Lo[e])return Lo[e];if(!Nn[e])return e;var t=Nn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in od)return Lo[e]=t[i];return e}var ld=Oa("animationend"),cd=Oa("animationiteration"),ud=Oa("animationstart"),dd=Oa("transitionend"),hd=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){hd.set(e,t),c(t,[e])}for(var Io=0;Io<fd.length;Io++){var Oo=fd[Io],Ng=Oo.toLowerCase(),kg=Oo[0].toUpperCase()+Oo.slice(1);kr(Ng,"on"+kg)}kr(ld,"onAnimationEnd"),kr(cd,"onAnimationIteration"),kr(ud,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(dd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_g=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function md(e,t,i){var u=e.type||"unknown-event";e.currentTarget=i,Np(u,t,void 0,e),e.currentTarget=null}function pd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],h=u.event;u=u.listeners;e:{var p=void 0;if(t)for(var v=u.length-1;0<=v;v--){var k=u[v],T=k.instance,D=k.currentTarget;if(k=k.listener,T!==p&&h.isPropagationStopped())break e;md(h,k,D),p=T}else for(v=0;v<u.length;v++){if(k=u[v],T=k.instance,D=k.currentTarget,k=k.listener,T!==p&&h.isPropagationStopped())break e;md(h,k,D),p=T}}}if(va)throw e=ho,va=!1,ho=null,e}function Le(e,t){var i=t[qo];i===void 0&&(i=t[qo]=new Set);var u=e+"__bubble";i.has(u)||(gd(t,e,2,!1),i.add(u))}function Mo(e,t,i){var u=0;t&&(u|=4),gd(i,e,u,t)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function As(e){if(!e[Ma]){e[Ma]=!0,a.forEach(function(i){i!=="selectionchange"&&(_g.has(i)||Mo(i,!1,e),Mo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ma]||(t[Ma]=!0,Mo("selectionchange",!1,t))}}function gd(e,t,i,u){switch($u(t)){case 1:var h=$p;break;case 4:h=Fp;break;default:h=vo}i=h.bind(null,t,i,e),h=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(t,i,{capture:!0,passive:h}):e.addEventListener(t,i,!0):h!==void 0?e.addEventListener(t,i,{passive:h}):e.addEventListener(t,i,!1)}function Do(e,t,i,u,h){var p=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var k=u.stateNode.containerInfo;if(k===h||k.nodeType===8&&k.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var T=v.tag;if((T===3||T===4)&&(T=v.stateNode.containerInfo,T===h||T.nodeType===8&&T.parentNode===h))return;v=v.return}for(;k!==null;){if(v=Wr(k),v===null)return;if(T=v.tag,T===5||T===6){u=p=v;continue e}k=k.parentNode}}u=u.return}bu(function(){var D=p,G=oo(i),V=[];e:{var W=hd.get(e);if(W!==void 0){var ne=jo,le=e;switch(e){case"keypress":if(Ta(i)===0)break e;case"keydown":case"keyup":ne=tg;break;case"focusin":le="focus",ne=_o;break;case"focusout":le="blur",ne=_o;break;case"beforeblur":case"afterblur":ne=_o;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=sg;break;case ld:case cd:case ud:ne=Hp;break;case dd:ne=ig;break;case"scroll":ne=Bp;break;case"wheel":ne=lg;break;case"copy":case"cut":case"paste":ne=Kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Wu}var ue=(t&4)!==0,Be=!ue&&e==="scroll",O=ue?W!==null?W+"Capture":null:W;ue=[];for(var R=D,M;R!==null;){M=R;var X=M.stateNode;if(M.tag===5&&X!==null&&(M=X,O!==null&&(X=fs(R,O),X!=null&&ue.push(Rs(R,X,M)))),Be)break;R=R.return}0<ue.length&&(W=new ne(W,le,null,i,G),V.push({event:W,listeners:ue}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",W&&i!==io&&(le=i.relatedTarget||i.fromElement)&&(Wr(le)||le[rr]))break e;if((ne||W)&&(W=G.window===G?G:(W=G.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(le=i.relatedTarget||i.toElement,ne=D,le=le?Wr(le):null,le!==null&&(Be=qr(le),le!==Be||le.tag!==5&&le.tag!==6)&&(le=null)):(ne=null,le=D),ne!==le)){if(ue=zu,X="onMouseLeave",O="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ue=Wu,X="onPointerLeave",O="onPointerEnter",R="pointer"),Be=ne==null?W:Sn(ne),M=le==null?W:Sn(le),W=new ue(X,R+"leave",ne,i,G),W.target=Be,W.relatedTarget=M,X=null,Wr(G)===D&&(ue=new ue(O,R+"enter",le,i,G),ue.target=M,ue.relatedTarget=Be,X=ue),Be=X,ne&&le)t:{for(ue=ne,O=le,R=0,M=ue;M;M=kn(M))R++;for(M=0,X=O;X;X=kn(X))M++;for(;0<R-M;)ue=kn(ue),R--;for(;0<M-R;)O=kn(O),M--;for(;R--;){if(ue===O||O!==null&&ue===O.alternate)break t;ue=kn(ue),O=kn(O)}ue=null}else ue=null;ne!==null&&xd(V,W,ne,ue,!1),le!==null&&Be!==null&&xd(V,Be,le,ue,!0)}}e:{if(W=D?Sn(D):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var de=pg;else if(Qu(W))if(Xu)de=vg;else{de=xg;var fe=gg}else(ne=W.nodeName)&&ne.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(de=yg);if(de&&(de=de(e,D))){Yu(V,de,i,G);break e}fe&&fe(e,W,D),e==="focusout"&&(fe=W._wrapperState)&&fe.controlled&&W.type==="number"&&to(W,"number",W.value)}switch(fe=D?Sn(D):window,e){case"focusin":(Qu(fe)||fe.contentEditable==="true")&&(jn=fe,Ao=D,Ps=null);break;case"focusout":Ps=Ao=jn=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,id(V,i,G);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":id(V,i,G)}var me;if(Co)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else bn?Ku(e,i)&&(ge="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ge="onCompositionStart");ge&&(Gu&&i.locale!=="ko"&&(bn||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&bn&&(me=Fu()):(Nr=G,bo="value"in Nr?Nr.value:Nr.textContent,bn=!0)),fe=Da(D,ge),0<fe.length&&(ge=new qu(ge,e,null,i,G),V.push({event:ge,listeners:fe}),me?ge.data=me:(me=Ju(i),me!==null&&(ge.data=me)))),(me=ug?dg(e,i):hg(e,i))&&(D=Da(D,"onBeforeInput"),0<D.length&&(G=new qu("onBeforeInput","beforeinput",null,i,G),V.push({event:G,listeners:D}),G.data=me))}pd(V,t)})}function Rs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Da(e,t){for(var i=t+"Capture",u=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=fs(e,i),p!=null&&u.unshift(Rs(e,p,h)),p=fs(e,t),p!=null&&u.push(Rs(e,p,h))),e=e.return}return u}function kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xd(e,t,i,u,h){for(var p=t._reactName,v=[];i!==null&&i!==u;){var k=i,T=k.alternate,D=k.stateNode;if(T!==null&&T===u)break;k.tag===5&&D!==null&&(k=D,h?(T=fs(i,p),T!=null&&v.unshift(Rs(i,T,k))):h||(T=fs(i,p),T!=null&&v.push(Rs(i,T,k)))),i=i.return}v.length!==0&&e.push({event:t,listeners:v})}var Sg=/\r\n?/g,Cg=/\u0000|\uFFFD/g;function yd(e){return(typeof e=="string"?e:""+e).replace(Sg,`
`).replace(Cg,"")}function Ua(e,t,i){if(t=yd(t),yd(e)!==t&&i)throw Error(s(425))}function $a(){}var Uo=null,$o=null;function Fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,Eg=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,Pg=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(e){return vd.resolve(null).then(e).catch(Tg)}:Bo;function Tg(e){setTimeout(function(){throw e})}function zo(e,t){var i=t,u=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){e.removeChild(h),js(t);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);js(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var _n=Math.random().toString(36).slice(2),Vt="__reactFiber$"+_n,Ls="__reactProps$"+_n,rr="__reactContainer$"+_n,qo="__reactEvents$"+_n,Ag="__reactListeners$"+_n,Rg="__reactHandles$"+_n;function Wr(e){var t=e[Vt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[rr]||i[Vt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=wd(e);e!==null;){if(i=e[Vt])return i;e=wd(e)}return t}e=i,i=e.parentNode}return null}function Is(e){return e=e[Vt]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Fa(e){return e[Ls]||null}var Wo=[],Cn=-1;function Sr(e){return{current:e}}function Ie(e){0>Cn||(e.current=Wo[Cn],Wo[Cn]=null,Cn--)}function Te(e,t){Cn++,Wo[Cn]=e.current,e.current=t}var Cr={},nt=Sr(Cr),dt=Sr(!1),Gr=Cr;function En(e,t){var i=e.type.contextTypes;if(!i)return Cr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in i)h[p]=t[p];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function ht(e){return e=e.childContextTypes,e!=null}function Ba(){Ie(dt),Ie(nt)}function bd(e,t,i){if(nt.current!==Cr)throw Error(s(168));Te(nt,t),Te(dt,i)}function jd(e,t,i){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in t))throw Error(s(108,Y(e)||"Unknown",h));return J({},i,u)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Gr=nt.current,Te(nt,e),Te(dt,dt.current),!0}function Nd(e,t,i){var u=e.stateNode;if(!u)throw Error(s(169));i?(e=jd(e,t,Gr),u.__reactInternalMemoizedMergedChildContext=e,Ie(dt),Ie(nt),Te(nt,e)):Ie(dt),Te(dt,i)}var nr=null,qa=!1,Go=!1;function kd(e){nr===null?nr=[e]:nr.push(e)}function Lg(e){qa=!0,kd(e)}function Er(){if(!Go&&nr!==null){Go=!0;var e=0,t=Pe;try{var i=nr;for(Pe=1;e<i.length;e++){var u=i[e];do u=u(!0);while(u!==null)}nr=null,qa=!1}catch(h){throw nr!==null&&(nr=nr.slice(e+1)),Su(fo,Er),h}finally{Pe=t,Go=!1}}return null}var Pn=[],Tn=0,Wa=null,Ga=0,Et=[],Pt=0,Hr=null,sr=1,ar="";function Vr(e,t){Pn[Tn++]=Ga,Pn[Tn++]=Wa,Wa=e,Ga=t}function _d(e,t,i){Et[Pt++]=sr,Et[Pt++]=ar,Et[Pt++]=Hr,Hr=e;var u=sr;e=ar;var h=32-It(u)-1;u&=~(1<<h),i+=1;var p=32-It(t)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,sr=1<<32-It(t)+h|i<<h|u,ar=p+e}else sr=1<<p|i<<h|u,ar=e}function Ho(e){e.return!==null&&(Vr(e,1),_d(e,1,0))}function Vo(e){for(;e===Wa;)Wa=Pn[--Tn],Pn[Tn]=null,Ga=Pn[--Tn],Pn[Tn]=null;for(;e===Hr;)Hr=Et[--Pt],Et[Pt]=null,ar=Et[--Pt],Et[Pt]=null,sr=Et[--Pt],Et[Pt]=null}var Nt=null,kt=null,Oe=!1,Mt=null;function Sd(e,t){var i=Lt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Cd(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,kt=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Hr!==null?{id:sr,overflow:ar}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Lt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Nt=e,kt=null,!0):!1;default:return!1}}function Ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jo(e){if(Oe){var t=kt;if(t){var i=t;if(!Cd(e,t)){if(Ko(e))throw Error(s(418));t=_r(i.nextSibling);var u=Nt;t&&Cd(e,t)?Sd(u,i):(e.flags=e.flags&-4097|2,Oe=!1,Nt=e)}}else{if(Ko(e))throw Error(s(418));e.flags=e.flags&-4097|2,Oe=!1,Nt=e}}}function Ed(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function Ha(e){if(e!==Nt)return!1;if(!Oe)return Ed(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fo(e.type,e.memoizedProps)),t&&(t=kt)){if(Ko(e))throw Pd(),Error(s(418));for(;t;)Sd(e,t),t=_r(t.nextSibling)}if(Ed(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){kt=_r(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=Nt?_r(e.stateNode.nextSibling):null;return!0}function Pd(){for(var e=kt;e;)e=_r(e.nextSibling)}function An(){kt=Nt=null,Oe=!1}function Qo(e){Mt===null?Mt=[e]:Mt.push(e)}var Ig=L.ReactCurrentBatchConfig;function Os(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var u=i.stateNode}if(!u)throw Error(s(147,e));var h=u,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(v){var k=h.refs;v===null?delete k[p]:k[p]=v},t._stringRef=p,t)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Td(e){var t=e._init;return t(e._payload)}function Ad(e){function t(O,R){if(e){var M=O.deletions;M===null?(O.deletions=[R],O.flags|=16):M.push(R)}}function i(O,R){if(!e)return null;for(;R!==null;)t(O,R),R=R.sibling;return null}function u(O,R){for(O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function h(O,R){return O=Mr(O,R),O.index=0,O.sibling=null,O}function p(O,R,M){return O.index=M,e?(M=O.alternate,M!==null?(M=M.index,M<R?(O.flags|=2,R):M):(O.flags|=2,R)):(O.flags|=1048576,R)}function v(O){return e&&O.alternate===null&&(O.flags|=2),O}function k(O,R,M,X){return R===null||R.tag!==6?(R=Bl(M,O.mode,X),R.return=O,R):(R=h(R,M),R.return=O,R)}function T(O,R,M,X){var de=M.type;return de===z?G(O,R,M.props.children,X,M.key):R!==null&&(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ee&&Td(de)===R.type)?(X=h(R,M.props),X.ref=Os(O,R,M),X.return=O,X):(X=xi(M.type,M.key,M.props,null,O.mode,X),X.ref=Os(O,R,M),X.return=O,X)}function D(O,R,M,X){return R===null||R.tag!==4||R.stateNode.containerInfo!==M.containerInfo||R.stateNode.implementation!==M.implementation?(R=zl(M,O.mode,X),R.return=O,R):(R=h(R,M.children||[]),R.return=O,R)}function G(O,R,M,X,de){return R===null||R.tag!==7?(R=tn(M,O.mode,X,de),R.return=O,R):(R=h(R,M),R.return=O,R)}function V(O,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Bl(""+R,O.mode,M),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case I:return M=xi(R.type,R.key,R.props,null,O.mode,M),M.ref=Os(O,null,R),M.return=O,M;case U:return R=zl(R,O.mode,M),R.return=O,R;case Ee:var X=R._init;return V(O,X(R._payload),M)}if(us(R)||K(R))return R=tn(R,O.mode,M,null),R.return=O,R;Va(O,R)}return null}function W(O,R,M,X){var de=R!==null?R.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return de!==null?null:k(O,R,""+M,X);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return M.key===de?T(O,R,M,X):null;case U:return M.key===de?D(O,R,M,X):null;case Ee:return de=M._init,W(O,R,de(M._payload),X)}if(us(M)||K(M))return de!==null?null:G(O,R,M,X,null);Va(O,M)}return null}function ne(O,R,M,X,de){if(typeof X=="string"&&X!==""||typeof X=="number")return O=O.get(M)||null,k(R,O,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case I:return O=O.get(X.key===null?M:X.key)||null,T(R,O,X,de);case U:return O=O.get(X.key===null?M:X.key)||null,D(R,O,X,de);case Ee:var fe=X._init;return ne(O,R,M,fe(X._payload),de)}if(us(X)||K(X))return O=O.get(M)||null,G(R,O,X,de,null);Va(R,X)}return null}function le(O,R,M,X){for(var de=null,fe=null,me=R,ge=R=0,Ye=null;me!==null&&ge<M.length;ge++){me.index>ge?(Ye=me,me=null):Ye=me.sibling;var Se=W(O,me,M[ge],X);if(Se===null){me===null&&(me=Ye);break}e&&me&&Se.alternate===null&&t(O,me),R=p(Se,R,ge),fe===null?de=Se:fe.sibling=Se,fe=Se,me=Ye}if(ge===M.length)return i(O,me),Oe&&Vr(O,ge),de;if(me===null){for(;ge<M.length;ge++)me=V(O,M[ge],X),me!==null&&(R=p(me,R,ge),fe===null?de=me:fe.sibling=me,fe=me);return Oe&&Vr(O,ge),de}for(me=u(O,me);ge<M.length;ge++)Ye=ne(me,O,ge,M[ge],X),Ye!==null&&(e&&Ye.alternate!==null&&me.delete(Ye.key===null?ge:Ye.key),R=p(Ye,R,ge),fe===null?de=Ye:fe.sibling=Ye,fe=Ye);return e&&me.forEach(function(Dr){return t(O,Dr)}),Oe&&Vr(O,ge),de}function ue(O,R,M,X){var de=K(M);if(typeof de!="function")throw Error(s(150));if(M=de.call(M),M==null)throw Error(s(151));for(var fe=de=null,me=R,ge=R=0,Ye=null,Se=M.next();me!==null&&!Se.done;ge++,Se=M.next()){me.index>ge?(Ye=me,me=null):Ye=me.sibling;var Dr=W(O,me,Se.value,X);if(Dr===null){me===null&&(me=Ye);break}e&&me&&Dr.alternate===null&&t(O,me),R=p(Dr,R,ge),fe===null?de=Dr:fe.sibling=Dr,fe=Dr,me=Ye}if(Se.done)return i(O,me),Oe&&Vr(O,ge),de;if(me===null){for(;!Se.done;ge++,Se=M.next())Se=V(O,Se.value,X),Se!==null&&(R=p(Se,R,ge),fe===null?de=Se:fe.sibling=Se,fe=Se);return Oe&&Vr(O,ge),de}for(me=u(O,me);!Se.done;ge++,Se=M.next())Se=ne(me,O,ge,Se.value,X),Se!==null&&(e&&Se.alternate!==null&&me.delete(Se.key===null?ge:Se.key),R=p(Se,R,ge),fe===null?de=Se:fe.sibling=Se,fe=Se);return e&&me.forEach(function(f0){return t(O,f0)}),Oe&&Vr(O,ge),de}function Be(O,R,M,X){if(typeof M=="object"&&M!==null&&M.type===z&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case I:e:{for(var de=M.key,fe=R;fe!==null;){if(fe.key===de){if(de=M.type,de===z){if(fe.tag===7){i(O,fe.sibling),R=h(fe,M.props.children),R.return=O,O=R;break e}}else if(fe.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ee&&Td(de)===fe.type){i(O,fe.sibling),R=h(fe,M.props),R.ref=Os(O,fe,M),R.return=O,O=R;break e}i(O,fe);break}else t(O,fe);fe=fe.sibling}M.type===z?(R=tn(M.props.children,O.mode,X,M.key),R.return=O,O=R):(X=xi(M.type,M.key,M.props,null,O.mode,X),X.ref=Os(O,R,M),X.return=O,O=X)}return v(O);case U:e:{for(fe=M.key;R!==null;){if(R.key===fe)if(R.tag===4&&R.stateNode.containerInfo===M.containerInfo&&R.stateNode.implementation===M.implementation){i(O,R.sibling),R=h(R,M.children||[]),R.return=O,O=R;break e}else{i(O,R);break}else t(O,R);R=R.sibling}R=zl(M,O.mode,X),R.return=O,O=R}return v(O);case Ee:return fe=M._init,Be(O,R,fe(M._payload),X)}if(us(M))return le(O,R,M,X);if(K(M))return ue(O,R,M,X);Va(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,R!==null&&R.tag===6?(i(O,R.sibling),R=h(R,M),R.return=O,O=R):(i(O,R),R=Bl(M,O.mode,X),R.return=O,O=R),v(O)):i(O,R)}return Be}var Rn=Ad(!0),Rd=Ad(!1),Ka=Sr(null),Ja=null,Ln=null,Yo=null;function Xo(){Yo=Ln=Ja=null}function Zo(e){var t=Ka.current;Ie(Ka),e._currentValue=t}function el(e,t,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===i)break;e=e.return}}function In(e,t){Ja=e,Yo=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ft=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Yo!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if(Ja===null)throw Error(s(308));Ln=e,Ja.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var Kr=null;function tl(e){Kr===null?Kr=[e]:Kr.push(e)}function Ld(e,t,i,u){var h=t.interleaved;return h===null?(i.next=i,tl(t)):(i.next=h.next,h.next=i),t.interleaved=i,ir(e,u)}function ir(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Pr=!1;function rl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Id(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(e,t,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(_e&2)!==0){var h=u.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),u.pending=t,ir(e,i)}return h=u.interleaved,h===null?(t.next=t,tl(u)):(t.next=h.next,h.next=t),u.interleaved=t,ir(e,i)}function Qa(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,i|=u,t.lanes=i,go(e,i)}}function Od(e,t){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var v={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?h=p=v:p=p.next=v,i=i.next}while(i!==null);p===null?h=p=t:p=p.next=t}else h=p=t;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ya(e,t,i,u){var h=e.updateQueue;Pr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,k=h.shared.pending;if(k!==null){h.shared.pending=null;var T=k,D=T.next;T.next=null,v===null?p=D:v.next=D,v=T;var G=e.alternate;G!==null&&(G=G.updateQueue,k=G.lastBaseUpdate,k!==v&&(k===null?G.firstBaseUpdate=D:k.next=D,G.lastBaseUpdate=T))}if(p!==null){var V=h.baseState;v=0,G=D=T=null,k=p;do{var W=k.lane,ne=k.eventTime;if((u&W)===W){G!==null&&(G=G.next={eventTime:ne,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var le=e,ue=k;switch(W=t,ne=i,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){V=le.call(ne,V,W);break e}V=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,W=typeof le=="function"?le.call(ne,V,W):le,W==null)break e;V=J({},V,W);break e;case 2:Pr=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,W=h.effects,W===null?h.effects=[k]:W.push(k))}else ne={eventTime:ne,lane:W,tag:k.tag,payload:k.payload,callback:k.callback,next:null},G===null?(D=G=ne,T=V):G=G.next=ne,v|=W;if(k=k.next,k===null){if(k=h.shared.pending,k===null)break;W=k,k=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);if(G===null&&(T=V),h.baseState=T,h.firstBaseUpdate=D,h.lastBaseUpdate=G,t=h.shared.interleaved,t!==null){h=t;do v|=h.lane,h=h.next;while(h!==t)}else p===null&&(h.shared.lanes=0);Yr|=v,e.lanes=v,e.memoizedState=V}}function Md(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(s(191,h));h.call(u)}}}var Ms={},Kt=Sr(Ms),Ds=Sr(Ms),Us=Sr(Ms);function Jr(e){if(e===Ms)throw Error(s(174));return e}function nl(e,t){switch(Te(Us,t),Te(Ds,e),Te(Kt,Ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:no(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=no(t,e)}Ie(Kt),Te(Kt,t)}function On(){Ie(Kt),Ie(Ds),Ie(Us)}function Dd(e){Jr(Us.current);var t=Jr(Kt.current),i=no(t,e.type);t!==i&&(Te(Ds,e),Te(Kt,i))}function sl(e){Ds.current===e&&(Ie(Kt),Ie(Ds))}var Me=Sr(0);function Xa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var al=[];function il(){for(var e=0;e<al.length;e++)al[e]._workInProgressVersionPrimary=null;al.length=0}var Za=L.ReactCurrentDispatcher,ol=L.ReactCurrentBatchConfig,Qr=0,De=null,We=null,Je=null,ei=!1,$s=!1,Fs=0,Og=0;function st(){throw Error(s(321))}function ll(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ot(e[i],t[i]))return!1;return!0}function cl(e,t,i,u,h,p){if(Qr=p,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Za.current=e===null||e.memoizedState===null?$g:Fg,e=i(u,h),$s){p=0;do{if($s=!1,Fs=0,25<=p)throw Error(s(301));p+=1,Je=We=null,t.updateQueue=null,Za.current=Bg,e=i(u,h)}while($s)}if(Za.current=ni,t=We!==null&&We.next!==null,Qr=0,Je=We=De=null,ei=!1,t)throw Error(s(300));return e}function ul(){var e=Fs!==0;return Fs=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?De.memoizedState=Je=e:Je=Je.next=e,Je}function At(){if(We===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Je===null?De.memoizedState:Je.next;if(t!==null)Je=t,We=e;else{if(e===null)throw Error(s(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Je===null?De.memoizedState=Je=e:Je=Je.next=e}return Je}function Bs(e,t){return typeof t=="function"?t(e):t}function dl(e){var t=At(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var u=We,h=u.baseQueue,p=i.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,i.pending=null}if(h!==null){p=h.next,u=u.baseState;var k=v=null,T=null,D=p;do{var G=D.lane;if((Qr&G)===G)T!==null&&(T=T.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),u=D.hasEagerState?D.eagerState:e(u,D.action);else{var V={lane:G,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};T===null?(k=T=V,v=u):T=T.next=V,De.lanes|=G,Yr|=G}D=D.next}while(D!==null&&D!==p);T===null?v=u:T.next=k,Ot(u,t.memoizedState)||(ft=!0),t.memoizedState=u,t.baseState=v,t.baseQueue=T,i.lastRenderedState=u}if(e=i.interleaved,e!==null){h=e;do p=h.lane,De.lanes|=p,Yr|=p,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function hl(e){var t=At(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var u=i.dispatch,h=i.pending,p=t.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do p=e(p,v.action),v=v.next;while(v!==h);Ot(p,t.memoizedState)||(ft=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),i.lastRenderedState=p}return[p,u]}function Ud(){}function $d(e,t){var i=De,u=At(),h=t(),p=!Ot(u.memoizedState,h);if(p&&(u.memoizedState=h,ft=!0),u=u.queue,fl(zd.bind(null,i,u,e),[e]),u.getSnapshot!==t||p||Je!==null&&Je.memoizedState.tag&1){if(i.flags|=2048,zs(9,Bd.bind(null,i,u,h,t),void 0,null),Qe===null)throw Error(s(349));(Qr&30)!==0||Fd(i,t,h)}return h}function Fd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Bd(e,t,i,u){t.value=i,t.getSnapshot=u,qd(t)&&Wd(e)}function zd(e,t,i){return i(function(){qd(t)&&Wd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ot(e,i)}catch{return!0}}function Wd(e){var t=ir(e,1);t!==null&&Ft(t,e,1,-1)}function Gd(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ug.bind(null,De,e),[t.memoizedState,e]}function zs(e,t,i,u){return e={tag:e,create:t,destroy:i,deps:u,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,t.lastEffect=e)),e}function Hd(){return At().memoizedState}function ti(e,t,i,u){var h=Jt();De.flags|=e,h.memoizedState=zs(1|t,i,void 0,u===void 0?null:u)}function ri(e,t,i,u){var h=At();u=u===void 0?null:u;var p=void 0;if(We!==null){var v=We.memoizedState;if(p=v.destroy,u!==null&&ll(u,v.deps)){h.memoizedState=zs(t,i,p,u);return}}De.flags|=e,h.memoizedState=zs(1|t,i,p,u)}function Vd(e,t){return ti(8390656,8,e,t)}function fl(e,t){return ri(2048,8,e,t)}function Kd(e,t){return ri(4,2,e,t)}function Jd(e,t){return ri(4,4,e,t)}function Qd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yd(e,t,i){return i=i!=null?i.concat([e]):null,ri(4,4,Qd.bind(null,t,e),i)}function ml(){}function Xd(e,t){var i=At();t=t===void 0?null:t;var u=i.memoizedState;return u!==null&&t!==null&&ll(t,u[1])?u[0]:(i.memoizedState=[e,t],e)}function Zd(e,t){var i=At();t=t===void 0?null:t;var u=i.memoizedState;return u!==null&&t!==null&&ll(t,u[1])?u[0]:(e=e(),i.memoizedState=[e,t],e)}function eh(e,t,i){return(Qr&21)===0?(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=i):(Ot(i,t)||(i=Tu(),De.lanes|=i,Yr|=i,e.baseState=!0),t)}function Mg(e,t){var i=Pe;Pe=i!==0&&4>i?i:4,e(!0);var u=ol.transition;ol.transition={};try{e(!1),t()}finally{Pe=i,ol.transition=u}}function th(){return At().memoizedState}function Dg(e,t,i){var u=Ir(e);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},rh(e))nh(t,i);else if(i=Ld(e,t,i,u),i!==null){var h=lt();Ft(i,e,u,h),sh(i,t,u)}}function Ug(e,t,i){var u=Ir(e),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(rh(e))nh(t,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var v=t.lastRenderedState,k=p(v,i);if(h.hasEagerState=!0,h.eagerState=k,Ot(k,v)){var T=t.interleaved;T===null?(h.next=h,tl(t)):(h.next=T.next,T.next=h),t.interleaved=h;return}}catch{}finally{}i=Ld(e,t,h,u),i!==null&&(h=lt(),Ft(i,e,u,h),sh(i,t,u))}}function rh(e){var t=e.alternate;return e===De||t!==null&&t===De}function nh(e,t){$s=ei=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function sh(e,t,i){if((i&4194240)!==0){var u=t.lanes;u&=e.pendingLanes,i|=u,t.lanes=i,go(e,i)}}var ni={readContext:Tt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},$g={readContext:Tt,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Vd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,ti(4194308,4,Qd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return ti(4,2,e,t)},useMemo:function(e,t){var i=Jt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var u=Jt();return t=i!==void 0?i(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=Dg.bind(null,De,e),[u.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:Gd,useDebugValue:ml,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=Gd(!1),t=e[0];return e=Mg.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var u=De,h=Jt();if(Oe){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Qe===null)throw Error(s(349));(Qr&30)!==0||Fd(u,t,i)}h.memoizedState=i;var p={value:i,getSnapshot:t};return h.queue=p,Vd(zd.bind(null,u,p,e),[e]),u.flags|=2048,zs(9,Bd.bind(null,u,p,i,t),void 0,null),i},useId:function(){var e=Jt(),t=Qe.identifierPrefix;if(Oe){var i=ar,u=sr;i=(u&~(1<<32-It(u)-1)).toString(32)+i,t=":"+t+"R"+i,i=Fs++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Og++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fg={readContext:Tt,useCallback:Xd,useContext:Tt,useEffect:fl,useImperativeHandle:Yd,useInsertionEffect:Kd,useLayoutEffect:Jd,useMemo:Zd,useReducer:dl,useRef:Hd,useState:function(){return dl(Bs)},useDebugValue:ml,useDeferredValue:function(e){var t=At();return eh(t,We.memoizedState,e)},useTransition:function(){var e=dl(Bs)[0],t=At().memoizedState;return[e,t]},useMutableSource:Ud,useSyncExternalStore:$d,useId:th,unstable_isNewReconciler:!1},Bg={readContext:Tt,useCallback:Xd,useContext:Tt,useEffect:fl,useImperativeHandle:Yd,useInsertionEffect:Kd,useLayoutEffect:Jd,useMemo:Zd,useReducer:hl,useRef:Hd,useState:function(){return hl(Bs)},useDebugValue:ml,useDeferredValue:function(e){var t=At();return We===null?t.memoizedState=e:eh(t,We.memoizedState,e)},useTransition:function(){var e=hl(Bs)[0],t=At().memoizedState;return[e,t]},useMutableSource:Ud,useSyncExternalStore:$d,useId:th,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function pl(e,t,i,u){t=e.memoizedState,i=i(u,t),i=i==null?t:J({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var si={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var u=lt(),h=Ir(e),p=or(u,h);p.payload=t,i!=null&&(p.callback=i),t=Tr(e,p,h),t!==null&&(Ft(t,e,h,u),Qa(t,e,h))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var u=lt(),h=Ir(e),p=or(u,h);p.tag=1,p.payload=t,i!=null&&(p.callback=i),t=Tr(e,p,h),t!==null&&(Ft(t,e,h,u),Qa(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=lt(),u=Ir(e),h=or(i,u);h.tag=2,t!=null&&(h.callback=t),t=Tr(e,h,u),t!==null&&(Ft(t,e,u,i),Qa(t,e,u))}};function ah(e,t,i,u,h,p,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,v):t.prototype&&t.prototype.isPureReactComponent?!Es(i,u)||!Es(h,p):!0}function ih(e,t,i){var u=!1,h=Cr,p=t.contextType;return typeof p=="object"&&p!==null?p=Tt(p):(h=ht(t)?Gr:nt.current,u=t.contextTypes,p=(u=u!=null)?En(e,h):Cr),t=new t(i,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=si,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),t}function oh(e,t,i,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,u),t.state!==e&&si.enqueueReplaceState(t,t.state,null)}function gl(e,t,i,u){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},rl(e);var p=t.contextType;typeof p=="object"&&p!==null?h.context=Tt(p):(p=ht(t)?Gr:nt.current,h.context=En(e,p)),h.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(pl(e,t,p,i),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&si.enqueueReplaceState(h,h.state,null),Ya(e,i,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Mn(e,t){try{var i="",u=t;do i+=xe(u),u=u.return;while(u);var h=i}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:h,digest:null}}function xl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function yl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var zg=typeof WeakMap=="function"?WeakMap:Map;function lh(e,t,i){i=or(-1,i),i.tag=3,i.payload={element:null};var u=t.value;return i.callback=function(){di||(di=!0,Ll=u),yl(e,t)},i}function ch(e,t,i){i=or(-1,i),i.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=t.value;i.payload=function(){return u(h)},i.callback=function(){yl(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){yl(e,t),typeof u!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),i}function uh(e,t,i){var u=e.pingCache;if(u===null){u=e.pingCache=new zg;var h=new Set;u.set(t,h)}else h=u.get(t),h===void 0&&(h=new Set,u.set(t,h));h.has(i)||(h.add(i),e=r0.bind(null,e,t,i),t.then(e,e))}function dh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hh(e,t,i,u,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=or(-1,1),t.tag=2,Tr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var qg=L.ReactCurrentOwner,ft=!1;function ot(e,t,i,u){t.child=e===null?Rd(t,null,i,u):Rn(t,e.child,i,u)}function fh(e,t,i,u,h){i=i.render;var p=t.ref;return In(t,h),u=cl(e,t,i,u,p,h),i=ul(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,lr(e,t,h)):(Oe&&i&&Ho(t),t.flags|=1,ot(e,t,u,h),t.child)}function mh(e,t,i,u,h){if(e===null){var p=i.type;return typeof p=="function"&&!Fl(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=p,ph(e,t,p,u,h)):(e=xi(i.type,null,u,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,(e.lanes&h)===0){var v=p.memoizedProps;if(i=i.compare,i=i!==null?i:Es,i(v,u)&&e.ref===t.ref)return lr(e,t,h)}return t.flags|=1,e=Mr(p,u),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,i,u,h){if(e!==null){var p=e.memoizedProps;if(Es(p,u)&&e.ref===t.ref)if(ft=!1,t.pendingProps=u=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,lr(e,t,h)}return vl(e,t,i,u,h)}function gh(e,t,i){var u=t.pendingProps,h=u.children,p=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Un,_t),_t|=i;else{if((i&1073741824)===0)return e=p!==null?p.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Un,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:i,Te(Un,_t),_t|=u}else p!==null?(u=p.baseLanes|i,t.memoizedState=null):u=i,Te(Un,_t),_t|=u;return ot(e,t,h,i),t.child}function xh(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function vl(e,t,i,u,h){var p=ht(i)?Gr:nt.current;return p=En(t,p),In(t,h),i=cl(e,t,i,u,p,h),u=ul(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,lr(e,t,h)):(Oe&&u&&Ho(t),t.flags|=1,ot(e,t,i,h),t.child)}function yh(e,t,i,u,h){if(ht(i)){var p=!0;za(t)}else p=!1;if(In(t,h),t.stateNode===null)ii(e,t),ih(t,i,u),gl(t,i,u,h),u=!0;else if(e===null){var v=t.stateNode,k=t.memoizedProps;v.props=k;var T=v.context,D=i.contextType;typeof D=="object"&&D!==null?D=Tt(D):(D=ht(i)?Gr:nt.current,D=En(t,D));var G=i.getDerivedStateFromProps,V=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function";V||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==u||T!==D)&&oh(t,v,u,D),Pr=!1;var W=t.memoizedState;v.state=W,Ya(t,u,v,h),T=t.memoizedState,k!==u||W!==T||dt.current||Pr?(typeof G=="function"&&(pl(t,i,G,u),T=t.memoizedState),(k=Pr||ah(t,i,k,u,W,T,D))?(V||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=T),v.props=u,v.state=T,v.context=D,u=k):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{v=t.stateNode,Id(e,t),k=t.memoizedProps,D=t.type===t.elementType?k:Dt(t.type,k),v.props=D,V=t.pendingProps,W=v.context,T=i.contextType,typeof T=="object"&&T!==null?T=Tt(T):(T=ht(i)?Gr:nt.current,T=En(t,T));var ne=i.getDerivedStateFromProps;(G=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==V||W!==T)&&oh(t,v,u,T),Pr=!1,W=t.memoizedState,v.state=W,Ya(t,u,v,h);var le=t.memoizedState;k!==V||W!==le||dt.current||Pr?(typeof ne=="function"&&(pl(t,i,ne,u),le=t.memoizedState),(D=Pr||ah(t,i,D,u,W,le,T)||!1)?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,le,T),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,le,T)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=le),v.props=u,v.state=le,v.context=T,u=D):(typeof v.componentDidUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),u=!1)}return wl(e,t,i,u,p,h)}function wl(e,t,i,u,h,p){xh(e,t);var v=(t.flags&128)!==0;if(!u&&!v)return h&&Nd(t,i,!1),lr(e,t,p);u=t.stateNode,qg.current=t;var k=v&&typeof i.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&v?(t.child=Rn(t,e.child,null,p),t.child=Rn(t,null,k,p)):ot(e,t,k,p),t.memoizedState=u.state,h&&Nd(t,i,!0),t.child}function vh(e){var t=e.stateNode;t.pendingContext?bd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bd(e,t.context,!1),nl(e,t.containerInfo)}function wh(e,t,i,u,h){return An(),Qo(h),t.flags|=256,ot(e,t,i,u),t.child}var bl={dehydrated:null,treeContext:null,retryLane:0};function jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function bh(e,t,i){var u=t.pendingProps,h=Me.current,p=!1,v=(t.flags&128)!==0,k;if((k=v)||(k=e!==null&&e.memoizedState===null?!1:(h&2)!==0),k?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Te(Me,h&1),e===null)return Jo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(v=u.children,e=u.fallback,p?(u=t.mode,p=t.child,v={mode:"hidden",children:v},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=yi(v,u,0,null),e=tn(e,u,i,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=jl(i),t.memoizedState=bl,e):Nl(t,v));if(h=e.memoizedState,h!==null&&(k=h.dehydrated,k!==null))return Wg(e,t,v,u,k,h,i);if(p){p=u.fallback,v=t.mode,h=e.child,k=h.sibling;var T={mode:"hidden",children:u.children};return(v&1)===0&&t.child!==h?(u=t.child,u.childLanes=0,u.pendingProps=T,t.deletions=null):(u=Mr(h,T),u.subtreeFlags=h.subtreeFlags&14680064),k!==null?p=Mr(k,p):(p=tn(p,v,i,null),p.flags|=2),p.return=t,u.return=t,u.sibling=p,t.child=u,u=p,p=t.child,v=e.child.memoizedState,v=v===null?jl(i):{baseLanes:v.baseLanes|i,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=e.childLanes&~i,t.memoizedState=bl,u}return p=e.child,e=p.sibling,u=Mr(p,{mode:"visible",children:u.children}),(t.mode&1)===0&&(u.lanes=i),u.return=t,u.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=u,t.memoizedState=null,u}function Nl(e,t){return t=yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ai(e,t,i,u){return u!==null&&Qo(u),Rn(t,e.child,null,i),e=Nl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wg(e,t,i,u,h,p,v){if(i)return t.flags&256?(t.flags&=-257,u=xl(Error(s(422))),ai(e,t,v,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=u.fallback,h=t.mode,u=yi({mode:"visible",children:u.children},h,0,null),p=tn(p,h,v,null),p.flags|=2,u.return=t,p.return=t,u.sibling=p,t.child=u,(t.mode&1)!==0&&Rn(t,e.child,null,v),t.child.memoizedState=jl(v),t.memoizedState=bl,p);if((t.mode&1)===0)return ai(e,t,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var k=u.dgst;return u=k,p=Error(s(419)),u=xl(p,u,void 0),ai(e,t,v,u)}if(k=(v&e.childLanes)!==0,ft||k){if(u=Qe,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|v))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ir(e,h),Ft(u,e,h,-1))}return $l(),u=xl(Error(s(421))),ai(e,t,v,u)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=n0.bind(null,e),h._reactRetry=t,null):(e=p.treeContext,kt=_r(h.nextSibling),Nt=t,Oe=!0,Mt=null,e!==null&&(Et[Pt++]=sr,Et[Pt++]=ar,Et[Pt++]=Hr,sr=e.id,ar=e.overflow,Hr=t),t=Nl(t,u.children),t.flags|=4096,t)}function jh(e,t,i){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),el(e.return,t,i)}function kl(e,t,i,u,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=i,p.tailMode=h)}function Nh(e,t,i){var u=t.pendingProps,h=u.revealOrder,p=u.tail;if(ot(e,t,u.children,i),u=Me.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jh(e,i,t);else if(e.tag===19)jh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Te(Me,u),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(i=t.child,h=null;i!==null;)e=i.alternate,e!==null&&Xa(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=t.child,t.child=null):(h=i.sibling,i.sibling=null),kl(t,!1,h,i,p);break;case"backwards":for(i=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Xa(e)===null){t.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}kl(t,!0,i,null,p);break;case"together":kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ii(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Mr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Mr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Gg(e,t,i){switch(t.tag){case 3:vh(t),An();break;case 5:Dd(t);break;case 1:ht(t.type)&&za(t);break;case 4:nl(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,h=t.memoizedProps.value;Te(Ka,u._currentValue),u._currentValue=h;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(Te(Me,Me.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?bh(e,t,i):(Te(Me,Me.current&1),e=lr(e,t,i),e!==null?e.sibling:null);Te(Me,Me.current&1);break;case 19:if(u=(i&t.childLanes)!==0,(e.flags&128)!==0){if(u)return Nh(e,t,i);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Te(Me,Me.current),u)break;return null;case 22:case 23:return t.lanes=0,gh(e,t,i)}return lr(e,t,i)}var kh,_l,_h,Sh;kh=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},_l=function(){},_h=function(e,t,i,u){var h=e.memoizedProps;if(h!==u){e=t.stateNode,Jr(Kt.current);var p=null;switch(i){case"input":h=pn(e,h),u=pn(e,u),p=[];break;case"select":h=J({},h,{value:void 0}),u=J({},u,{value:void 0}),p=[];break;case"textarea":h=ro(e,h),u=ro(e,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=$a)}so(i,u);var v;i=null;for(D in h)if(!u.hasOwnProperty(D)&&h.hasOwnProperty(D)&&h[D]!=null)if(D==="style"){var k=h[D];for(v in k)k.hasOwnProperty(v)&&(i||(i={}),i[v]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(o.hasOwnProperty(D)?p||(p=[]):(p=p||[]).push(D,null));for(D in u){var T=u[D];if(k=h!=null?h[D]:void 0,u.hasOwnProperty(D)&&T!==k&&(T!=null||k!=null))if(D==="style")if(k){for(v in k)!k.hasOwnProperty(v)||T&&T.hasOwnProperty(v)||(i||(i={}),i[v]="");for(v in T)T.hasOwnProperty(v)&&k[v]!==T[v]&&(i||(i={}),i[v]=T[v])}else i||(p||(p=[]),p.push(D,i)),i=T;else D==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,k=k?k.__html:void 0,T!=null&&k!==T&&(p=p||[]).push(D,T)):D==="children"?typeof T!="string"&&typeof T!="number"||(p=p||[]).push(D,""+T):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(o.hasOwnProperty(D)?(T!=null&&D==="onScroll"&&Le("scroll",e),p||k===T||(p=[])):(p=p||[]).push(D,T))}i&&(p=p||[]).push("style",i);var D=p;(t.updateQueue=D)&&(t.flags|=4)}},Sh=function(e,t,i,u){i!==u&&(t.flags|=4)};function qs(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(t)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=i,t}function Hg(e,t,i){var u=t.pendingProps;switch(Vo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return ht(t.type)&&Ba(),at(t),null;case 3:return u=t.stateNode,On(),Ie(dt),Ie(nt),il(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Ha(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Mt!==null&&(Ml(Mt),Mt=null))),_l(e,t),at(t),null;case 5:sl(t);var h=Jr(Us.current);if(i=t.type,e!==null&&t.stateNode!=null)_h(e,t,i,u,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(s(166));return at(t),null}if(e=Jr(Kt.current),Ha(t)){u=t.stateNode,i=t.type;var p=t.memoizedProps;switch(u[Vt]=t,u[Ls]=p,e=(t.mode&1)!==0,i){case"dialog":Le("cancel",u),Le("close",u);break;case"iframe":case"object":case"embed":Le("load",u);break;case"video":case"audio":for(h=0;h<Ts.length;h++)Le(Ts[h],u);break;case"source":Le("error",u);break;case"img":case"image":case"link":Le("error",u),Le("load",u);break;case"details":Le("toggle",u);break;case"input":cs(u,p),Le("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Le("invalid",u);break;case"textarea":cu(u,p),Le("invalid",u)}so(i,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var k=p[v];v==="children"?typeof k=="string"?u.textContent!==k&&(p.suppressHydrationWarning!==!0&&Ua(u.textContent,k,e),h=["children",k]):typeof k=="number"&&u.textContent!==""+k&&(p.suppressHydrationWarning!==!0&&Ua(u.textContent,k,e),h=["children",""+k]):o.hasOwnProperty(v)&&k!=null&&v==="onScroll"&&Le("scroll",u)}switch(i){case"input":wt(u),lu(u,p,!0);break;case"textarea":wt(u),du(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=$a)}u=h,t.updateQueue=u,u!==null&&(t.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hu(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=v.createElement(i,{is:u.is}):(e=v.createElement(i),i==="select"&&(v=e,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):e=v.createElementNS(e,i),e[Vt]=t,e[Ls]=u,kh(e,t,!1,!1),t.stateNode=e;e:{switch(v=ao(i,u),i){case"dialog":Le("cancel",e),Le("close",e),h=u;break;case"iframe":case"object":case"embed":Le("load",e),h=u;break;case"video":case"audio":for(h=0;h<Ts.length;h++)Le(Ts[h],e);h=u;break;case"source":Le("error",e),h=u;break;case"img":case"image":case"link":Le("error",e),Le("load",e),h=u;break;case"details":Le("toggle",e),h=u;break;case"input":cs(e,u),h=pn(e,u),Le("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=J({},u,{value:void 0}),Le("invalid",e);break;case"textarea":cu(e,u),h=ro(e,u),Le("invalid",e);break;default:h=u}so(i,h),k=h;for(p in k)if(k.hasOwnProperty(p)){var T=k[p];p==="style"?pu(e,T):p==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&fu(e,T)):p==="children"?typeof T=="string"?(i!=="textarea"||T!=="")&&ds(e,T):typeof T=="number"&&ds(e,""+T):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?T!=null&&p==="onScroll"&&Le("scroll",e):T!=null&&S(e,p,T,v))}switch(i){case"input":wt(e),lu(e,u,!1);break;case"textarea":wt(e),du(e);break;case"option":u.value!=null&&e.setAttribute("value",""+re(u.value));break;case"select":e.multiple=!!u.multiple,p=u.value,p!=null?gn(e,!!u.multiple,p,!1):u.defaultValue!=null&&gn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=$a)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)Sh(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(s(166));if(i=Jr(Us.current),Jr(Kt.current),Ha(t)){if(u=t.stateNode,i=t.memoizedProps,u[Vt]=t,(p=u.nodeValue!==i)&&(e=Nt,e!==null))switch(e.tag){case 3:Ua(u.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ua(u.nodeValue,i,(e.mode&1)!==0)}p&&(t.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[Vt]=t,t.stateNode=u}return at(t),null;case 13:if(Ie(Me),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&kt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Pd(),An(),t.flags|=98560,p=!1;else if(p=Ha(t),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Vt]=t}else An(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),p=!1}else Mt!==null&&(Ml(Mt),Mt=null),p=!0;if(!p)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Me.current&1)!==0?Ge===0&&(Ge=3):$l())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return On(),_l(e,t),e===null&&As(t.stateNode.containerInfo),at(t),null;case 10:return Zo(t.type._context),at(t),null;case 17:return ht(t.type)&&Ba(),at(t),null;case 19:if(Ie(Me),p=t.memoizedState,p===null)return at(t),null;if(u=(t.flags&128)!==0,v=p.rendering,v===null)if(u)qs(p,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=Xa(e),v!==null){for(t.flags|=128,qs(p,!1),u=v.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=i,i=t.child;i!==null;)p=i,e=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,e=v.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Te(Me,Me.current&1|2),t.child}e=e.sibling}p.tail!==null&&Fe()>$n&&(t.flags|=128,u=!0,qs(p,!1),t.lanes=4194304)}else{if(!u)if(e=Xa(v),e!==null){if(t.flags|=128,u=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),qs(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Oe)return at(t),null}else 2*Fe()-p.renderingStartTime>$n&&i!==1073741824&&(t.flags|=128,u=!0,qs(p,!1),t.lanes=4194304);p.isBackwards?(v.sibling=t.child,t.child=v):(i=p.last,i!==null?i.sibling=v:t.child=v,p.last=v)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=Fe(),t.sibling=null,i=Me.current,Te(Me,u?i&1|2:i&1),t):(at(t),null);case 22:case 23:return Ul(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&(t.mode&1)!==0?(_t&1073741824)!==0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Vg(e,t){switch(Vo(t),t.tag){case 1:return ht(t.type)&&Ba(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return On(),Ie(dt),Ie(nt),il(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return sl(t),null;case 13:if(Ie(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));An()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Me),null;case 4:return On(),null;case 10:return Zo(t.type._context),null;case 22:case 23:return Ul(),null;case 24:return null;default:return null}}var oi=!1,it=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Dn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){$e(e,t,u)}else i.current=null}function Sl(e,t,i){try{i()}catch(u){$e(e,t,u)}}var Ch=!1;function Jg(e,t){if(Uo=Ca,e=ad(),To(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var v=0,k=-1,T=-1,D=0,G=0,V=e,W=null;t:for(;;){for(var ne;V!==i||h!==0&&V.nodeType!==3||(k=v+h),V!==p||u!==0&&V.nodeType!==3||(T=v+u),V.nodeType===3&&(v+=V.nodeValue.length),(ne=V.firstChild)!==null;)W=V,V=ne;for(;;){if(V===e)break t;if(W===i&&++D===h&&(k=v),W===p&&++G===u&&(T=v),(ne=V.nextSibling)!==null)break;V=W,W=V.parentNode}V=ne}i=k===-1||T===-1?null:{start:k,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for($o={focusedElem:e,selectionRange:i},Ca=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var le=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,Be=le.memoizedState,O=t.stateNode,R=O.getSnapshotBeforeUpdate(t.elementType===t.type?ue:Dt(t.type,ue),Be);O.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(X){$e(t,t.return,X)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return le=Ch,Ch=!1,le}function Ws(e,t,i){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&Sl(t,i,p)}h=h.next}while(h!==u)}}function li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var u=i.create;i.destroy=u()}i=i.next}while(i!==t)}}function Cl(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Eh(e){var t=e.alternate;t!==null&&(e.alternate=null,Eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[Ls],delete t[qo],delete t[Ag],delete t[Rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ph(e){return e.tag===5||e.tag===3||e.tag===4}function Th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function El(e,t,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=$a));else if(u!==4&&(e=e.child,e!==null))for(El(e,t,i),e=e.sibling;e!==null;)El(e,t,i),e=e.sibling}function Pl(e,t,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Pl(e,t,i),e=e.sibling;e!==null;)Pl(e,t,i),e=e.sibling}var et=null,Ut=!1;function Ar(e,t,i){for(i=i.child;i!==null;)Ah(e,t,i),i=i.sibling}function Ah(e,t,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ba,i)}catch{}switch(i.tag){case 5:it||Dn(i,t);case 6:var u=et,h=Ut;et=null,Ar(e,t,i),et=u,Ut=h,et!==null&&(Ut?(e=et,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):et.removeChild(i.stateNode));break;case 18:et!==null&&(Ut?(e=et,i=i.stateNode,e.nodeType===8?zo(e.parentNode,i):e.nodeType===1&&zo(e,i),js(e)):zo(et,i.stateNode));break;case 4:u=et,h=Ut,et=i.stateNode.containerInfo,Ut=!0,Ar(e,t,i),et=u,Ut=h;break;case 0:case 11:case 14:case 15:if(!it&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&Sl(i,t,v),h=h.next}while(h!==u)}Ar(e,t,i);break;case 1:if(!it&&(Dn(i,t),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(k){$e(i,t,k)}Ar(e,t,i);break;case 21:Ar(e,t,i);break;case 22:i.mode&1?(it=(u=it)||i.memoizedState!==null,Ar(e,t,i),it=u):Ar(e,t,i);break;default:Ar(e,t,i)}}function Rh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Kg),t.forEach(function(u){var h=s0.bind(null,e,u);i.has(u)||(i.add(u),u.then(h,h))})}}function $t(e,t){var i=t.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var p=e,v=t,k=v;e:for(;k!==null;){switch(k.tag){case 5:et=k.stateNode,Ut=!1;break e;case 3:et=k.stateNode.containerInfo,Ut=!0;break e;case 4:et=k.stateNode.containerInfo,Ut=!0;break e}k=k.return}if(et===null)throw Error(s(160));Ah(p,v,h),et=null,Ut=!1;var T=h.alternate;T!==null&&(T.return=null),h.return=null}catch(D){$e(h,t,D)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lh(t,e),t=t.sibling}function Lh(e,t){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),Qt(e),u&4){try{Ws(3,e,e.return),li(3,e)}catch(ue){$e(e,e.return,ue)}try{Ws(5,e,e.return)}catch(ue){$e(e,e.return,ue)}}break;case 1:$t(t,e),Qt(e),u&512&&i!==null&&Dn(i,i.return);break;case 5:if($t(t,e),Qt(e),u&512&&i!==null&&Dn(i,i.return),e.flags&32){var h=e.stateNode;try{ds(h,"")}catch(ue){$e(e,e.return,ue)}}if(u&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,v=i!==null?i.memoizedProps:p,k=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{k==="input"&&p.type==="radio"&&p.name!=null&&Re(h,p),ao(k,v);var D=ao(k,p);for(v=0;v<T.length;v+=2){var G=T[v],V=T[v+1];G==="style"?pu(h,V):G==="dangerouslySetInnerHTML"?fu(h,V):G==="children"?ds(h,V):S(h,G,V,D)}switch(k){case"input":bt(h,p);break;case"textarea":uu(h,p);break;case"select":var W=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ne=p.value;ne!=null?gn(h,!!p.multiple,ne,!1):W!==!!p.multiple&&(p.defaultValue!=null?gn(h,!!p.multiple,p.defaultValue,!0):gn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Ls]=p}catch(ue){$e(e,e.return,ue)}}break;case 6:if($t(t,e),Qt(e),u&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(ue){$e(e,e.return,ue)}}break;case 3:if($t(t,e),Qt(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{js(t.containerInfo)}catch(ue){$e(e,e.return,ue)}break;case 4:$t(t,e),Qt(e);break;case 13:$t(t,e),Qt(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Rl=Fe())),u&4&&Rh(e);break;case 22:if(G=i!==null&&i.memoizedState!==null,e.mode&1?(it=(D=it)||G,$t(t,e),it=D):$t(t,e),Qt(e),u&8192){if(D=e.memoizedState!==null,(e.stateNode.isHidden=D)&&!G&&(e.mode&1)!==0)for(oe=e,G=e.child;G!==null;){for(V=oe=G;oe!==null;){switch(W=oe,ne=W.child,W.tag){case 0:case 11:case 14:case 15:Ws(4,W,W.return);break;case 1:Dn(W,W.return);var le=W.stateNode;if(typeof le.componentWillUnmount=="function"){u=W,i=W.return;try{t=u,le.props=t.memoizedProps,le.state=t.memoizedState,le.componentWillUnmount()}catch(ue){$e(u,i,ue)}}break;case 5:Dn(W,W.return);break;case 22:if(W.memoizedState!==null){Mh(V);continue}}ne!==null?(ne.return=W,oe=ne):Mh(V)}G=G.sibling}e:for(G=null,V=e;;){if(V.tag===5){if(G===null){G=V;try{h=V.stateNode,D?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(k=V.stateNode,T=V.memoizedProps.style,v=T!=null&&T.hasOwnProperty("display")?T.display:null,k.style.display=mu("display",v))}catch(ue){$e(e,e.return,ue)}}}else if(V.tag===6){if(G===null)try{V.stateNode.nodeValue=D?"":V.memoizedProps}catch(ue){$e(e,e.return,ue)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;G===V&&(G=null),V=V.return}G===V&&(G=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:$t(t,e),Qt(e),u&4&&Rh(e);break;case 21:break;default:$t(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Ph(i)){var u=i;break e}i=i.return}throw Error(s(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(ds(h,""),u.flags&=-33);var p=Th(e);Pl(e,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,k=Th(e);El(e,k,v);break;default:throw Error(s(161))}}catch(T){$e(e,e.return,T)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qg(e,t,i){oe=e,Ih(e)}function Ih(e,t,i){for(var u=(e.mode&1)!==0;oe!==null;){var h=oe,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||oi;if(!v){var k=h.alternate,T=k!==null&&k.memoizedState!==null||it;k=oi;var D=it;if(oi=v,(it=T)&&!D)for(oe=h;oe!==null;)v=oe,T=v.child,v.tag===22&&v.memoizedState!==null?Dh(h):T!==null?(T.return=v,oe=T):Dh(h);for(;p!==null;)oe=p,Ih(p),p=p.sibling;oe=h,oi=k,it=D}Oh(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,oe=p):Oh(e)}}function Oh(e){for(;oe!==null;){var t=oe;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:it||li(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!it)if(i===null)u.componentDidMount();else{var h=t.elementType===t.type?i.memoizedProps:Dt(t.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&Md(t,p,u);break;case 3:var v=t.updateQueue;if(v!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Md(t,v,i)}break;case 5:var k=t.stateNode;if(i===null&&t.flags&4){i=k;var T=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&i.focus();break;case"img":T.src&&(i.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var D=t.alternate;if(D!==null){var G=D.memoizedState;if(G!==null){var V=G.dehydrated;V!==null&&js(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}it||t.flags&512&&Cl(t)}catch(W){$e(t,t.return,W)}}if(t===e){oe=null;break}if(i=t.sibling,i!==null){i.return=t.return,oe=i;break}oe=t.return}}function Mh(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var i=t.sibling;if(i!==null){i.return=t.return,oe=i;break}oe=t.return}}function Dh(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{li(4,t)}catch(T){$e(t,i,T)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var h=t.return;try{u.componentDidMount()}catch(T){$e(t,h,T)}}var p=t.return;try{Cl(t)}catch(T){$e(t,p,T)}break;case 5:var v=t.return;try{Cl(t)}catch(T){$e(t,v,T)}}}catch(T){$e(t,t.return,T)}if(t===e){oe=null;break}var k=t.sibling;if(k!==null){k.return=t.return,oe=k;break}oe=t.return}}var Yg=Math.ceil,ci=L.ReactCurrentDispatcher,Tl=L.ReactCurrentOwner,Rt=L.ReactCurrentBatchConfig,_e=0,Qe=null,qe=null,tt=0,_t=0,Un=Sr(0),Ge=0,Gs=null,Yr=0,ui=0,Al=0,Hs=null,mt=null,Rl=0,$n=1/0,cr=null,di=!1,Ll=null,Rr=null,hi=!1,Lr=null,fi=0,Vs=0,Il=null,mi=-1,pi=0;function lt(){return(_e&6)!==0?Fe():mi!==-1?mi:mi=Fe()}function Ir(e){return(e.mode&1)===0?1:(_e&2)!==0&&tt!==0?tt&-tt:Ig.transition!==null?(pi===0&&(pi=Tu()),pi):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:$u(e.type)),e)}function Ft(e,t,i,u){if(50<Vs)throw Vs=0,Il=null,Error(s(185));xs(e,i,u),((_e&2)===0||e!==Qe)&&(e===Qe&&((_e&2)===0&&(ui|=i),Ge===4&&Or(e,tt)),pt(e,u),i===1&&_e===0&&(t.mode&1)===0&&($n=Fe()+500,qa&&Er()))}function pt(e,t){var i=e.callbackNode;Ip(e,t);var u=ka(e,e===Qe?tt:0);if(u===0)i!==null&&Cu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(i!=null&&Cu(i),t===1)e.tag===0?Lg($h.bind(null,e)):kd($h.bind(null,e)),Pg(function(){(_e&6)===0&&Er()}),i=null;else{switch(Au(u)){case 1:i=fo;break;case 4:i=Eu;break;case 16:i=wa;break;case 536870912:i=Pu;break;default:i=wa}i=Vh(i,Uh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Uh(e,t){if(mi=-1,pi=0,(_e&6)!==0)throw Error(s(327));var i=e.callbackNode;if(Fn()&&e.callbackNode!==i)return null;var u=ka(e,e===Qe?tt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||t)t=gi(e,u);else{t=u;var h=_e;_e|=2;var p=Bh();(Qe!==e||tt!==t)&&(cr=null,$n=Fe()+500,Zr(e,t));do try{e0();break}catch(k){Fh(e,k)}while(!0);Xo(),ci.current=p,_e=h,qe!==null?t=0:(Qe=null,tt=0,t=Ge)}if(t!==0){if(t===2&&(h=mo(e),h!==0&&(u=h,t=Ol(e,h))),t===1)throw i=Gs,Zr(e,0),Or(e,u),pt(e,Fe()),i;if(t===6)Or(e,u);else{if(h=e.current.alternate,(u&30)===0&&!Xg(h)&&(t=gi(e,u),t===2&&(p=mo(e),p!==0&&(u=p,t=Ol(e,p))),t===1))throw i=Gs,Zr(e,0),Or(e,u),pt(e,Fe()),i;switch(e.finishedWork=h,e.finishedLanes=u,t){case 0:case 1:throw Error(s(345));case 2:en(e,mt,cr);break;case 3:if(Or(e,u),(u&130023424)===u&&(t=Rl+500-Fe(),10<t)){if(ka(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){lt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Bo(en.bind(null,e,mt,cr),t);break}en(e,mt,cr);break;case 4:if(Or(e,u),(u&4194240)===u)break;for(t=e.eventTimes,h=-1;0<u;){var v=31-It(u);p=1<<v,v=t[v],v>h&&(h=v),u&=~p}if(u=h,u=Fe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Yg(u/1960))-u,10<u){e.timeoutHandle=Bo(en.bind(null,e,mt,cr),u);break}en(e,mt,cr);break;case 5:en(e,mt,cr);break;default:throw Error(s(329))}}}return pt(e,Fe()),e.callbackNode===i?Uh.bind(null,e):null}function Ol(e,t){var i=Hs;return e.current.memoizedState.isDehydrated&&(Zr(e,t).flags|=256),e=gi(e,t),e!==2&&(t=mt,mt=i,t!==null&&Ml(t)),e}function Ml(e){mt===null?mt=e:mt.push.apply(mt,e)}function Xg(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],p=h.getSnapshot;h=h.value;try{if(!Ot(p(),h))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Or(e,t){for(t&=~Al,t&=~ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-It(t),u=1<<i;e[i]=-1,t&=~u}}function $h(e){if((_e&6)!==0)throw Error(s(327));Fn();var t=ka(e,0);if((t&1)===0)return pt(e,Fe()),null;var i=gi(e,t);if(e.tag!==0&&i===2){var u=mo(e);u!==0&&(t=u,i=Ol(e,u))}if(i===1)throw i=Gs,Zr(e,0),Or(e,t),pt(e,Fe()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,en(e,mt,cr),pt(e,Fe()),null}function Dl(e,t){var i=_e;_e|=1;try{return e(t)}finally{_e=i,_e===0&&($n=Fe()+500,qa&&Er())}}function Xr(e){Lr!==null&&Lr.tag===0&&(_e&6)===0&&Fn();var t=_e;_e|=1;var i=Rt.transition,u=Pe;try{if(Rt.transition=null,Pe=1,e)return e()}finally{Pe=u,Rt.transition=i,_e=t,(_e&6)===0&&Er()}}function Ul(){_t=Un.current,Ie(Un)}function Zr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Eg(i)),qe!==null)for(i=qe.return;i!==null;){var u=i;switch(Vo(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ba();break;case 3:On(),Ie(dt),Ie(nt),il();break;case 5:sl(u);break;case 4:On();break;case 13:Ie(Me);break;case 19:Ie(Me);break;case 10:Zo(u.type._context);break;case 22:case 23:Ul()}i=i.return}if(Qe=e,qe=e=Mr(e.current,null),tt=_t=t,Ge=0,Gs=null,Al=ui=Yr=0,mt=Hs=null,Kr!==null){for(t=0;t<Kr.length;t++)if(i=Kr[t],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,p=i.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}i.pending=u}Kr=null}return e}function Fh(e,t){do{var i=qe;try{if(Xo(),Za.current=ni,ei){for(var u=De.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ei=!1}if(Qr=0,Je=We=De=null,$s=!1,Fs=0,Tl.current=null,i===null||i.return===null){Ge=1,Gs=t,qe=null;break}e:{var p=e,v=i.return,k=i,T=t;if(t=tt,k.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var D=T,G=k,V=G.tag;if((G.mode&1)===0&&(V===0||V===11||V===15)){var W=G.alternate;W?(G.updateQueue=W.updateQueue,G.memoizedState=W.memoizedState,G.lanes=W.lanes):(G.updateQueue=null,G.memoizedState=null)}var ne=dh(v);if(ne!==null){ne.flags&=-257,hh(ne,v,k,p,t),ne.mode&1&&uh(p,D,t),t=ne,T=D;var le=t.updateQueue;if(le===null){var ue=new Set;ue.add(T),t.updateQueue=ue}else le.add(T);break e}else{if((t&1)===0){uh(p,D,t),$l();break e}T=Error(s(426))}}else if(Oe&&k.mode&1){var Be=dh(v);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),hh(Be,v,k,p,t),Qo(Mn(T,k));break e}}p=T=Mn(T,k),Ge!==4&&(Ge=2),Hs===null?Hs=[p]:Hs.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var O=lh(p,T,t);Od(p,O);break e;case 1:k=T;var R=p.type,M=p.stateNode;if((p.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Rr===null||!Rr.has(M)))){p.flags|=65536,t&=-t,p.lanes|=t;var X=ch(p,k,t);Od(p,X);break e}}p=p.return}while(p!==null)}qh(i)}catch(de){t=de,qe===i&&i!==null&&(qe=i=i.return);continue}break}while(!0)}function Bh(){var e=ci.current;return ci.current=ni,e===null?ni:e}function $l(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Qe===null||(Yr&268435455)===0&&(ui&268435455)===0||Or(Qe,tt)}function gi(e,t){var i=_e;_e|=2;var u=Bh();(Qe!==e||tt!==t)&&(cr=null,Zr(e,t));do try{Zg();break}catch(h){Fh(e,h)}while(!0);if(Xo(),_e=i,ci.current=u,qe!==null)throw Error(s(261));return Qe=null,tt=0,Ge}function Zg(){for(;qe!==null;)zh(qe)}function e0(){for(;qe!==null&&!_p();)zh(qe)}function zh(e){var t=Hh(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?qh(e):qe=t,Tl.current=null}function qh(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Hg(i,t,_t),i!==null){qe=i;return}}else{if(i=Vg(i,t),i!==null){i.flags&=32767,qe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Ge===0&&(Ge=5)}function en(e,t,i){var u=Pe,h=Rt.transition;try{Rt.transition=null,Pe=1,t0(e,t,i,u)}finally{Rt.transition=h,Pe=u}return null}function t0(e,t,i,u){do Fn();while(Lr!==null);if((_e&6)!==0)throw Error(s(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var p=i.lanes|i.childLanes;if(Op(e,p),e===Qe&&(qe=Qe=null,tt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||hi||(hi=!0,Vh(wa,function(){return Fn(),null})),p=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||p){p=Rt.transition,Rt.transition=null;var v=Pe;Pe=1;var k=_e;_e|=4,Tl.current=null,Jg(e,i),Lh(i,e),bg($o),Ca=!!Uo,$o=Uo=null,e.current=i,Qg(i),Sp(),_e=k,Pe=v,Rt.transition=p}else e.current=i;if(hi&&(hi=!1,Lr=e,fi=h),p=e.pendingLanes,p===0&&(Rr=null),Pp(i.stateNode),pt(e,Fe()),t!==null)for(u=e.onRecoverableError,i=0;i<t.length;i++)h=t[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(di)throw di=!1,e=Ll,Ll=null,e;return(fi&1)!==0&&e.tag!==0&&Fn(),p=e.pendingLanes,(p&1)!==0?e===Il?Vs++:(Vs=0,Il=e):Vs=0,Er(),null}function Fn(){if(Lr!==null){var e=Au(fi),t=Rt.transition,i=Pe;try{if(Rt.transition=null,Pe=16>e?16:e,Lr===null)var u=!1;else{if(e=Lr,Lr=null,fi=0,(_e&6)!==0)throw Error(s(331));var h=_e;for(_e|=4,oe=e.current;oe!==null;){var p=oe,v=p.child;if((oe.flags&16)!==0){var k=p.deletions;if(k!==null){for(var T=0;T<k.length;T++){var D=k[T];for(oe=D;oe!==null;){var G=oe;switch(G.tag){case 0:case 11:case 15:Ws(8,G,p)}var V=G.child;if(V!==null)V.return=G,oe=V;else for(;oe!==null;){G=oe;var W=G.sibling,ne=G.return;if(Eh(G),G===D){oe=null;break}if(W!==null){W.return=ne,oe=W;break}oe=ne}}}var le=p.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var Be=ue.sibling;ue.sibling=null,ue=Be}while(ue!==null)}}oe=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,oe=v;else e:for(;oe!==null;){if(p=oe,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Ws(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,oe=O;break e}oe=p.return}}var R=e.current;for(oe=R;oe!==null;){v=oe;var M=v.child;if((v.subtreeFlags&2064)!==0&&M!==null)M.return=v,oe=M;else e:for(v=R;oe!==null;){if(k=oe,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:li(9,k)}}catch(de){$e(k,k.return,de)}if(k===v){oe=null;break e}var X=k.sibling;if(X!==null){X.return=k.return,oe=X;break e}oe=k.return}}if(_e=h,Er(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ba,e)}catch{}u=!0}return u}finally{Pe=i,Rt.transition=t}}return!1}function Wh(e,t,i){t=Mn(i,t),t=lh(e,t,1),e=Tr(e,t,1),t=lt(),e!==null&&(xs(e,1,t),pt(e,t))}function $e(e,t,i){if(e.tag===3)Wh(e,e,i);else for(;t!==null;){if(t.tag===3){Wh(t,e,i);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rr===null||!Rr.has(u))){e=Mn(i,e),e=ch(t,e,1),t=Tr(t,e,1),e=lt(),t!==null&&(xs(t,1,e),pt(t,e));break}}t=t.return}}function r0(e,t,i){var u=e.pingCache;u!==null&&u.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&i,Qe===e&&(tt&i)===i&&(Ge===4||Ge===3&&(tt&130023424)===tt&&500>Fe()-Rl?Zr(e,0):Al|=i),pt(e,t)}function Gh(e,t){t===0&&((e.mode&1)===0?t=1:(t=Na,Na<<=1,(Na&130023424)===0&&(Na=4194304)));var i=lt();e=ir(e,t),e!==null&&(xs(e,t,i),pt(e,i))}function n0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Gh(e,i)}function s0(e,t){var i=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(t),Gh(e,i)}var Hh;Hh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ft=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return ft=!1,Gg(e,t,i);ft=(e.flags&131072)!==0}else ft=!1,Oe&&(t.flags&1048576)!==0&&_d(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;ii(e,t),e=t.pendingProps;var h=En(t,nt.current);In(t,i),h=cl(null,t,u,e,h,i);var p=ul();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(u)?(p=!0,za(t)):p=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,rl(t),h.updater=si,t.stateNode=h,h._reactInternals=t,gl(t,u,e,i),t=wl(null,t,u,!0,p,i)):(t.tag=0,Oe&&p&&Ho(t),ot(null,t,h,i),t=t.child),t;case 16:u=t.elementType;e:{switch(ii(e,t),e=t.pendingProps,h=u._init,u=h(u._payload),t.type=u,h=t.tag=i0(u),e=Dt(u,e),h){case 0:t=vl(null,t,u,e,i);break e;case 1:t=yh(null,t,u,e,i);break e;case 11:t=fh(null,t,u,e,i);break e;case 14:t=mh(null,t,u,Dt(u.type,e),i);break e}throw Error(s(306,u,""))}return t;case 0:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Dt(u,h),vl(e,t,u,h,i);case 1:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Dt(u,h),yh(e,t,u,h,i);case 3:e:{if(vh(t),e===null)throw Error(s(387));u=t.pendingProps,p=t.memoizedState,h=p.element,Id(e,t),Ya(t,u,null,i);var v=t.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){h=Mn(Error(s(423)),t),t=wh(e,t,u,i,h);break e}else if(u!==h){h=Mn(Error(s(424)),t),t=wh(e,t,u,i,h);break e}else for(kt=_r(t.stateNode.containerInfo.firstChild),Nt=t,Oe=!0,Mt=null,i=Rd(t,null,u,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(An(),u===h){t=lr(e,t,i);break e}ot(e,t,u,i)}t=t.child}return t;case 5:return Dd(t),e===null&&Jo(t),u=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,v=h.children,Fo(u,h)?v=null:p!==null&&Fo(u,p)&&(t.flags|=32),xh(e,t),ot(e,t,v,i),t.child;case 6:return e===null&&Jo(t),null;case 13:return bh(e,t,i);case 4:return nl(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=Rn(t,null,u,i):ot(e,t,u,i),t.child;case 11:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Dt(u,h),fh(e,t,u,h,i);case 7:return ot(e,t,t.pendingProps,i),t.child;case 8:return ot(e,t,t.pendingProps.children,i),t.child;case 12:return ot(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(u=t.type._context,h=t.pendingProps,p=t.memoizedProps,v=h.value,Te(Ka,u._currentValue),u._currentValue=v,p!==null)if(Ot(p.value,v)){if(p.children===h.children&&!dt.current){t=lr(e,t,i);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var k=p.dependencies;if(k!==null){v=p.child;for(var T=k.firstContext;T!==null;){if(T.context===u){if(p.tag===1){T=or(-1,i&-i),T.tag=2;var D=p.updateQueue;if(D!==null){D=D.shared;var G=D.pending;G===null?T.next=T:(T.next=G.next,G.next=T),D.pending=T}}p.lanes|=i,T=p.alternate,T!==null&&(T.lanes|=i),el(p.return,i,t),k.lanes|=i;break}T=T.next}}else if(p.tag===10)v=p.type===t.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(s(341));v.lanes|=i,k=v.alternate,k!==null&&(k.lanes|=i),el(v,i,t),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===t){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}ot(e,t,h.children,i),t=t.child}return t;case 9:return h=t.type,u=t.pendingProps.children,In(t,i),h=Tt(h),u=u(h),t.flags|=1,ot(e,t,u,i),t.child;case 14:return u=t.type,h=Dt(u,t.pendingProps),h=Dt(u.type,h),mh(e,t,u,h,i);case 15:return ph(e,t,t.type,t.pendingProps,i);case 17:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Dt(u,h),ii(e,t),t.tag=1,ht(u)?(e=!0,za(t)):e=!1,In(t,i),ih(t,u,h),gl(t,u,h,i),wl(null,t,u,!0,e,i);case 19:return Nh(e,t,i);case 22:return gh(e,t,i)}throw Error(s(156,t.tag))};function Vh(e,t){return Su(e,t)}function a0(e,t,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,i,u){return new a0(e,t,i,u)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function i0(e){if(typeof e=="function")return Fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===q)return 11;if(e===Ce)return 14}return 2}function Mr(e,t){var i=e.alternate;return i===null?(i=Lt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function xi(e,t,i,u,h,p){var v=2;if(u=e,typeof e=="function")Fl(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case z:return tn(i.children,h,p,t);case ee:v=8,h|=8;break;case H:return e=Lt(12,i,t,h|2),e.elementType=H,e.lanes=p,e;case Z:return e=Lt(13,i,t,h),e.elementType=Z,e.lanes=p,e;case ie:return e=Lt(19,i,t,h),e.elementType=ie,e.lanes=p,e;case je:return yi(i,h,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:v=10;break e;case $:v=9;break e;case q:v=11;break e;case Ce:v=14;break e;case Ee:v=16,u=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Lt(v,i,t,h),t.elementType=e,t.type=u,t.lanes=p,t}function tn(e,t,i,u){return e=Lt(7,e,u,t),e.lanes=i,e}function yi(e,t,i,u){return e=Lt(22,e,u,t),e.elementType=je,e.lanes=i,e.stateNode={isHidden:!1},e}function Bl(e,t,i){return e=Lt(6,e,null,t),e.lanes=i,e}function zl(e,t,i){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function o0(e,t,i,u,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=po(0),this.expirationTimes=po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=po(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function ql(e,t,i,u,h,p,v,k,T){return e=new o0(e,t,i,k,T),t===1?(t=1,p===!0&&(t|=8)):t=0,p=Lt(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},rl(p),e}function l0(e,t,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:u==null?null:""+u,children:e,containerInfo:t,implementation:i}}function Kh(e){if(!e)return Cr;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(ht(i))return jd(e,i,t)}return t}function Jh(e,t,i,u,h,p,v,k,T){return e=ql(i,u,!0,e,h,p,v,k,T),e.context=Kh(null),i=e.current,u=lt(),h=Ir(i),p=or(u,h),p.callback=t??null,Tr(i,p,h),e.current.lanes=h,xs(e,h,u),pt(e,u),e}function vi(e,t,i,u){var h=t.current,p=lt(),v=Ir(h);return i=Kh(i),t.context===null?t.context=i:t.pendingContext=i,t=or(p,v),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=Tr(h,t,v),e!==null&&(Ft(e,h,v,p),Qa(e,h,v)),v}function wi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Wl(e,t){Qh(e,t),(e=e.alternate)&&Qh(e,t)}function c0(){return null}var Yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gl(e){this._internalRoot=e}bi.prototype.render=Gl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));vi(e,t,null,null)},bi.prototype.unmount=Gl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xr(function(){vi(null,e,null,null)}),t[rr]=null}};function bi(e){this._internalRoot=e}bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Iu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<jr.length&&t!==0&&t<jr[i].priority;i++);jr.splice(i,0,e),i===0&&Du(e)}};function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xh(){}function u0(e,t,i,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var D=wi(v);p.call(D)}}var v=Jh(t,u,e,0,null,!1,!1,"",Xh);return e._reactRootContainer=v,e[rr]=v.current,As(e.nodeType===8?e.parentNode:e),Xr(),v}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var k=u;u=function(){var D=wi(T);k.call(D)}}var T=ql(e,0,!1,null,null,!1,!1,"",Xh);return e._reactRootContainer=T,e[rr]=T.current,As(e.nodeType===8?e.parentNode:e),Xr(function(){vi(t,T,i,u)}),T}function Ni(e,t,i,u,h){var p=i._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var k=h;h=function(){var T=wi(v);k.call(T)}}vi(t,v,e,h)}else v=u0(i,t,e,h,u);return wi(v)}Ru=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=gs(t.pendingLanes);i!==0&&(go(t,i|1),pt(t,Fe()),(_e&6)===0&&($n=Fe()+500,Er()))}break;case 13:Xr(function(){var u=ir(e,1);if(u!==null){var h=lt();Ft(u,e,1,h)}}),Wl(e,1)}},xo=function(e){if(e.tag===13){var t=ir(e,134217728);if(t!==null){var i=lt();Ft(t,e,134217728,i)}Wl(e,134217728)}},Lu=function(e){if(e.tag===13){var t=Ir(e),i=ir(e,t);if(i!==null){var u=lt();Ft(i,e,t,u)}Wl(e,t)}},Iu=function(){return Pe},Ou=function(e,t){var i=Pe;try{return Pe=e,t()}finally{Pe=i}},lo=function(e,t,i){switch(t){case"input":if(bt(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var u=i[t];if(u!==e&&u.form===e.form){var h=Fa(u);if(!h)throw Error(s(90));yr(u),bt(u,h)}}}break;case"textarea":uu(e,i);break;case"select":t=i.value,t!=null&&gn(e,!!i.multiple,t,!1)}},vu=Dl,wu=Xr;var d0={usingClientEntryPoint:!1,Events:[Is,Sn,Fa,xu,yu,Dl]},Ks={findFiberByHostInstance:Wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h0={bundleType:Ks.bundleType,version:Ks.version,rendererPackageName:Ks.rendererPackageName,rendererConfig:Ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ku(e),e===null?null:e.stateNode},findFiberByHostInstance:Ks.findFiberByHostInstance||c0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{ba=ki.inject(h0),Ht=ki}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d0,gt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hl(t))throw Error(s(200));return l0(e,t,null,i)},gt.createRoot=function(e,t){if(!Hl(e))throw Error(s(299));var i=!1,u="",h=Yh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=ql(e,1,!1,null,null,i,!1,u,h),e[rr]=t.current,As(e.nodeType===8?e.parentNode:e),new Gl(t)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=ku(t),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return Xr(e)},gt.hydrate=function(e,t,i){if(!ji(t))throw Error(s(200));return Ni(null,e,t,!0,i)},gt.hydrateRoot=function(e,t,i){if(!Hl(e))throw Error(s(405));var u=i!=null&&i.hydratedSources||null,h=!1,p="",v=Yh;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),t=Jh(t,null,e,1,i??null,h,!1,p,v),e[rr]=t.current,As(e),u)for(e=0;e<u.length;e++)i=u[e],h=i._getVersion,h=h(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,h]:t.mutableSourceEagerHydrationData.push(i,h);return new bi(t)},gt.render=function(e,t,i){if(!ji(t))throw Error(s(200));return Ni(null,e,t,!1,i)},gt.unmountComponentAtNode=function(e){if(!ji(e))throw Error(s(40));return e._reactRootContainer?(Xr(function(){Ni(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1},gt.unstable_batchedUpdates=Dl,gt.unstable_renderSubtreeIntoContainer=function(e,t,i,u){if(!ji(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ni(e,t,i,!1,u)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var of;function b0(){if(of)return Jl.exports;of=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Jl.exports=w0(),Jl.exports}var lf;function j0(){if(lf)return _i;lf=1;var l=b0();return _i.createRoot=l.createRoot,_i.hydrateRoot=l.hydrateRoot,_i}var N0=j0();const k0=Vi(N0);var Qs={},cf;function _0(){if(cf)return Qs;cf=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.parse=d,Qs.serialize=g;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function d(w,j){const N=new c,C=w.length;if(C<2)return N;const A=(j==null?void 0:j.decode)||x;let _=0;do{const P=w.indexOf("=",_);if(P===-1)break;const S=w.indexOf(";",_),L=S===-1?C:S;if(P>L){_=w.lastIndexOf(";",P-1)+1;continue}const I=f(w,_,P),U=m(w,P,I),z=w.slice(I,U);if(N[z]===void 0){let ee=f(w,P+1,L),H=m(w,L,ee);const te=A(w.slice(ee,H));N[z]=te}_=L+1}while(_<C);return N}function f(w,j,N){do{const C=w.charCodeAt(j);if(C!==32&&C!==9)return j}while(++j<N);return N}function m(w,j,N){for(;j>N;){const C=w.charCodeAt(--j);if(C!==32&&C!==9)return j+1}return N}function g(w,j,N){const C=(N==null?void 0:N.encode)||encodeURIComponent;if(!l.test(w))throw new TypeError(`argument name is invalid: ${w}`);const A=C(j);if(!n.test(A))throw new TypeError(`argument val is invalid: ${j}`);let _=w+"="+A;if(!N)return _;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);_+="; Max-Age="+N.maxAge}if(N.domain){if(!s.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);_+="; Domain="+N.domain}if(N.path){if(!a.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);_+="; Path="+N.path}if(N.expires){if(!y(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);_+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(_+="; HttpOnly"),N.secure&&(_+="; Secure"),N.partitioned&&(_+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return _}function x(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return o.call(w)==="[object Date]"}return Qs}_0();var uf="popstate";function S0(l={}){function n(a,o){let{pathname:c,search:d,hash:f}=a.location;return Ac("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(a,o){return typeof o=="string"?o:ua(o)}return E0(n,s,null,l)}function Ue(l,n){if(l===!1||l===null||typeof l>"u")throw new Error(n)}function Gt(l,n){if(!l){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function C0(){return Math.random().toString(36).substring(2,10)}function df(l,n){return{usr:l.state,key:l.key,idx:n}}function Ac(l,n,s=null,a){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof n=="string"?as(n):n,state:s,key:n&&n.key||a||C0()}}function ua({pathname:l="/",search:n="",hash:s=""}){return n&&n!=="?"&&(l+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(l+=s.charAt(0)==="#"?s:"#"+s),l}function as(l){let n={};if(l){let s=l.indexOf("#");s>=0&&(n.hash=l.substring(s),l=l.substring(0,s));let a=l.indexOf("?");a>=0&&(n.search=l.substring(a),l=l.substring(0,a)),l&&(n.pathname=l)}return n}function E0(l,n,s,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,f="POP",m=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function y(){f="POP";let A=x(),_=A==null?null:A-g;g=A,m&&m({action:f,location:C.location,delta:_})}function w(A,_){f="PUSH";let P=Ac(C.location,A,_);g=x()+1;let S=df(P,g),L=C.createHref(P);try{d.pushState(S,"",L)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(L)}c&&m&&m({action:f,location:C.location,delta:1})}function j(A,_){f="REPLACE";let P=Ac(C.location,A,_);g=x();let S=df(P,g),L=C.createHref(P);d.replaceState(S,"",L),c&&m&&m({action:f,location:C.location,delta:0})}function N(A){return P0(A)}let C={get action(){return f},get location(){return l(o,d)},listen(A){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(uf,y),m=A,()=>{o.removeEventListener(uf,y),m=null}},createHref(A){return n(o,A)},createURL:N,encodeLocation(A){let _=N(A);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:j,go(A){return d.go(A)}};return C}function P0(l,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(s,"No window.location.(origin|href) available to create URL");let a=typeof l=="string"?l:ua(l);return a=a.replace(/ $/,"%20"),!n&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function wm(l,n,s="/"){return T0(l,n,s,!1)}function T0(l,n,s,a){let o=typeof n=="string"?as(n):n,c=pr(o.pathname||"/",s);if(c==null)return null;let d=bm(l);A0(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let g=z0(c);f=F0(d[m],g,a)}return f}function bm(l,n=[],s=[],a=""){let o=(c,d,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(Ue(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=mr([a,m.relativePath]),x=s.concat(m);c.children&&c.children.length>0&&(Ue(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),bm(c.children,n,x,g)),!(c.path==null&&!c.index)&&n.push({path:g,score:U0(g,c.index),routesMeta:x})};return l.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))o(c,d);else for(let m of jm(c.path))o(c,d,m)}),n}function jm(l){let n=l.split("/");if(n.length===0)return[];let[s,...a]=n,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=jm(a.join("/")),f=[];return f.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&f.push(...d),f.map(m=>l.startsWith("/")&&m===""?"/":m)}function A0(l){l.sort((n,s)=>n.score!==s.score?s.score-n.score:$0(n.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var R0=/^:[\w-]+$/,L0=3,I0=2,O0=1,M0=10,D0=-2,hf=l=>l==="*";function U0(l,n){let s=l.split("/"),a=s.length;return s.some(hf)&&(a+=D0),n&&(a+=I0),s.filter(o=>!hf(o)).reduce((o,c)=>o+(R0.test(c)?L0:c===""?O0:M0),a)}function $0(l,n){return l.length===n.length&&l.slice(0,-1).every((a,o)=>a===n[o])?l[l.length-1]-n[n.length-1]:0}function F0(l,n,s=!1){let{routesMeta:a}=l,o={},c="/",d=[];for(let f=0;f<a.length;++f){let m=a[f],g=f===a.length-1,x=c==="/"?n:n.slice(c.length)||"/",y=Bi({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),w=m.route;if(!y&&g&&s&&!a[a.length-1].route.index&&(y=Bi({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!y)return null;Object.assign(o,y.params),d.push({params:o,pathname:mr([c,y.pathname]),pathnameBase:H0(mr([c,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(c=mr([c,y.pathnameBase]))}return d}function Bi(l,n){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[s,a]=B0(l.path,l.caseSensitive,l.end),o=n.match(s);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((g,{paramName:x,isOptional:y},w)=>{if(x==="*"){let N=f[w]||"";d=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const j=f[w];return y&&!j?g[x]=void 0:g[x]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:l}}function B0(l,n=!1,s=!0){Gt(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let a=[],o="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(a.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(a.push({paramName:"*"}),o+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":l!==""&&l!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),a]}function z0(l){try{return l.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Gt(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),l}}function pr(l,n){if(n==="/")return l;if(!l.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,a=l.charAt(s);return a&&a!=="/"?null:l.slice(s)||"/"}function q0(l,n="/"){let{pathname:s,search:a="",hash:o=""}=typeof l=="string"?as(l):l;return{pathname:s?s.startsWith("/")?s:W0(s,n):n,search:V0(a),hash:K0(o)}}function W0(l,n){let s=n.replace(/\/+$/,"").split("/");return l.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Xl(l,n,s,a){return`Cannot include a '${l}' character in a manually specified \`to.${n}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G0(l){return l.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Nm(l){let n=G0(l);return n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase)}function km(l,n,s,a=!1){let o;typeof l=="string"?o=as(l):(o={...l},Ue(!o.pathname||!o.pathname.includes("?"),Xl("?","pathname","search",o)),Ue(!o.pathname||!o.pathname.includes("#"),Xl("#","pathname","hash",o)),Ue(!o.search||!o.search.includes("#"),Xl("#","search","hash",o)));let c=l===""||o.pathname==="",d=c?"/":o.pathname,f;if(d==null)f=s;else{let y=n.length-1;if(!a&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),y-=1;o.pathname=w.join("/")}f=y>=0?n[y]:"/"}let m=q0(o,f),g=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}var mr=l=>l.join("/").replace(/\/\/+/g,"/"),H0=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),V0=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,K0=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function J0(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var _m=["POST","PUT","PATCH","DELETE"];new Set(_m);var Q0=["GET",..._m];new Set(Q0);var is=b.createContext(null);is.displayName="DataRouter";var Ki=b.createContext(null);Ki.displayName="DataRouterState";var Sm=b.createContext({isTransitioning:!1});Sm.displayName="ViewTransition";var Y0=b.createContext(new Map);Y0.displayName="Fetchers";var X0=b.createContext(null);X0.displayName="Await";var er=b.createContext(null);er.displayName="Navigation";var fa=b.createContext(null);fa.displayName="Location";var gr=b.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var Vc=b.createContext(null);Vc.displayName="RouteError";function Z0(l,{relative:n}={}){Ue(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=b.useContext(er),{hash:o,pathname:c,search:d}=pa(l,{relative:n}),f=c;return s!=="/"&&(f=c==="/"?s:mr([s,c])),a.createHref({pathname:f,search:d,hash:o})}function ma(){return b.useContext(fa)!=null}function xr(){return Ue(ma(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(fa).location}var Cm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Em(l){b.useContext(er).static||b.useLayoutEffect(l)}function Kc(){let{isDataRoute:l}=b.useContext(gr);return l?hx():ex()}function ex(){Ue(ma(),"useNavigate() may be used only in the context of a <Router> component.");let l=b.useContext(is),{basename:n,navigator:s}=b.useContext(er),{matches:a}=b.useContext(gr),{pathname:o}=xr(),c=JSON.stringify(Nm(a)),d=b.useRef(!1);return Em(()=>{d.current=!0}),b.useCallback((m,g={})=>{if(Gt(d.current,Cm),!d.current)return;if(typeof m=="number"){s.go(m);return}let x=km(m,JSON.parse(c),o,g.relative==="path");l==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:mr([n,x.pathname])),(g.replace?s.replace:s.push)(x,g.state,g)},[n,s,c,o,l])}b.createContext(null);function pa(l,{relative:n}={}){let{matches:s}=b.useContext(gr),{pathname:a}=xr(),o=JSON.stringify(Nm(s));return b.useMemo(()=>km(l,JSON.parse(o),a,n==="path"),[l,o,a,n])}function tx(l,n){return Pm(l,n)}function Pm(l,n,s,a){var _;Ue(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(er),{matches:c}=b.useContext(gr),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let P=x&&x.path||"";Tm(m,!x||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=xr(),w;if(n){let P=typeof n=="string"?as(n):n;Ue(g==="/"||((_=P.pathname)==null?void 0:_.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=y;let j=w.pathname||"/",N=j;if(g!=="/"){let P=g.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=wm(l,{pathname:N});Gt(x||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Gt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=ix(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:mr([g,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:mr([g,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),c,s,a);return n&&A?b.createElement(fa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},A):A}function rx(){let l=dx(),n=J0(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),s=l instanceof Error?l.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",l),d=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:c},"ErrorBoundary")," or"," ",b.createElement("code",{style:c},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},n),s?b.createElement("pre",{style:o},s):null,d)}var nx=b.createElement(rx,null),sx=class extends b.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,n){return n.location!==l.location||n.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:n.error,location:n.location,revalidation:l.revalidation||n.revalidation}}componentDidCatch(l,n){console.error("React Router caught the following error during render",l,n)}render(){return this.state.error!==void 0?b.createElement(gr.Provider,{value:this.props.routeContext},b.createElement(Vc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ax({routeContext:l,match:n,children:s}){let a=b.useContext(is);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(gr.Provider,{value:l},s)}function ix(l,n=[],s=null,a=null){if(l==null){if(!s)return null;if(s.errors)l=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)l=s.matches;else return null}let o=l,c=s==null?void 0:s.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Ue(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,f=-1;if(s)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:x,errors:y}=s,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||w){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,g,x)=>{let y,w=!1,j=null,N=null;s&&(y=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||nx,d&&(f<0&&x===0?(Tm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):f===x&&(w=!0,N=g.route.hydrateFallbackElement||null)));let C=n.concat(o.slice(0,x+1)),A=()=>{let _;return y?_=j:w?_=N:g.route.Component?_=b.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=m,b.createElement(ax,{match:g,routeContext:{outlet:m,matches:C,isDataRoute:s!=null},children:_})};return s&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?b.createElement(sx,{location:s.location,revalidation:s.revalidation,component:j,error:y,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}function Jc(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ox(l){let n=b.useContext(is);return Ue(n,Jc(l)),n}function lx(l){let n=b.useContext(Ki);return Ue(n,Jc(l)),n}function cx(l){let n=b.useContext(gr);return Ue(n,Jc(l)),n}function Qc(l){let n=cx(l),s=n.matches[n.matches.length-1];return Ue(s.route.id,`${l} can only be used on routes that contain a unique "id"`),s.route.id}function ux(){return Qc("useRouteId")}function dx(){var a;let l=b.useContext(Vc),n=lx("useRouteError"),s=Qc("useRouteError");return l!==void 0?l:(a=n.errors)==null?void 0:a[s]}function hx(){let{router:l}=ox("useNavigate"),n=Qc("useNavigate"),s=b.useRef(!1);return Em(()=>{s.current=!0}),b.useCallback(async(o,c={})=>{Gt(s.current,Cm),s.current&&(typeof o=="number"?l.navigate(o):await l.navigate(o,{fromRouteId:n,...c}))},[l,n])}var ff={};function Tm(l,n,s){!n&&!ff[l]&&(ff[l]=!0,Gt(!1,s))}b.memo(fx);function fx({routes:l,future:n,state:s}){return Pm(l,void 0,s,n)}function Xn(l){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mx({basename:l="/",children:n=null,location:s,navigationType:a="POP",navigator:o,static:c=!1}){Ue(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=l.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof s=="string"&&(s=as(s));let{pathname:m="/",search:g="",hash:x="",state:y=null,key:w="default"}=s,j=b.useMemo(()=>{let N=pr(m,d);return N==null?null:{location:{pathname:N,search:g,hash:x,state:y,key:w},navigationType:a}},[d,m,g,x,y,w,a]);return Gt(j!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:b.createElement(er.Provider,{value:f},b.createElement(fa.Provider,{children:n,value:j}))}function px({children:l,location:n}){return tx(Rc(l),n)}function Rc(l,n=[]){let s=[];return b.Children.forEach(l,(a,o)=>{if(!b.isValidElement(a))return;let c=[...n,o];if(a.type===b.Fragment){s.push.apply(s,Rc(a.props.children,c));return}Ue(a.type===Xn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Rc(a.props.children,c)),s.push(d)}),s}var Mi="get",Di="application/x-www-form-urlencoded";function Ji(l){return l!=null&&typeof l.tagName=="string"}function gx(l){return Ji(l)&&l.tagName.toLowerCase()==="button"}function xx(l){return Ji(l)&&l.tagName.toLowerCase()==="form"}function yx(l){return Ji(l)&&l.tagName.toLowerCase()==="input"}function vx(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function wx(l,n){return l.button===0&&(!n||n==="_self")&&!vx(l)}function Lc(l=""){return new URLSearchParams(typeof l=="string"||Array.isArray(l)||l instanceof URLSearchParams?l:Object.keys(l).reduce((n,s)=>{let a=l[s];return n.concat(Array.isArray(a)?a.map(o=>[s,o]):[[s,a]])},[]))}function bx(l,n){let s=Lc(l);return n&&n.forEach((a,o)=>{s.has(o)||n.getAll(o).forEach(c=>{s.append(o,c)})}),s}var Si=null;function jx(){if(Si===null)try{new FormData(document.createElement("form"),0),Si=!1}catch{Si=!0}return Si}var Nx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zl(l){return l!=null&&!Nx.has(l)?(Gt(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Di}"`),null):l}function kx(l,n){let s,a,o,c,d;if(xx(l)){let f=l.getAttribute("action");a=f?pr(f,n):null,s=l.getAttribute("method")||Mi,o=Zl(l.getAttribute("enctype"))||Di,c=new FormData(l)}else if(gx(l)||yx(l)&&(l.type==="submit"||l.type==="image")){let f=l.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=l.getAttribute("formaction")||f.getAttribute("action");if(a=m?pr(m,n):null,s=l.getAttribute("formmethod")||f.getAttribute("method")||Mi,o=Zl(l.getAttribute("formenctype"))||Zl(f.getAttribute("enctype"))||Di,c=new FormData(f,l),!jx()){let{name:g,type:x,value:y}=l;if(x==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,y)}}else{if(Ji(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Mi,a=null,o=Di,d=l}return c&&o==="text/plain"&&(d=c,c=void 0),{action:a,method:s.toLowerCase(),encType:o,formData:c,body:d}}function Yc(l,n){if(l===!1||l===null||typeof l>"u")throw new Error(n)}async function _x(l,n){if(l.id in n)return n[l.id];try{let s=await import(l.module);return n[l.id]=s,s}catch(s){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sx(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Cx(l,n,s){let a=await Promise.all(l.map(async o=>{let c=n.routes[o.route.id];if(c){let d=await _x(c,s);return d.links?d.links():[]}return[]}));return Ax(a.flat(1).filter(Sx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mf(l,n,s,a,o,c){let d=(m,g)=>s[g]?m.route.id!==s[g].route.id:!0,f=(m,g)=>{var x;return s[g].pathname!==m.pathname||((x=s[g].route.path)==null?void 0:x.endsWith("*"))&&s[g].params["*"]!==m.params["*"]};return c==="assets"?n.filter((m,g)=>d(m,g)||f(m,g)):c==="data"?n.filter((m,g)=>{var y;let x=a.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(d(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=s[0])==null?void 0:y.params)||{},nextUrl:new URL(l,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Ex(l,n,{includeHydrateFallback:s}={}){return Px(l.map(a=>{let o=n.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Px(l){return[...new Set(l)]}function Tx(l){let n={},s=Object.keys(l).sort();for(let a of s)n[a]=l[a];return n}function Ax(l,n){let s=new Set;return new Set(n),l.reduce((a,o)=>{let c=JSON.stringify(Tx(o));return s.has(c)||(s.add(c),a.push({key:c,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rx=new Set([100,101,204,205]);function Lx(l,n){let s=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return s.pathname==="/"?s.pathname="_root.data":n&&pr(s.pathname,n)==="/"?s.pathname=`${n.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function Am(){let l=b.useContext(is);return Yc(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function Ix(){let l=b.useContext(Ki);return Yc(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Xc=b.createContext(void 0);Xc.displayName="FrameworkContext";function Rm(){let l=b.useContext(Xc);return Yc(l,"You must render this element inside a <HydratedRouter> element"),l}function Ox(l,n){let s=b.useContext(Xc),[a,o]=b.useState(!1),[c,d]=b.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=n,w=b.useRef(null);b.useEffect(()=>{if(l==="render"&&d(!0),l==="viewport"){let C=_=>{_.forEach(P=>{d(P.isIntersecting)})},A=new IntersectionObserver(C,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[l]),b.useEffect(()=>{if(a){let C=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(C)}}},[a]);let j=()=>{o(!0)},N=()=>{o(!1),d(!1)};return s?l!=="intent"?[c,w,{}]:[c,w,{onFocus:Ys(f,j),onBlur:Ys(m,N),onMouseEnter:Ys(g,j),onMouseLeave:Ys(x,N),onTouchStart:Ys(y,j)}]:[!1,w,{}]}function Ys(l,n){return s=>{l&&l(s),s.defaultPrevented||n(s)}}function Mx({page:l,...n}){let{router:s}=Am(),a=b.useMemo(()=>wm(s.routes,l,s.basename),[s.routes,l,s.basename]);return a?b.createElement(Ux,{page:l,matches:a,...n}):null}function Dx(l){let{manifest:n,routeModules:s}=Rm(),[a,o]=b.useState([]);return b.useEffect(()=>{let c=!1;return Cx(l,n,s).then(d=>{c||o(d)}),()=>{c=!0}},[l,n,s]),a}function Ux({page:l,matches:n,...s}){let a=xr(),{manifest:o,routeModules:c}=Rm(),{basename:d}=Am(),{loaderData:f,matches:m}=Ix(),g=b.useMemo(()=>mf(l,n,m,o,a,"data"),[l,n,m,o,a]),x=b.useMemo(()=>mf(l,n,m,o,a,"assets"),[l,n,m,o,a]),y=b.useMemo(()=>{if(l===a.pathname+a.search+a.hash)return[];let N=new Set,C=!1;if(n.forEach(_=>{var S;let P=o.routes[_.route.id];!P||!P.hasLoader||(!g.some(L=>L.route.id===_.route.id)&&_.route.id in f&&((S=c[_.route.id])!=null&&S.shouldRevalidate)||P.hasClientLoader?C=!0:N.add(_.route.id))}),N.size===0)return[];let A=Lx(l,d);return C&&N.size>0&&A.searchParams.set("_routes",n.filter(_=>N.has(_.route.id)).map(_=>_.route.id).join(",")),[A.pathname+A.search]},[d,f,a,o,g,n,l,c]),w=b.useMemo(()=>Ex(x,o),[x,o]),j=Dx(x);return b.createElement(b.Fragment,null,y.map(N=>b.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),w.map(N=>b.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),j.map(({key:N,link:C})=>b.createElement("link",{key:N,...C})))}function $x(...l){return n=>{l.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var Lm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lm&&(window.__reactRouterVersion="7.6.3")}catch{}function Fx({basename:l,children:n,window:s}){let a=b.useRef();a.current==null&&(a.current=S0({window:s,v5Compat:!0}));let o=a.current,[c,d]=b.useState({action:o.action,location:o.location}),f=b.useCallback(m=>{b.startTransition(()=>d(m))},[d]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.createElement(mx,{basename:l,children:n,location:c.location,navigationType:c.action,navigator:o})}var Im=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=b.forwardRef(function({onClick:n,discover:s="render",prefetch:a="none",relative:o,reloadDocument:c,replace:d,state:f,target:m,to:g,preventScrollReset:x,viewTransition:y,...w},j){let{basename:N}=b.useContext(er),C=typeof g=="string"&&Im.test(g),A,_=!1;if(typeof g=="string"&&C&&(A=g,Lm))try{let H=new URL(window.location.href),te=g.startsWith("//")?new URL(H.protocol+g):new URL(g),$=pr(te.pathname,N);te.origin===H.origin&&$!=null?g=$+te.search+te.hash:_=!0}catch{Gt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=Z0(g,{relative:o}),[S,L,I]=Ox(a,w),U=Wx(g,{replace:d,state:f,target:m,preventScrollReset:x,relative:o,viewTransition:y});function z(H){n&&n(H),H.defaultPrevented||U(H)}let ee=b.createElement("a",{...w,...I,href:A||P,onClick:_||c?n:z,ref:$x(j,L),target:m,"data-discover":!C&&s==="render"?"true":void 0});return S&&!C?b.createElement(b.Fragment,null,ee,b.createElement(Mx,{page:P})):ee});rt.displayName="Link";var Bx=b.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:c,to:d,viewTransition:f,children:m,...g},x){let y=pa(d,{relative:g.relative}),w=xr(),j=b.useContext(Ki),{navigator:N,basename:C}=b.useContext(er),A=j!=null&&Qx(y)&&f===!0,_=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,P=w.pathname,S=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(P=P.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&C&&(S=pr(S,C)||S);const L=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let I=P===_||!o&&P.startsWith(_)&&P.charAt(L)==="/",U=S!=null&&(S===_||!o&&S.startsWith(_)&&S.charAt(_.length)==="/"),z={isActive:I,isPending:U,isTransitioning:A},ee=I?n:void 0,H;typeof a=="function"?H=a(z):H=[a,I?"active":null,U?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let te=typeof c=="function"?c(z):c;return b.createElement(rt,{...g,"aria-current":ee,className:H,ref:x,style:te,to:d,viewTransition:f},typeof m=="function"?m(z):m)});Bx.displayName="NavLink";var zx=b.forwardRef(({discover:l="render",fetcherKey:n,navigate:s,reloadDocument:a,replace:o,state:c,method:d=Mi,action:f,onSubmit:m,relative:g,preventScrollReset:x,viewTransition:y,...w},j)=>{let N=Kx(),C=Jx(f,{relative:g}),A=d.toLowerCase()==="get"?"get":"post",_=typeof f=="string"&&Im.test(f),P=S=>{if(m&&m(S),S.defaultPrevented)return;S.preventDefault();let L=S.nativeEvent.submitter,I=(L==null?void 0:L.getAttribute("formmethod"))||d;N(L||S.currentTarget,{fetcherKey:n,method:I,navigate:s,replace:o,state:c,relative:g,preventScrollReset:x,viewTransition:y})};return b.createElement("form",{ref:j,method:A,action:C,onSubmit:a?m:P,...w,"data-discover":!_&&l==="render"?"true":void 0})});zx.displayName="Form";function qx(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Om(l){let n=b.useContext(is);return Ue(n,qx(l)),n}function Wx(l,{target:n,replace:s,state:a,preventScrollReset:o,relative:c,viewTransition:d}={}){let f=Kc(),m=xr(),g=pa(l,{relative:c});return b.useCallback(x=>{if(wx(x,n)){x.preventDefault();let y=s!==void 0?s:ua(m)===ua(g);f(l,{replace:y,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[m,f,g,s,a,n,l,o,c,d])}function Gx(l){Gt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=b.useRef(Lc(l)),s=b.useRef(!1),a=xr(),o=b.useMemo(()=>bx(a.search,s.current?null:n.current),[a.search]),c=Kc(),d=b.useCallback((f,m)=>{const g=Lc(typeof f=="function"?f(o):f);s.current=!0,c("?"+g,m)},[c,o]);return[o,d]}var Hx=0,Vx=()=>`__${String(++Hx)}__`;function Kx(){let{router:l}=Om("useSubmit"),{basename:n}=b.useContext(er),s=ux();return b.useCallback(async(a,o={})=>{let{action:c,method:d,encType:f,formData:m,body:g}=kx(a,n);if(o.navigate===!1){let x=o.fetcherKey||Vx();await l.fetch(x,s,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await l.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[l,n,s])}function Jx(l,{relative:n}={}){let{basename:s}=b.useContext(er),a=b.useContext(gr);Ue(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...pa(l||".",{relative:n})},d=xr();if(l==null){c.search=d.search;let f=new URLSearchParams(c.search),m=f.getAll("index");if(m.some(x=>x==="")){f.delete("index"),m.filter(y=>y).forEach(y=>f.append("index",y));let x=f.toString();c.search=x?`?${x}`:""}}return(!l||l===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:mr([s,c.pathname])),ua(c)}function Qx(l,n={}){let s=b.useContext(Sm);Ue(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Om("useViewTransitionState"),o=pa(l,{relative:n.relative});if(!s.isTransitioning)return!1;let c=pr(s.currentLocation.pathname,a)||s.currentLocation.pathname,d=pr(s.nextLocation.pathname,a)||s.nextLocation.pathname;return Bi(o.pathname,d)!=null||Bi(o.pathname,c)!=null}[...Rx];const Yx="modulepreload",Xx=function(l){return"/"+l},pf={},os=function(n,s,a){let o=Promise.resolve();if(s&&s.length>0){let d=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=d(s.map(g=>{if(g=Xx(g),g in pf)return;pf[g]=!0;const x=g.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const w=document.createElement("link");if(w.rel=x?"stylesheet":Yx,x||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),x)return new Promise((j,N)=>{w.addEventListener("load",j),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return o.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return n().catch(c)})},Zx=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>os(async()=>{const{default:a}=await Promise.resolve().then(()=>ls);return{default:a}},[]).then(({default:a})=>a(...s)):n=fetch,(...s)=>n(...s)};class Zc extends Error{constructor(n,s="FunctionsError",a){super(n),this.name=s,this.context=a}}class ey extends Zc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class ty extends Zc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class ry extends Zc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Ic;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Ic||(Ic={}));var ny=function(l,n,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(x){try{g(a.next(x))}catch(y){d(y)}}function m(x){try{g(a.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(f,m)}g((a=a.apply(l,n||[])).next())})};class sy{constructor(n,{headers:s={},customFetch:a,region:o=Ic.Any}={}){this.url=n,this.headers=s,this.region=o,this.fetch=Zx(a)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var a;return ny(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:d}=s;let f={},{region:m}=s;m||(m=this.region),m&&m!=="any"&&(f["x-region"]=m);let g;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(f["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(f["Content-Type"]="application/json",g=JSON.stringify(d)));const x=yield this.fetch(`${this.url}/${n}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:g}).catch(N=>{throw new ey(N)}),y=x.headers.get("x-relay-error");if(y&&y==="true")throw new ty(x);if(!x.ok)throw new ry(x);let w=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield x.json():w==="application/octet-stream"?j=yield x.blob():w==="text/event-stream"?j=x:w==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null}}catch(o){return{data:null,error:o}}})}}var Xe={},Bn={},zn={},qn={},Wn={},Gn={},ay=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rs=ay();const iy=rs.fetch,Mm=rs.fetch.bind(rs),Dm=rs.Headers,oy=rs.Request,ly=rs.Response,ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dm,Request:oy,Response:ly,default:Mm,fetch:iy},Symbol.toStringTag,{value:"Module"})),cy=m0(ls);var Ci={},gf;function Um(){if(gf)return Ci;gf=1,Object.defineProperty(Ci,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ci.default=l,Ci}var xf;function $m(){if(xf)return Gn;xf=1;var l=Gn&&Gn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Gn,"__esModule",{value:!0});const n=l(cy),s=l(Um());class a{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=Object.assign({},this.headers),this.headers[c]=d,this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var x,y,w;let j=null,N=null,C=null,A=g.status,_=g.statusText;if(g.ok){if(this.method!=="HEAD"){const I=await g.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=I:N=JSON.parse(I))}const S=(x=this.headers.Prefer)===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),L=(y=g.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");S&&L&&L.length>1&&(C=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(j={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,C=null,A=406,_="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const S=await g.text();try{j=JSON.parse(S),Array.isArray(j)&&g.status===404&&(N=[],j=null,A=200,_="OK")}catch{g.status===404&&S===""?(A=204,_="No Content"):j={message:S}}if(j&&this.isMaybeSingle&&(!((w=j==null?void 0:j.details)===null||w===void 0)&&w.includes("0 rows"))&&(j=null,A=200,_="OK"),j&&this.shouldThrowOnError)throw new s.default(j)}return{error:j,data:N,count:C,status:A,statusText:_}});return this.shouldThrowOnError||(m=m.catch(g=>{var x,y,w;return{error:{message:`${(x=g==null?void 0:g.name)!==null&&x!==void 0?x:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(y=g==null?void 0:g.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=g==null?void 0:g.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(c,d)}returns(){return this}overrideTypes(){return this}}return Gn.default=a,Gn}var yf;function Fm(){if(yf)return Wn;yf=1;var l=Wn&&Wn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Wn,"__esModule",{value:!0});const n=l($m());class s extends n.default{select(o){let c=!1;const d=(o??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:d,foreignTable:f,referencedTable:m=f}={}){const g=m?`${m}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${o}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,c,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(g,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:d=!1,buffers:f=!1,wal:m=!1,format:g="text"}={}){var x;const y=[o?"analyze":null,c?"verbose":null,d?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${w}"; options=${y};`,g==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Wn.default=s,Wn}var vf;function eu(){if(vf)return qn;vf=1;var l=qn&&qn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(qn,"__esModule",{value:!0});const n=l(Fm());class s extends n.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const d=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:d,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${m}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(o,c,d){return this.url.searchParams.append(o,`not.${c}.${d}`),this}or(o,{foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,c,d){return this.url.searchParams.append(o,`${c}.${d}`),this}}return qn.default=s,qn}var wf;function Bm(){if(wf)return zn;wf=1;var l=zn&&zn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zn,"__esModule",{value:!0});const n=l(eu());class s{constructor(o,{headers:c={},schema:d,fetch:f}){this.url=o,this.headers=c,this.schema=d,this.fetch=f}select(o,{head:c=!1,count:d}={}){const f=c?"HEAD":"GET";let m=!1;const g=(o??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",g),d&&(this.headers.Prefer=`count=${d}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:d=!0}={}){const f="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),d||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const g=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(g.length>0){const x=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:d=!1,count:f,defaultToNull:m=!0}={}){const g="POST",x=[`resolution=${d?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&x.push(this.headers.Prefer),f&&x.push(`count=${f}`),m||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(o)){const y=o.reduce((w,j)=>w.concat(Object.keys(j)),[]);if(y.length>0){const w=[...new Set(y)].map(j=>`"${j}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const d="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),c&&f.push(`count=${c}`),this.headers.Prefer=f.join(","),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",d=[];return o&&d.push(`count=${o}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return zn.default=s,zn}var Xs={},Zs={},bf;function uy(){return bf||(bf=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.version=void 0,Zs.version="0.0.0-automated"),Zs}var jf;function dy(){if(jf)return Xs;jf=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.DEFAULT_HEADERS=void 0;const l=uy();return Xs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${l.version}`},Xs}var Nf;function hy(){if(Nf)return Bn;Nf=1;var l=Bn&&Bn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Bn,"__esModule",{value:!0});const n=l(Bm()),s=l(eu()),a=dy();class o{constructor(d,{headers:f={},schema:m,fetch:g}={}){this.url=d,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),f),this.schemaName=m,this.fetch=g}from(d){const f=new URL(`${this.url}/${d}`);return new n.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:m=!1,get:g=!1,count:x}={}){let y;const w=new URL(`${this.url}/rpc/${d}`);let j;m||g?(y=m?"HEAD":"GET",Object.entries(f).filter(([C,A])=>A!==void 0).map(([C,A])=>[C,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([C,A])=>{w.searchParams.append(C,A)})):(y="POST",j=f);const N=Object.assign({},this.headers);return x&&(N.Prefer=`count=${x}`),new s.default({method:y,url:w,headers:N,schema:this.schemaName,body:j,fetch:this.fetch,allowEmpty:!1})}}return Bn.default=o,Bn}var kf;function fy(){if(kf)return Xe;kf=1;var l=Xe&&Xe.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const n=l(hy());Xe.PostgrestClient=n.default;const s=l(Bm());Xe.PostgrestQueryBuilder=s.default;const a=l(eu());Xe.PostgrestFilterBuilder=a.default;const o=l(Fm());Xe.PostgrestTransformBuilder=o.default;const c=l($m());Xe.PostgrestBuilder=c.default;const d=l(Um());return Xe.PostgrestError=d.default,Xe.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:d.default},Xe}var my=fy();const py=Vi(my),{PostgrestClient:gy,PostgrestQueryBuilder:Mb,PostgrestFilterBuilder:Db,PostgrestTransformBuilder:Ub,PostgrestBuilder:$b,PostgrestError:Fb}=py;let Oc;typeof window>"u"?Oc=require("ws"):Oc=window.WebSocket;const xy="2.11.10",yy={"X-Client-Info":`realtime-js/${xy}`},vy="1.0.0",zm=1e4,wy=1e3;var ts;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(ts||(ts={}));var ct;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(ct||(ct={}));var qt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(qt||(qt={}));var Mc;(function(l){l.websocket="websocket"})(Mc||(Mc={}));var sn;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(sn||(sn={}));class by{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),a=new TextDecoder;return this._decodeBroadcast(n,s,a)}_decodeBroadcast(n,s,a){const o=s.getUint8(1),c=s.getUint8(2);let d=this.HEADER_LENGTH+2;const f=a.decode(n.slice(d,d+o));d=d+o;const m=a.decode(n.slice(d,d+c));d=d+c;const g=JSON.parse(a.decode(n.slice(d,n.byteLength)));return{ref:null,topic:f,event:m,payload:g}}}class qm{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ae||(Ae={}));const _f=(l,n,s={})=>{var a;const o=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(n).reduce((c,d)=>(c[d]=jy(d,l,n,o),c),{})},jy=(l,n,s,a)=>{const o=n.find(f=>f.name===l),c=o==null?void 0:o.type,d=s[l];return c&&!a.includes(c)?Wm(c,d):Dc(d)},Wm=(l,n)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return Sy(n,s)}switch(l){case Ae.bool:return Ny(n);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return ky(n);case Ae.json:case Ae.jsonb:return _y(n);case Ae.timestamp:return Cy(n);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return Dc(n);default:return Dc(n)}},Dc=l=>l,Ny=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},ky=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},_y=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(n){return console.log(`JSON parse error: ${n}`),l}return l},Sy=(l,n)=>{if(typeof l!="string")return l;const s=l.length-1,a=l[s];if(l[0]==="{"&&a==="}"){let c;const d=l.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(f=>Wm(n,f))}return l},Cy=l=>typeof l=="string"?l.replace(" ","T"):l,Gm=l=>{let n=l;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class ec{constructor(n,s,a={},o=zm){this.channel=n,this.event=s,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var a;return this._hasReceived(n)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(a=>a.status===n).forEach(a=>a.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Sf;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Sf||(Sf={}));class sa{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sa.syncState(this.state,o,c,d),this.pendingDiffs.forEach(m=>{this.state=sa.syncDiff(this.state,m,c,d)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=sa.syncDiff(this.state,o,c,d),f())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,a,o){const c=this.cloneDeep(n),d=this.transformState(s),f={},m={};return this.map(c,(g,x)=>{d[g]||(m[g]=x)}),this.map(d,(g,x)=>{const y=c[g];if(y){const w=x.map(A=>A.presence_ref),j=y.map(A=>A.presence_ref),N=x.filter(A=>j.indexOf(A.presence_ref)<0),C=y.filter(A=>w.indexOf(A.presence_ref)<0);N.length>0&&(f[g]=N),C.length>0&&(m[g]=C)}else f[g]=x}),this.syncDiff(c,{joins:f,leaves:m},a,o)}static syncDiff(n,s,a,o){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(c,(f,m)=>{var g;const x=(g=n[f])!==null&&g!==void 0?g:[];if(n[f]=this.cloneDeep(m),x.length>0){const y=n[f].map(j=>j.presence_ref),w=x.filter(j=>y.indexOf(j.presence_ref)<0);n[f].unshift(...w)}a(f,x,m)}),this.map(d,(f,m)=>{let g=n[f];if(!g)return;const x=m.map(y=>y.presence_ref);g=g.filter(y=>x.indexOf(y.presence_ref)<0),n[f]=g,o(f,g,m),g.length===0&&delete n[f]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(a=>s(a,n[a]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,a)=>{const o=n[a];return"metas"in o?s[a]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=o,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cf;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Cf||(Cf={}));var Ef;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Ef||(Ef={}));var fr;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(fr||(fr={}));class tu{constructor(n,s={config:{}},a){this.topic=n,this.params=s,this.socket=a,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ec(this,qt.join,this.params,this.timeout),this.rejoinTimer=new qm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new sa(this),this.broadcastEndpointURL=Gm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var a,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:d,private:f}}=this.params;this._onError(x=>n==null?void 0:n(fr.CHANNEL_ERROR,x)),this._onClose(()=>n==null?void 0:n(fr.CLOSED));const m={},g={broadcast:c,presence:d,postgres_changes:(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&o!==void 0?o:[],private:f};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){n==null||n(fr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,N=[];for(let C=0;C<j;C++){const A=w[C],{filter:{event:_,schema:P,table:S,filter:L}}=A,I=x&&x[C];if(I&&I.event===_&&I.schema===P&&I.table===S&&I.filter===L)N.push(Object.assign(Object.assign({},A),{id:I.id}));else{this.unsubscribe(),this.state=ct.errored,n==null||n(fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,n&&n(fr.SUBSCRIBED);return}}).receive("error",x=>{this.state=ct.errored,n==null||n(fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,a){return this._on(n,s,a)}async send(n,s={}){var a,o;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:d}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,f,m;const g=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ct.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(a=>{const o=new ec(this,qt.leave,{},n);o.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,s,a){const o=new AbortController,c=setTimeout(()=>o.abort(),a),d=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),d}_push(n,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ec(this,n,s,a);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,s,a){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,a){var o,c;const d=n.toLocaleLowerCase(),{close:f,error:m,leave:g,join:x}=qt;if(a&&[f,m,g,x].indexOf(d)>=0&&a!==this._joinRef())return;let w=this._onMessage(d,s,a);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(j=>{var N,C,A;return((N=j.filter)===null||N===void 0?void 0:N.event)==="*"||((A=(C=j.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===d}).map(j=>j.callback(w,a)):(c=this.bindings[d])===null||c===void 0||c.filter(j=>{var N,C,A,_,P,S;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const L=j.id,I=(N=j.filter)===null||N===void 0?void 0:N.event;return L&&((C=s.ids)===null||C===void 0?void 0:C.includes(L))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const L=(P=(_=j==null?void 0:j.filter)===null||_===void 0?void 0:_.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return L==="*"||L===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:C,table:A,commit_timestamp:_,type:P,errors:S}=N;w=Object.assign(Object.assign({},{schema:C,table:A,commit_timestamp:_,eventType:P,new:{},old:{},errors:S}),this._getPayloadRecords(N))}j.callback(w,a)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,a){const o=n.toLocaleLowerCase(),c={type:o,filter:s,callback:a};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,s){const a=n.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&tu.isEqual(o.filter,s))}),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const a in n)if(n[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(qt.close,{},n)}_onError(n){this._on(qt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=_f(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=_f(n.columns,n.old_record)),s}}const Pf=()=>{},Ey=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Py{constructor(n,s){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=yy,this.params={},this.timeout=zm,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pf,this.ref=0,this.logger=Pf,this.conn=null,this.sendBuffer=[],this.serializer=new by,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...f)=>os(async()=>{const{default:m}=await Promise.resolve().then(()=>ls);return{default:m}},void 0).then(({default:m})=>m(...f)):d=fetch,(...f)=>d(...f)},this.endPoint=`${n}/${Mc.websocket}`,this.httpEndpoint=Gm(n),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const o=(a=s==null?void 0:s.params)===null||a===void 0?void 0:a.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(c,d)=>d(JSON.stringify(c)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new qm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Oc),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Ty(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vy}))}disconnect(n,s){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(a=>a.teardown()))}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels=this.channels.filter(a=>a._joinRef!==n._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,a){this.logger(n,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return sn.Connecting;case ts.open:return sn.Open;case ts.closing:return sn.Closing;default:return sn.Closed}}isConnected(){return this.connectionState()===sn.Open}channel(n,s={config:{}}){const a=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===a);if(o)return o;{const c=new tu(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:a,payload:o,ref:c}=n,d=()=>{this.encode(n,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${s} ${a} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){let s=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{s&&a.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),a.joinedOnce&&a._isJoined()&&a._push(qt.access_token,{access_token:s})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(wy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(a=>a.topic===n&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,s=>{let{topic:a,event:o,payload:c,ref:d}=s;a==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${a} ${o} ${d&&"("+d+")"||""}`,c),Array.from(this.channels).filter(f=>f._isMember(a)).forEach(f=>f._trigger(o,c,d)),this.stateChangeCallbacks.message.forEach(f=>f(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(qt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const a=n.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${n}${a}${o}`}_workerObjectUrl(n){let s;if(n)s=n;else{const a=new Blob([Ey],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}}class Ty{constructor(n,s,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ts.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=a.close}}class ru extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ze(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class Ay extends ru{constructor(n,s){super(n),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Uc extends ru{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var Ry=function(l,n,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(x){try{g(a.next(x))}catch(y){d(y)}}function m(x){try{g(a.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(f,m)}g((a=a.apply(l,n||[])).next())})};const Hm=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>os(async()=>{const{default:a}=await Promise.resolve().then(()=>ls);return{default:a}},void 0).then(({default:a})=>a(...s)):n=fetch,(...s)=>n(...s)},Ly=()=>Ry(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield os(()=>Promise.resolve().then(()=>ls),void 0)).Response:Response}),$c=l=>{if(Array.isArray(l))return l.map(s=>$c(s));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([s,a])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=$c(a)}),n};var dn=function(l,n,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(x){try{g(a.next(x))}catch(y){d(y)}}function m(x){try{g(a.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(f,m)}g((a=a.apply(l,n||[])).next())})};const tc=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Iy=(l,n,s)=>dn(void 0,void 0,void 0,function*(){const a=yield Ly();l instanceof a&&!(s!=null&&s.noResolveJson)?l.json().then(o=>{n(new Ay(tc(o),l.status||500))}).catch(o=>{n(new Uc(tc(o),o))}):n(new Uc(tc(l),l))}),Oy=(l,n,s,a)=>{const o={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),a&&(o.body=JSON.stringify(a)),Object.assign(Object.assign({},o),s))};function ga(l,n,s,a,o,c){return dn(this,void 0,void 0,function*(){return new Promise((d,f)=>{l(s,Oy(n,a,o,c)).then(m=>{if(!m.ok)throw m;return a!=null&&a.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>Iy(m,f,a))})})}function zi(l,n,s,a){return dn(this,void 0,void 0,function*(){return ga(l,"GET",n,s,a)})}function Fr(l,n,s,a,o){return dn(this,void 0,void 0,function*(){return ga(l,"POST",n,a,o,s)})}function My(l,n,s,a,o){return dn(this,void 0,void 0,function*(){return ga(l,"PUT",n,a,o,s)})}function Dy(l,n,s,a){return dn(this,void 0,void 0,function*(){return ga(l,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function Vm(l,n,s,a,o){return dn(this,void 0,void 0,function*(){return ga(l,"DELETE",n,a,o,s)})}var xt=function(l,n,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(x){try{g(a.next(x))}catch(y){d(y)}}function m(x){try{g(a.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(f,m)}g((a=a.apply(l,n||[])).next())})};const Uy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $y{constructor(n,s={},a,o){this.url=n,this.headers=s,this.bucketId=a,this.fetch=Hm(o)}uploadOrUpdate(n,s,a,o){return xt(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},Tf),o);let f=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl),m&&c.append("metadata",this.encodeMetadata(m))):(c=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o!=null&&o.headers&&(f=Object.assign(Object.assign({},f),o.headers));const g=this._removeEmptyFolders(s),x=this._getFinalPath(g),y=yield this.fetch(`${this.url}/object/${x}`,Object.assign({method:n,body:c,headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{})),w=yield y.json();return y.ok?{data:{path:g,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}upload(n,s,a){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,a)})}uploadToSignedUrl(n,s,a,o){return xt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",s);try{let m;const g=Object.assign({upsert:Tf.upsert},o),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&a instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",a)):typeof FormData<"u"&&a instanceof FormData?(m=a,m.append("cacheControl",g.cacheControl)):(m=a,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const y=yield this.fetch(f.toString(),{method:"PUT",body:m,headers:x}),w=yield y.json();return y.ok?{data:{path:c,fullPath:w.Key},error:null}:{data:null,error:w}}catch(m){if(Ze(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,s){return xt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n);const o=Object.assign({},this.headers);s!=null&&s.upsert&&(o["x-upsert"]="true");const c=yield Fr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),d=new URL(this.url+c.url),f=d.searchParams.get("token");if(!f)throw new ru("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:f},error:null}}catch(a){if(Ze(a))return{data:null,error:a};throw a}})}update(n,s,a){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,a)})}move(n,s,a){return xt(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}copy(n,s,a){return xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Fr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}createSignedUrl(n,s,a){return xt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),c=yield Fr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}createSignedUrls(n,s,a){return xt(this,void 0,void 0,function*(){try{const o=yield Fr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}download(n,s){return xt(this,void 0,void 0,function*(){const o=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),d=c?`?${c}`:"";try{const f=this._getFinalPath(n);return{data:yield(yield zi(this.fetch,`${this.url}/${o}/${f}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Ze(f))return{data:null,error:f};throw f}})}info(n){return xt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const a=yield zi(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:$c(a),error:null}}catch(a){if(Ze(a))return{data:null,error:a};throw a}})}exists(n){return xt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Dy(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(Ze(a)&&a instanceof Uc){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}})}getPublicUrl(n,s){const a=this._getFinalPath(n),o=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&o.push(c);const f=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&o.push(m);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${g}`)}}}remove(n){return xt(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}list(n,s,a){return xt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Uy),s),{prefix:n||""});return{data:yield Fr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Fy="2.7.1",By={"X-Client-Info":`storage-js/${Fy}`};var Hn=function(l,n,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(x){try{g(a.next(x))}catch(y){d(y)}}function m(x){try{g(a.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(f,m)}g((a=a.apply(l,n||[])).next())})};class zy{constructor(n,s={},a){this.url=n,this.headers=Object.assign(Object.assign({},By),s),this.fetch=Hm(a)}listBuckets(){return Hn(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}getBucket(n){return Hn(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return Hn(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Ze(a))return{data:null,error:a};throw a}})}updateBucket(n,s){return Hn(this,void 0,void 0,function*(){try{return{data:yield My(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Ze(a))return{data:null,error:a};throw a}})}emptyBucket(n){return Hn(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}deleteBucket(n){return Hn(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}}class qy extends zy{constructor(n,s={},a){super(n,s,a)}from(n){return new $y(this.url,this.headers,n,this.fetch)}}const Wy="2.50.0";let ra="";typeof Deno<"u"?ra="deno":typeof document<"u"?ra="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ra="react-native":ra="node";const Gy={"X-Client-Info":`supabase-js-${ra}/${Wy}`},Hy={headers:Gy},Vy={schema:"public"},Ky={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jy={};var Qy=function(l,n,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(x){try{g(a.next(x))}catch(y){d(y)}}function m(x){try{g(a.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(f,m)}g((a=a.apply(l,n||[])).next())})};const Yy=l=>{let n;return l?n=l:typeof fetch>"u"?n=Mm:n=fetch,(...s)=>n(...s)},Xy=()=>typeof Headers>"u"?Dm:Headers,Zy=(l,n,s)=>{const a=Yy(s),o=Xy();return(c,d)=>Qy(void 0,void 0,void 0,function*(){var f;const m=(f=yield n())!==null&&f!==void 0?f:l;let g=new o(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",l),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),a(c,Object.assign(Object.assign({},d),{headers:g}))})};var ev=function(l,n,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(x){try{g(a.next(x))}catch(y){d(y)}}function m(x){try{g(a.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(f,m)}g((a=a.apply(l,n||[])).next())})};function tv(l){return l.endsWith("/")?l:l+"/"}function rv(l,n){var s,a;const{db:o,auth:c,realtime:d,global:f}=l,{db:m,auth:g,realtime:x,global:y}=n,w={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},x),d),global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(s=y==null?void 0:y.headers)!==null&&s!==void 0?s:{}),(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>ev(this,void 0,void 0,function*(){return""})};return l.accessToken?w.accessToken=l.accessToken:delete w.accessToken,w}const Km="2.70.0",Zn=30*1e3,Fc=3,rc=Fc*Zn,nv="http://localhost:9999",sv="supabase.auth.token",av={"X-Client-Info":`gotrue-js/${Km}`},Bc="X-Supabase-Api-Version",Jm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ov=6e5;class nu extends Error{constructor(n,s,a){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function ve(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class lv extends nu{constructor(n,s,a){super(n,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function cv(l){return ve(l)&&l.name==="AuthApiError"}class Qm extends nu{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class zr extends nu{constructor(n,s,a,o){super(n,a,o),this.name=s,this.status=a}}class $r extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uv(l){return ve(l)&&l.name==="AuthSessionMissingError"}class Ei extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pi extends zr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Ti extends zr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dv(l){return ve(l)&&l.name==="AuthImplicitGrantRedirectError"}class Af extends zr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zc extends zr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function nc(l){return ve(l)&&l.name==="AuthRetryableFetchError"}class Rf extends zr{constructor(n,s,a){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class aa extends zr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lf=` 	
\r=`.split(""),hv=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<Lf.length;n+=1)l[Lf[n].charCodeAt(0)]=-2;for(let n=0;n<qi.length;n+=1)l[qi[n].charCodeAt(0)]=n;return l})();function If(l,n,s){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const a=n.queue>>n.queuedBits-6&63;s(qi[a]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const a=n.queue>>n.queuedBits-6&63;s(qi[a]),n.queuedBits-=6}}function Ym(l,n,s){const a=hv[l];if(a>-1)for(n.queue=n.queue<<6|a,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Of(l){const n=[],s=d=>{n.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{pv(d,a,s)};for(let d=0;d<l.length;d+=1)Ym(l.charCodeAt(d),o,c);return n.join("")}function fv(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function mv(l,n){for(let s=0;s<l.length;s+=1){let a=l.charCodeAt(s);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(l.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}fv(a,n)}}function pv(l,n,s){if(n.utf8seq===0){if(l<=127){s(l);return}for(let a=1;a<6;a+=1)if((l>>7-a&1)===0){n.utf8seq=a;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function gv(l){const n=[],s={queue:0,queuedBits:0},a=o=>{n.push(o)};for(let o=0;o<l.length;o+=1)Ym(l.charCodeAt(o),s,a);return new Uint8Array(n)}function xv(l){const n=[];return mv(l,s=>n.push(s)),new Uint8Array(n)}function yv(l){const n=[],s={queue:0,queuedBits:0},a=o=>{n.push(o)};return l.forEach(o=>If(o,s,a)),If(null,s,a),n.join("")}function vv(l){return Math.round(Date.now()/1e3)+l}function wv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const n=Math.random()*16|0;return(l=="x"?n:n&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",rn={tested:!1,writable:!1},ia=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rn.tested)return rn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),rn.tested=!0,rn.writable=!0}catch{rn.tested=!0,rn.writable=!1}return rn.writable};function bv(l){const n={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return s.searchParams.forEach((a,o)=>{n[o]=a}),n}const Xm=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>os(async()=>{const{default:a}=await Promise.resolve().then(()=>ls);return{default:a}},void 0).then(({default:a})=>a(...s)):n=fetch,(...s)=>n(...s)},jv=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Zm=async(l,n,s)=>{await l.setItem(n,JSON.stringify(s))},Ai=async(l,n)=>{const s=await l.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ri=async(l,n)=>{await l.removeItem(n)};class Qi{constructor(){this.promise=new Qi.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Qi.promiseConstructor=Promise;function sc(l){const n=l.split(".");if(n.length!==3)throw new aa("Invalid JWT structure");for(let a=0;a<n.length;a++)if(!iv.test(n[a]))throw new aa("JWT not in base64url format");return{header:JSON.parse(Of(n[0])),payload:JSON.parse(Of(n[1])),signature:gv(n[2]),raw:{header:n[0],payload:n[1]}}}async function Nv(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function kv(l,n){return new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await l(c);if(!n(c,null,d)){a(d);return}}catch(d){if(!n(c,d)){o(d);return}}})()})}function _v(l){return("0"+l.toString(16)).substr(-2)}function Sv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(n),Array.from(n,_v).join("")}async function Cv(l){const s=new TextEncoder().encode(l),a=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(a);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function Ev(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await Cv(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vn(l,n,s=!1){const a=Sv();let o=a;s&&(o+="/PASSWORD_RECOVERY"),await Zm(l,`${n}-code-verifier`,o);const c=await Ev(a);return[c,a===c?"plain":"s256"]}const Pv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tv(l){const n=l.headers.get(Bc);if(!n||!n.match(Pv))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Av(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function Rv(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Lv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kn(l){if(!Lv.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Iv=function(l,n){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&n.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(l);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(l,a[o])&&(s[a[o]]=l[a[o]]);return s};const nn=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Ov=[502,503,504];async function Mf(l){var n;if(!jv(l))throw new zc(nn(l),0);if(Ov.includes(l.status))throw new zc(nn(l),l.status);let s;try{s=await l.json()}catch(c){throw new Qm(nn(c),c)}let a;const o=Tv(l);if(o&&o.getTime()>=Jm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Rf(nn(s),l.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(a==="session_not_found")throw new $r}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new Rf(nn(s),l.status,s.weak_password.reasons);throw new lv(nn(s),l.status||500,a)}const Mv=(l,n,s,a)=>{const o={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),s))};async function Ne(l,n,s,a){var o;const c=Object.assign({},a==null?void 0:a.headers);c[Bc]||(c[Bc]=Jm["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const d=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(d.redirect_to=a.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await Dv(l,n,s+f,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(m):{data:Object.assign({},m),error:null}}async function Dv(l,n,s,a,o,c){const d=Mv(n,a,o,c);let f;try{f=await l(s,Object.assign({},d))}catch(m){throw console.error(m),new zc(nn(m),0)}if(f.ok||await Mf(f),a!=null&&a.noResolveJson)return f;try{return await f.json()}catch(m){await Mf(m)}}function dr(l){var n;let s=null;Bv(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=vv(l.expires_in)));const a=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:s,user:a},error:null}}function Df(l){const n=dr(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(n.data.weak_password=l.weak_password),n}function Br(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function Uv(l){return{data:l,error:null}}function $v(l){const{action_link:n,email_otp:s,hashed_token:a,redirect_to:o,verification_type:c}=l,d=Iv(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:s,hashed_token:a,redirect_to:o,verification_type:c},m=Object.assign({},d);return{data:{properties:f,user:m},error:null}}function Fv(l){return l}function Bv(l){return l.access_token&&l.refresh_token&&l.expires_in}const ac=["global","local","others"];var zv=function(l,n){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&n.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(l);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(l,a[o])&&(s[a[o]]=l[a[o]]);return s};class qv{constructor({url:n="",headers:s={},fetch:a}){this.url=n,this.headers=s,this.fetch=Xm(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=ac[0]){if(ac.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ac.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}}async inviteUserByEmail(n,s={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Br})}catch(a){if(ve(a))return{data:{user:null},error:a};throw a}}async generateLink(n){try{const{options:s}=n,a=zv(n,["options"]),o=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:$v,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ve(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Br})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,a,o,c,d,f,m;try{const g={nextPage:null,lastPage:0,total:0},x=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=n==null?void 0:n.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Fv});if(x.error)throw x.error;const y=await x.json(),w=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(m=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return j.length>0&&(j.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(N.split(";")[1].split("=")[1]);g[`${A}Page`]=C}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ve(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Kn(n);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Br})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){Kn(n);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Br})}catch(a){if(ve(a))return{data:{user:null},error:a};throw a}}async deleteUser(n,s=!1){Kn(n);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Br})}catch(a){if(ve(a))return{data:{user:null},error:a};throw a}}async _listFactors(n){Kn(n.userId);try{const{data:s,error:a}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:a}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _deleteFactor(n){Kn(n.userId),Kn(n.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}}const Wv={getItem:l=>ia()?globalThis.localStorage.getItem(l):null,setItem:(l,n)=>{ia()&&globalThis.localStorage.setItem(l,n)},removeItem:l=>{ia()&&globalThis.localStorage.removeItem(l)}};function Uf(l={}){return{getItem:n=>l[n]||null,setItem:(n,s)=>{l[n]=s},removeItem:n=>{delete l[n]}}}function Gv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jn={debug:!!(globalThis&&ia()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ep extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Hv extends ep{}async function Vv(l,n,s){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const a=new globalThis.AbortController;return n>0&&setTimeout(()=>{a.abort(),Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,o.name);try{return await s()}finally{Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,o.name)}}else{if(n===0)throw Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Hv(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Jn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Gv();const Kv={url:nv,storageKey:sv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:av,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $f(l,n,s){return await s()}class da{constructor(n){var s,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=da.nextInstanceID,da.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Kv),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new qv({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Xm(o.fetch),this.lock=o.lock||$f,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:zt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Vv:this.lock=$f,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:ia()?this.storage=Wv:(this.memoryStorage={},this.storage=Uf(this.memoryStorage)):(this.memoryStorage={},this.storage=Uf(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Km}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=bv(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),zt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),dv(c)){const m=(n=c.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ve(s)?{error:s}:{error:new Qm("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,a,o;try{const c=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=n==null?void 0:n.options)===null||o===void 0?void 0:o.captchaToken}},xform:dr}),{data:d,error:f}=c;if(f||!d)return{data:{user:null,session:null},error:f};const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(c){if(ve(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,a,o;try{let c;if("email"in n){const{email:x,password:y,options:w}=n;let j=null,N=null;this.flowType==="pkce"&&([j,N]=await Vn(this.storage,this.storageKey)),c=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:x,password:y,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:j,code_challenge_method:N},xform:dr})}else if("phone"in n){const{phone:x,password:y,options:w}=n;c=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(a=w==null?void 0:w.data)!==null&&a!==void 0?a:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:dr})}else throw new Pi("You must provide either an email or phone number and a password");const{data:d,error:f}=c;if(f||!d)return{data:{user:null,session:null},error:f};const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(c){if(ve(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:d,options:f}=n;s=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Df})}else if("phone"in n){const{phone:c,password:d,options:f}=n;s=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Df})}else throw new Pi("You must provide either an email or phone number and a password");const{data:a,error:o}=s;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Ei}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,a,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=n.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,a,o,c,d,f,m,g,x,y,w,j;let N,C;if("message"in n)N=n.message,C=n.signature;else{const{chain:A,wallet:_,statement:P,options:S}=n;let L;if(zt())if(typeof _=="object")L=_;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))L=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=_}const I=new URL((s=S==null?void 0:S.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in L&&L.signIn){const U=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),P?{statement:P}:null));let z;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")z=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)z=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)N=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),C=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${I.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(a=S==null?void 0:S.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((f=S==null?void 0:S.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((g=S==null?void 0:S.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((y=(x=S==null?void 0:S.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...S.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const U=await L.signMessage(new TextEncoder().encode(N),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=U}}try{const{data:A,error:_}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:yv(C)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:dr});if(_)throw _;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Ei}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:_})}catch(A){if(ve(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(n){const s=await Ai(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(s??"").split("/");try{const{data:c,error:d}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:a},xform:dr});if(await Ri(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Ei}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(ve(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:a,token:o,access_token:c,nonce:d}=n,f=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:dr}),{data:m,error:g}=f;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ei}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,a,o,c,d;try{if("email"in n){const{email:f,options:m}=n;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Vn(this.storage,this.storageKey));const{error:y}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:f,options:m}=n,{data:g,error:x}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x}}throw new Pi("You must provide either an email or phone number.")}catch(f){if(ve(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(n){var s,a;try{let o,c;"options"in n&&(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(a=n.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:f}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:dr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(n){var s,a,o;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await Vn(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(a=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=n==null?void 0:n.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:Uv})}catch(c){if(ve(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)throw a;if(!s)throw new $r;const{error:o}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:a,type:o,options:c}=n,{error:d}=await Ne(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in n){const{phone:a,type:o,options:c}=n,{data:d,error:f}=await Ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new Pi("You must provide either an email or phone number and a type")}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Ai(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const a=n.expires_at?n.expires_at*1e3-Date.now()<rc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",n.expires_at),!a){if(this.storage.isServer){let d=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,g,x)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,g,x))})}return{data:{session:n},error:null}}const{session:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Br}):await this._useSession(async s=>{var a,o,c;const{data:d,error:f}=s;if(f)throw f;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Br})})}catch(s){if(ve(s))return uv(s)&&(await this._removeSession(),await Ri(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async a=>{const{data:o,error:c}=a;if(c)throw c;if(!o.session)throw new $r;const d=o.session;let f=null,m=null;this.flowType==="pkce"&&n.email!=null&&([f,m]=await Vn(this.storage,this.storageKey));const{data:g,error:x}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:m}),jwt:d.access_token,xform:Br});if(x)throw x;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(a){if(ve(a))return{data:{user:null},error:a};throw a}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new $r;const s=Date.now()/1e3;let a=s,o=!0,c=null;const{payload:d}=sc(n.access_token);if(d.exp&&(a=d.exp,o=a<=s),o){const{session:f,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:m}=await this._getUser(n.access_token);if(m)throw m;c={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(ve(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var a;if(!n){const{data:d,error:f}=s;if(f)throw f;n=(a=d.session)!==null&&a!==void 0?a:void 0}if(!(n!=null&&n.refresh_token))throw new $r;const{session:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!zt())throw new Ti("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Ti(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Af("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ti("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Af("No code detected.");const{data:P,error:S}=await this._exchangeCodeForSession(n.code);if(S)throw S;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:f,expires_at:m,token_type:g}=n;if(!c||!f||!d||!g)throw new Ti("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(f);let w=x+y;m&&(w=parseInt(m));const j=w-x;j*1e3<=Zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${y}s`);const N=w-y;x-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,x):x-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,x);const{data:C,error:A}=await this._getUser(c);if(A)throw A;const _={provider_token:a,provider_refresh_token:o,access_token:c,expires_in:y,expires_at:w,refresh_token:d,token_type:g,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:n.type},error:null}}catch(a){if(ve(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Ai(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return{error:c};const d=(a=o.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:f}=await this.admin.signOut(d,n);if(f&&!(cv(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return n!=="others"&&(await this._removeSession(),await Ri(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=wv(),a={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(n){return await this._useSession(async s=>{var a,o;try{const{data:{session:c},error:d}=s;if(d)throw d;await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Vn(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(ve(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:a,error:o}=await this._useSession(async c=>{var d,f,m,g,x;const{data:y,error:w}=c;if(w)throw w;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",j,{headers:this.headers,jwt:(x=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return zt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:n.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(ve(a))return{data:{provider:n.provider,url:null},error:a};throw a}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var a,o;const{data:c,error:d}=s;if(d)throw d;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await kv(async o=>(o>0&&await Nv(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:dr})),(o,c)=>{const d=200*Math.pow(2,o);return c&&nc(c)&&Date.now()+d-a<Zn})}catch(a){if(this._debug(s,"error",a),ve(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",a),zt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:n,url:a},error:null}}async _recoverAndRefresh(){var n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Ai(this.storage,this.storageKey);if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rc;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${rc}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),nc(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var s,a;if(!n)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Qi;const{data:c,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!c.session)throw new $r;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={session:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(o,"error",c),ve(c)){const d={session:null,error:c};return nc(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,s,a=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,s)}catch(m){c.push(m)}});if(await Promise.all(d),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Zm(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await Ri(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Zn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-n)/Zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Zn}ms, refresh threshold is ${Fc} ticks`),o<=Fc&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof ep)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,a){const o=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,d]=await Vn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(f.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);o.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;return c?{data:null,error:c}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var a,o;const{data:c,error:d}=s;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:g}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(n.factorType==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return{data:null,error:c};const{data:d,error:f}=await Ne(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(s){if(ve(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;return c?{data:null,error:c}:await Ne(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(ve(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:a}=await this._challenge({factorId:n.factorId});return a?{data:null,error:a}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(n==null?void 0:n.factors)||[],o=a.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=a.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:a,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,a;const{data:{session:o},error:c}=n;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=sc(o.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((a=(s=o.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const x=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(n,s={keys:[]}){let a=s.keys.find(d=>d.kid===n);if(a||(a=this.jwks.keys.find(d=>d.kid===n),a&&this.jwks_cached_at+ov>Date.now()))return a;const{data:o,error:c}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;if(!o.keys||o.keys.length===0)throw new aa("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),a=o.keys.find(d=>d.kid===n),!a)throw new aa("No matching signing key found in JWKS");return a}async getClaims(n,s={keys:[]}){try{let a=n;if(!a){const{data:j,error:N}=await this.getSession();if(N||!j.session)return{data:null,error:N};a=j.session.access_token}const{header:o,payload:c,signature:d,raw:{header:f,payload:m}}=sc(a);if(Av(c.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:j}=await this.getUser(a);if(j)throw j;return{data:{claims:c,header:o,signature:d},error:null}}const g=Rv(o.alg),x=await this.fetchJwk(o.kid,s),y=await crypto.subtle.importKey("jwk",x,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,d,xv(`${f}.${m}`)))throw new aa("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}}}da.nextInstanceID=0;const Jv=da;class Qv extends Jv{constructor(n){super(n)}}var Yv=function(l,n,s,a){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(x){try{g(a.next(x))}catch(y){d(y)}}function m(x){try{g(a.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(f,m)}g((a=a.apply(l,n||[])).next())})};class Xv{constructor(n,s,a){var o,c,d;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const f=tv(n),m=new URL(f);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,x={db:Vy,realtime:Jy,auth:Object.assign(Object.assign({},Ky),{storageKey:g}),global:Hy},y=rv(a??{},x);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=Zy(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new gy(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new sy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qy(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},a={}){return this.rest.rpc(n,s,a)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return Yv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:a,storage:o,storageKey:c,flowType:d,lock:f,debug:m},g,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qv({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),g),storageKey:c,autoRefreshToken:n,persistSession:s,detectSessionInUrl:a,storage:o,flowType:d,lock:f,debug:m,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Py(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(n,s,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zv=(l,n,s)=>new Xv(l,n,s),ew="https://nxwflnxspsokscfhuaqr.supabase.co",tw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im54d2ZsbnhzcHNva3NjZmh1YXFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3Njk5MzQsImV4cCI6MjA2NjM0NTkzNH0.jMWf2BEfI_4gAtMO9yzv3Nw5QWiIhyPanANP5px51gA";let He,se;He=!0,se=Zv(ew,tw);const ur={signUp:async()=>({data:null,error:{message:"Authentication is temporarily disabled"}}),signInWithPassword:async()=>({data:null,error:{message:"Authentication is temporarily disabled"}}),signInWithOAuth:async()=>({data:null,error:{message:"Authentication is temporarily disabled"}}),signOut:async()=>({error:null}),resetPasswordForEmail:async()=>({data:null,error:{message:"Authentication is temporarily disabled"}}),updateUser:async()=>({data:null,error:{message:"Authentication is temporarily disabled"}}),getSession:async()=>({session:null,error:null}),getUser:async()=>({user:null,error:null}),onAuthStateChange:l=>(l("SIGNED_OUT",null),{data:{subscription:{unsubscribe:()=>{}}}})},hr={signUp:async(l,n,s={})=>{if(!He)return console.warn("Supabase not configured - using mock auth"),ur.signUp();const{data:a,error:o}=await se.auth.signUp({email:l,password:n,options:s});return{data:a,error:o}},signIn:async(l,n)=>{if(!He)return console.warn("Supabase not configured - using mock auth"),ur.signInWithPassword();const{data:s,error:a}=await se.auth.signInWithPassword({email:l,password:n});return{data:s,error:a}},signInWithOAuth:async l=>{if(!He)return console.warn("Supabase not configured - using mock auth"),ur.signInWithOAuth();const{data:n,error:s}=await se.auth.signInWithOAuth({provider:l,options:{redirectTo:`${window.location.origin}/auth/callback`}});return{data:n,error:s}},signOut:async()=>{if(!He)return ur.signOut();const{error:l}=await se.auth.signOut();return{error:l}},resetPassword:async l=>{if(!He)return console.warn("Supabase not configured - using mock auth"),ur.resetPasswordForEmail();const{data:n,error:s}=await se.auth.resetPasswordForEmail(l,{redirectTo:`${window.location.origin}/auth/reset-password`});return{data:n,error:s}},updatePassword:async l=>{if(!He)return console.warn("Supabase not configured - using mock auth"),ur.updateUser();const{data:n,error:s}=await se.auth.updateUser({password:l});return{data:n,error:s}},getSession:async()=>{if(!He)return ur.getSession();const{data:{session:l},error:n}=await se.auth.getSession();return{session:l,error:n}},getUser:async()=>{if(!He)return ur.getUser();const{data:{user:l},error:n}=await se.auth.getUser();return{user:l,error:n}},onAuthStateChange:l=>He?se.auth.onAuthStateChange(l):ur.onAuthStateChange(l)},rw=Object.freeze(Object.defineProperty({__proto__:null,auth:hr,get isAuthEnabled(){return He},get supabase(){return se}},Symbol.toStringTag,{value:"Module"})),Qn=new Map,nw=300*1e3,sw=["bartjan.decroos@me.com"],ze={FREE:"free",PRO:"pro",ENTERPRISE:"enterprise"};class an{static async isProUser(n){var c,d,f;if(!n)return!1;if(sw.includes((c=n.email)==null?void 0:c.toLowerCase()))return!0;const s=`pro_status_${n.id}`,a=Qn.get(s);if(a&&Date.now()-a.timestamp<nw)return a.isPro;if(((d=n.user_metadata)==null?void 0:d.subscription_tier)===ze.PRO)return this.cacheResult(s,!0),!0;if(((f=n.app_metadata)==null?void 0:f.subscription_tier)===ze.PRO)return this.cacheResult(s,!0),!0;if(He)try{const m=await this.checkDatabaseSubscription(n.id);if(m!==null)return this.cacheResult(s,m),m}catch(m){console.warn("Failed to check database subscription:",m)}const o=this.hasSubscriptionIndicators(n);return this.cacheResult(s,o),o}static async getSubscriptionTier(n){return n&&await this.isProUser(n)?ze.PRO:ze.FREE}static async checkDatabaseSubscription(n){try{const{data:s,error:a}=await se.from("profiles").select("subscription_tier, subscription_status, subscription_expires_at").eq("id",n).single();if(a){if(a.code==="PGRST116"||a.code==="42P01")return null;throw a}if(!s)return null;const o=s.subscription_status==="active",c=s.subscription_tier===ze.PRO,d=!s.subscription_expires_at||new Date(s.subscription_expires_at)>new Date;return o&&c&&d}catch(s){return console.error("Database subscription check failed:",s),null}}static hasSubscriptionIndicators(n){const s={...n.user_metadata,...n.app_metadata};return s.subscription_tier===ze.PRO||s.plan==="pro"||s.tier==="pro"||s.subscription==="pro"||s.is_pro===!0||s.premium===!0||s.paid===!0}static async updateSubscription(n,s,a="active",o=null){if(!He)return!1;try{const{error:c}=await se.from("profiles").upsert({id:n,subscription_tier:s,subscription_status:a,subscription_expires_at:o,updated_at:new Date().toISOString()});if(c)throw c;const d=`pro_status_${n}`;return Qn.delete(d),!0}catch(c){return console.error("Failed to update subscription:",c),!1}}static async grantProAccess(n){if(!He)return!1;try{const{data:s,error:a}=await se.auth.admin.listUsers();if(a)throw a;const o=s.users.find(f=>{var m;return((m=f.email)==null?void 0:m.toLowerCase())===n.toLowerCase()});if(!o)return console.error("User not found:",n),!1;const{error:c}=await se.auth.admin.updateUserById(o.id,{user_metadata:{...o.user_metadata,subscription_tier:ze.PRO}});if(c)throw c;await this.updateSubscription(o.id,ze.PRO);const d=`pro_status_${o.id}`;return Qn.delete(d),console.log(`Pro access granted to ${n}`),!0}catch(s){return console.error("Failed to grant Pro access:",s),!1}}static cacheResult(n,s){Qn.set(n,{isPro:s,timestamp:Date.now()})}static clearCache(n){const s=`pro_status_${n}`;Qn.delete(s)}static clearAllCache(){Qn.clear()}static getFeatureLimits(n){switch(n){case ze.PRO:return{maxTokens:2e5,maxPrompts:-1,maxEnrichments:-1,advancedFeatures:!0,prioritySupport:!0,customModels:!0};case ze.FREE:default:return{maxTokens:4e3,maxPrompts:50,maxEnrichments:10,advancedFeatures:!1,prioritySupport:!1,customModels:!1}}}static async canPerformAction(n,s){const a=await this.getSubscriptionTier(n),o=this.getFeatureLimits(a);switch(s){case"use_advanced_features":return o.advancedFeatures;case"unlimited_prompts":return o.maxPrompts===-1;case"unlimited_enrichments":return o.maxEnrichments===-1;case"priority_support":return o.prioritySupport;case"custom_models":return o.customModels;default:return!0}}}const tp=b.createContext({}),hn=()=>{const l=b.useContext(tp);if(!l)throw new Error("useAuth must be used within an AuthProvider");return l},aw=({children:l})=>{const[n,s]=b.useState(null),[a,o]=b.useState(null),[c,d]=b.useState(!0),[f,m]=b.useState(!1),[g,x]=b.useState(ze.FREE),y=async S=>{var L;if(!S){m(!1),x(ze.FREE);return}try{const I=await an.isProUser(S),U=await an.getSubscriptionTier(S);m(I),x(U),console.log(`User ${S.email} subscription status:`,{isPro:I,tier:U})}catch(I){console.error("Failed to check subscription status:",I);const U=((L=S==null?void 0:S.user_metadata)==null?void 0:L.subscription_tier)==="pro"||!1;m(U),x(U?ze.PRO:ze.FREE)}};b.useEffect(()=>{hr.getSession().then(async({session:L,error:I})=>{I?console.error("Error getting session:",I):(o(L),s((L==null?void 0:L.user)??null),await y((L==null?void 0:L.user)??null)),d(!1)});const{data:{subscription:S}}=hr.onAuthStateChange(async(L,I)=>{var U;console.log("Auth state changed:",{event:L,session:I?{user:(U=I.user)==null?void 0:U.email,expires_at:I.expires_at}:null,timestamp:new Date().toISOString()}),o(I),s((I==null?void 0:I.user)??null),await y((I==null?void 0:I.user)??null),d(!1)});return()=>S.unsubscribe()},[]);const P={user:n,session:a,loading:c,signUp:async(S,L,I)=>{d(!0);try{const{data:U,error:z}=await hr.signUp(S,L,I);return{data:U,error:z}}finally{d(!1)}},signIn:async(S,L)=>{d(!0);try{const{data:I,error:U}=await hr.signIn(S,L);return{data:I,error:U}}finally{d(!1)}},signInWithOAuth:async S=>{d(!0);try{const{data:L,error:I}=await hr.signInWithOAuth(S);return{data:L,error:I}}finally{d(!1)}},signOut:async()=>{d(!0);try{const{error:S}=await hr.signOut();return{error:S}}finally{d(!1)}},resetPassword:async S=>{const{data:L,error:I}=await hr.resetPassword(S);return{data:L,error:I}},updatePassword:async S=>{const{data:L,error:I}=await hr.updatePassword(S);return{data:L,error:I}},isAuthenticated:!!n,isPro:f,subscriptionTier:g,checkSubscriptionStatus:()=>y(n),refreshSubscription:async()=>{n&&(an.clearCache(n.id),await y(n))},canPerformAction:async S=>await an.canPerformAction(n,S),getFeatureLimits:()=>an.getFeatureLimits(g)};return r.jsx(tp.Provider,{value:P,children:l})};class Ve{static async getUserSettings(){try{const{data:{user:n}}=await se.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:s,error:a}=await se.rpc("get_user_settings",{user_id:n.id});if(a)throw console.error("Error fetching user settings:",a),a;return s||{}}catch(n){throw console.error("Failed to get user settings:",n),n}}static async updateNotificationSettings(n){try{const{data:{user:s}}=await se.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:o}=await se.rpc("update_user_notification_settings",{user_id:s.id,settings:n});if(o)throw console.error("Error updating notification settings:",o),o;return a}catch(s){throw console.error("Failed to update notification settings:",s),s}}static async updatePrivacySettings(n){try{const{data:{user:s}}=await se.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:o}=await se.rpc("update_user_privacy_settings",{user_id:s.id,settings:n});if(o)throw console.error("Error updating privacy settings:",o),o;return a}catch(s){throw console.error("Failed to update privacy settings:",s),s}}static async updateSecuritySettings(n){try{const{data:{user:s}}=await se.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:o}=await se.from("profiles").update({security_two_factor_enabled:n.twoFactorEnabled,security_two_factor_secret:n.twoFactorSecret,security_backup_codes:n.backupCodes,updated_at:new Date().toISOString()}).eq("id",s.id).select();if(o)throw console.error("Error updating security settings:",o),o;return a[0]}catch(s){throw console.error("Failed to update security settings:",s),s}}static async updatePaymentMethods(n,s=null){try{const{data:{user:a}}=await se.auth.getUser();if(!a)throw new Error("User not authenticated");const o=n.map(f=>({id:f.id,type:f.type,last4:f.last4,brand:f.brand,expiry_month:f.expiry_month,expiry_year:f.expiry_year,country:f.country,funding:f.funding,name:f.name||`${f.brand} ending in ${f.last4}`,isDefault:f.isDefault||!1})),{data:c,error:d}=await se.from("profiles").update({payment_methods:o,payment_default_method_id:s,updated_at:new Date().toISOString()}).eq("id",a.id).select();if(d)throw console.error("Error updating payment methods:",d),d;return c[0]}catch(a){throw console.error("Failed to update payment methods:",a),a}}static async updateBillingHistory(n){try{const{data:{user:s}}=await se.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:o}=await se.from("profiles").update({billing_history:n,updated_at:new Date().toISOString()}).eq("id",s.id).select();if(o)throw console.error("Error updating billing history:",o),o;return a[0]}catch(s){throw console.error("Failed to update billing history:",s),s}}static async updatePreferences(n){try{const{data:{user:s}}=await se.auth.getUser();if(!s)throw new Error("User not authenticated");const a={updated_at:new Date().toISOString()};n.timezone!==void 0&&(a.preferences_timezone=n.timezone),n.language!==void 0&&(a.preferences_language=n.language),n.theme!==void 0&&(a.preferences_theme=n.theme),n.emailFrequency!==void 0&&(a.preferences_email_frequency=n.emailFrequency),n.backgroundAnimation!==void 0&&(a.preferences_background_animation=n.backgroundAnimation),n.dataRetentionPolicy!==void 0&&(a.data_retention_policy=n.dataRetentionPolicy),n.dataAnalyticsOptOut!==void 0&&(a.data_analytics_opt_out=n.dataAnalyticsOptOut),n.marketingOptOut!==void 0&&(a.marketing_opt_out=n.marketingOptOut),n.dataExportConsent!==void 0&&(a.data_export_consent=n.dataExportConsent),n.dataProcessingConsent!==void 0&&(a.data_processing_consent=n.dataProcessingConsent),n.gdprConsentGiven!==void 0&&(n.gdprConsentGiven?(a.gdpr_consent_given_at=new Date().toISOString(),a.gdpr_consent_version="1.0"):a.gdpr_consent_given_at=null),n.rightToBeForgottenRequested!==void 0&&(a.right_to_be_forgotten_requested=n.rightToBeForgottenRequested),n.dataPortabilityRequested!==void 0&&(a.data_portability_requested=n.dataPortabilityRequested);const{data:o,error:c}=await se.from("profiles").update(a).eq("id",s.id).select();if(c)throw console.error("Error updating preferences:",c),c;return o[0]}catch(s){throw console.error("Failed to update preferences:",s),s}}static async updateExportPreferences(n){try{const{data:{user:s}}=await se.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:o}=await se.from("profiles").update({export_preferences:n,updated_at:new Date().toISOString()}).eq("id",s.id).select();if(o)throw console.error("Error updating export preferences:",o),o;return a[0]}catch(s){throw console.error("Failed to update export preferences:",s),s}}static async updateLoginHistory(n){try{const{data:{user:s}}=await se.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a}=await se.from("profiles").select("security_login_history, security_last_login_at").eq("id",s.id).single(),o=(a==null?void 0:a.security_login_history)||[],c=[n,...o].slice(0,50),{data:d,error:f}=await se.from("profiles").update({security_login_history:c,security_last_login_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",s.id).select();if(f)throw console.error("Error updating login history:",f),f;return d[0]}catch(s){throw console.error("Failed to update login history:",s),s}}static async getLoginHistory(){try{const{data:{user:n}}=await se.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:s,error:a}=await se.from("profiles").select("security_login_history, security_last_login_at").eq("id",n.id).single();if(a)throw console.error("Error fetching login history:",a),a;return{loginHistory:(s==null?void 0:s.security_login_history)||[],lastLoginAt:s==null?void 0:s.security_last_login_at}}catch(n){throw console.error("Failed to get login history:",n),n}}static async getPaymentMethods(){try{const{data:{user:n}}=await se.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:s,error:a}=await se.from("profiles").select("payment_methods, payment_default_method_id").eq("id",n.id).single();if(a)throw console.error("Error fetching payment methods:",a),a;return{paymentMethods:(s==null?void 0:s.payment_methods)||[],defaultMethodId:s==null?void 0:s.payment_default_method_id}}catch(n){throw console.error("Failed to get payment methods:",n),n}}static async getBillingHistory(){try{const{data:{user:n}}=await se.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:s,error:a}=await se.from("profiles").select("billing_history").eq("id",n.id).single();if(a)throw console.error("Error fetching billing history:",a),a;return(s==null?void 0:s.billing_history)||[]}catch(n){throw console.error("Failed to get billing history:",n),n}}}const rp=b.createContext(),np=()=>{const l=b.useContext(rp);if(!l)throw new Error("useBackground must be used within a BackgroundProvider");return l},iw=({children:l})=>{const[n,s]=b.useState(!0),[a,o]=b.useState(!0);b.useEffect(()=>{c()},[]);const c=async()=>{try{const m=await Ve.getUserSettings();s(m.preferences_background_animation!==!1)}catch(m){console.error("Error loading background preference:",m),s(!0)}finally{o(!1)}},f={backgroundAnimation:n,updateBackgroundPreference:async m=>{try{s(m),await Ve.updatePreferences({backgroundAnimation:m,timezone:"UTC",language:"en",emailFrequency:"weekly"})}catch(g){console.error("Error updating background preference:",g)}},loading:a};return r.jsx(rp.Provider,{value:f,children:l})},sp=b.createContext(),ap=()=>{const l=b.useContext(sp);if(!l)throw new Error("useTheme must be used within a ThemeProvider");return l},ow=({children:l})=>{const[n,s]=b.useState("light"),[a,o]=b.useState(!0);b.useEffect(()=>{c()},[]),b.useEffect(()=>{f(n)},[n]);const c=async()=>{try{const g=await Ve.getUserSettings();s(g.preferences_theme||"light")}catch(g){console.error("Error loading theme preference:",g),s("light")}finally{o(!1)}},d=async g=>{try{s(g);const x=await Ve.getUserSettings();await Ve.updatePreferences({theme:g,backgroundAnimation:x.preferences_background_animation!==!1,timezone:x.preferences_timezone||"UTC",language:x.preferences_language||"en",emailFrequency:x.preferences_email_frequency||"weekly"})}catch(x){console.error("Error updating theme preference:",x)}},f=g=>{const x=document.documentElement;g==="dark"?(x.classList.add("dark"),x.classList.remove("light")):(x.classList.add("light"),x.classList.remove("dark"))},m={theme:n,updateTheme:d,loading:a};return r.jsx(sp.Provider,{value:m,children:l})};var lw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cw=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uw=(l,n)=>{const s=b.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:f,...m},g)=>b.createElement("svg",{ref:g,...lw,width:o,height:o,stroke:a,strokeWidth:d?Number(c)*24/Number(o):c,className:`lucide lucide-${cw(l)}`,...m},[...n.map(([x,y])=>b.createElement(x,y)),...(Array.isArray(f)?f:[f])||[]]));return s.displayName=`${l}`,s};var ce=uw;const ut=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ip=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),su=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ui=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),dw=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),op=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),hw=ce("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),fw=ce("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Yi=ce("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),mw=ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),St=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),vt=ce("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Xi=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),pw=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),yt=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),gw=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xw=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),lp=ce("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),es=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),cp=ce("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),$i=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Zt=ce("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Wt=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Wi=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),on=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zi=ce("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),yw=ce("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),eo=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),vw=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Ff=ce("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ln=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ww=ce("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),au=ce("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),bw=ce("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),oa=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),up=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),iu=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),jw=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Nw=ce("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Fi=ce("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),kw=ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),dp=ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),hp=ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Bf=ce("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),_w=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),na=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Sw=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Gi=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ns=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qc=ce("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Hi=ce("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Cw=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ke=ce("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Li=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Ew=ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),cn=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),fp=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Pw=ce("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),ss=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Wc=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Tw=ce("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Ct=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),un=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ea=[{category:"Marketing Email",basic:"Write a marketing email",structured:"Write a marketing email for our new product launch targeting existing customers with a compelling subject line and clear call-to-action",enriched:"Write a compelling marketing email for our new product launch that re-engages existing customers by highlighting exclusive early access benefits, addressing their previous purchase history, including personalized discount codes with urgency-driven language, and featuring customer testimonials to build trust and drive immediate action"},{category:"Social Media",basic:"Create an Instagram post",structured:"Create an Instagram post celebrating our 10K customer milestone with engaging visuals, relevant hashtags, and a call-to-action to drive engagement",enriched:"Create a high-engagement Instagram carousel post celebrating our 10,000 customer milestone that includes behind-the-scenes team celebration photos, trending industry hashtags (#TechStartup #CustomerLove), user-generated content reshares, customer testimonial graphics, and a clear call-to-action driving traffic to our thank-you landing page with exclusive community perks"},{category:"Product Description",basic:"Describe this product",structured:"Write a product description for our project management software that highlights key features, benefits, and target audience pain points",enriched:"Write a conversion-optimized product description for our project management software that addresses busy team leads' specific pain points (missed deadlines, poor communication), highlights unique collaborative features with specific time-saving metrics, includes social proof from similar companies, incorporates SEO keywords naturally, and features risk-free trial offers with compelling urgency elements"},{category:"Technical Documentation",basic:"Write API docs",structured:"Create comprehensive API documentation for our REST endpoints with clear examples, error handling, and authentication requirements",enriched:"Create developer-friendly API documentation for our REST endpoints that includes interactive code examples, comprehensive error codes with troubleshooting steps, rate limiting guidelines, authentication flows with code samples in multiple languages, and a getting-started tutorial that gets developers to their first successful API call in under 5 minutes"},{category:"Customer Support",basic:"Handle customer complaint",structured:"Draft a professional response to a customer complaint about delayed shipping that includes empathy, solutions, and appropriate compensation",enriched:"Draft an empathetic, solution-focused response to a customer complaint about delayed shipping that acknowledges their frustration, provides specific tracking updates, offers meaningful compensation (expedited shipping + discount), includes proactive steps we're taking to prevent future delays, and ends with a personal touch that rebuilds trust and demonstrates our commitment to their success"}],Aw=()=>{const[l,n]=b.useState(0),[s,a]=b.useState(!0),[o,c]=b.useState(!1),d=b.useRef(null),f=ea[l];b.useEffect(()=>(s&&(d.current=setInterval(()=>{c(!0),setTimeout(()=>{n(w=>(w+1)%ea.length),c(!1)},150)},7e3)),()=>{d.current&&clearInterval(d.current)}),[s]);const m=b.useCallback(()=>{a(!1),c(!0),setTimeout(()=>{n(w=>w===0?ea.length-1:w-1),c(!1)},150),setTimeout(()=>a(!0),1e4)},[]),g=b.useCallback(()=>{a(!1),c(!0),setTimeout(()=>{n(w=>(w+1)%ea.length),c(!1)},150),setTimeout(()=>a(!0),1e4)},[]),x=b.useCallback(w=>{a(!1),c(!0),setTimeout(()=>{n(w),c(!1)},150),setTimeout(()=>a(!0),1e4)},[]),y=[{title:"Basic Input",subtitle:"What you start with",text:f.basic,icon:cn,bgColor:"from-gray-50 to-gray-100",borderColor:"border-gray-200",textColor:"text-gray-700",badgeColor:"bg-gray-500",step:1},{title:"Structured Prompt",subtitle:"After initial processing",text:f.structured,icon:un,bgColor:"from-blue-50 to-blue-100",borderColor:"border-blue-200",textColor:"text-blue-800",badgeColor:"bg-blue-500",step:2},{title:"AI-Enhanced Result",subtitle:"Professional optimization",text:f.enriched,icon:Ke,bgColor:"from-purple-50 to-purple-100",borderColor:"border-purple-200",textColor:"text-purple-800",badgeColor:"bg-purple-500",step:3}];return r.jsxs("div",{className:"relative bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-8 border border-blue-200/50 shadow-lg mb-12",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full text-sm font-medium text-blue-800 mb-4",children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"See the Transformation"]}),r.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-2",children:"From Simple Ideas to Professional Prompts"}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Watch how our AI transforms basic requests into detailed, effective prompts that get better results"})]}),r.jsxs("div",{className:`flex items-center justify-between mb-8 max-w-6xl mx-auto transition-opacity duration-300 ${o?"opacity-50":"opacity-100"}`,children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Example:"}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:f.category})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:m,className:"p-2 rounded-full bg-white/60 hover:bg-white border border-gray-200/60 transition-all duration-200 hover:shadow-md","aria-label":"Previous example",children:r.jsx(pw,{className:"w-4 h-4 text-gray-600"})}),r.jsx("div",{className:"flex space-x-2",children:ea.map((w,j)=>r.jsx("button",{onClick:()=>x(j),className:`w-2 h-2 rounded-full transition-all duration-300 ${j===l?"bg-blue-600 w-6":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to example ${j+1}`},j))}),r.jsx("button",{onClick:g,className:"p-2 rounded-full bg-white/60 hover:bg-white border border-gray-200/60 transition-all duration-200 hover:shadow-md","aria-label":"Next example",children:r.jsx(yt,{className:"w-4 h-4 text-gray-600"})})]})]}),r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-center mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4 bg-white/60 rounded-full px-6 py-3 border border-gray-200/60",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Basic"})]}),r.jsx(Ui,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Structured"})]}),r.jsx(Ui,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Enhanced"})]})]})}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-gradient-to-r from-gray-300 via-blue-300 to-purple-300 transform -translate-y-1/2 z-0"}),r.jsx("div",{className:`relative z-10 grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12 transition-opacity duration-300 ${o?"opacity-50":"opacity-100"}`,children:y.map((w,j)=>r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:`bg-gradient-to-br ${w.bgColor} rounded-xl border ${w.borderColor} shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden flex flex-col`,style:{height:"480px"},children:[r.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-20",children:r.jsx("div",{className:`w-8 h-8 rounded-full ${w.badgeColor} flex items-center justify-center shadow-lg border-2 border-white`,children:r.jsx("span",{className:"text-white text-sm font-bold",children:w.step})})}),j===2&&r.jsx("div",{className:"absolute -top-2 -right-2 z-30",children:r.jsxs("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full shadow-lg",children:[r.jsx(Zt,{className:"w-4 h-4 text-white"}),r.jsx("span",{className:"text-sm text-white font-medium",children:"Pro Enhanced"})]})}),r.jsx("div",{className:"p-6 pb-4 pt-8 flex-shrink-0",children:r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl ${w.badgeColor} flex items-center justify-center shadow-sm`,children:r.jsx(w.icon,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:`text-lg font-bold ${w.textColor}`,children:w.title}),r.jsx("p",{className:"text-sm text-gray-500",children:w.subtitle})]})]})}),r.jsx("div",{className:"px-6 pb-6 flex-1 flex flex-col",children:r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-5 flex-1 flex items-start shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent pr-2 w-full",children:j===0?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("p",{className:`text-lg font-semibold ${w.textColor} text-center`,children:['"',w.text,'"']})}):r.jsxs("p",{className:`text-sm leading-relaxed ${w.textColor} font-medium`,children:['"',w.text,'"']})})})})]}),j<y.length-1&&r.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-6 transform -translate-y-1/2 z-20",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-white shadow-lg border border-gray-200 flex items-center justify-center",children:r.jsx(Ui,{className:"w-5 h-5 text-gray-600"})})})]},w.title))})]})]}),r.jsxs("div",{className:"mt-12 bg-white/50 rounded-xl p-8 max-w-5xl mx-auto",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-6",children:"Why This Transformation Matters"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:r.jsx(cn,{className:"w-6 h-6 text-white"})}),r.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Clear Structure"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Organized format that AI models understand better, leading to more accurate responses"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:r.jsx(un,{className:"w-6 h-6 text-white"})}),r.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Context Aware"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Includes relevant details, constraints, and specifications for targeted results"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"w-12 h-12 bg-promptr-900 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:r.jsx("img",{src:"/logos/PromptrLogo.png",alt:"Promptr Logo",className:"w-6 h-6"})}),r.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Optimized Results"}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Professional quality output that saves time and delivers better outcomes"})]})]})]}),r.jsx("div",{className:"text-center mt-8",children:r.jsx("p",{className:"text-gray-600 mb-4 text-lg",children:"Ready to transform your prompts? Start building below "})})]})},we={CLAUDE:"claude",OPENAI:"openai",GOOGLE:"google",MISTRAL:"mistral",META:"meta",COHERE:"cohere",AMAZON:"amazon",DEEPSEEK:"deepseek",QWEN:"qwen",VELVET:"velvet",FALCON:"falcon"},F={XML:"xml",JSON:"json",MARKDOWN:"markdown",PLAIN:"plain",YAML:"yaml",STRUCTURED:"structured"},ha={"claude-3-5-sonnet":{id:"claude-3-5-sonnet",name:"Claude 3.5 Sonnet",provider:"Anthropic",category:we.CLAUDE,description:"Most capable Claude model for complex reasoning and analysis",preferredFormat:F.XML,alternativeFormats:[F.MARKDOWN,F.STRUCTURED],maxTokens:2e5,contextWindow:2e5,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"excellent",multimodal:!0},pricing:{input:3,output:15},features:["xml_tags","thinking_tags","artifacts","vision"],promptGuidelines:{useXMLTags:!0,preferStructured:!0,supportsThinking:!0,maxComplexity:"high",bestPractices:["Use clear XML structure with semantic tags","Leverage thinking tags for complex reasoning","Be explicit about desired output format","Use examples when helpful"]}},"claude-3-haiku":{id:"claude-3-haiku",name:"Claude 3 Haiku",provider:"Anthropic",category:we.CLAUDE,description:"Fast and efficient Claude model for quick tasks",preferredFormat:F.XML,alternativeFormats:[F.MARKDOWN,F.PLAIN],maxTokens:2e5,contextWindow:2e5,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!0},pricing:{input:.25,output:1.25},features:["xml_tags","vision"],promptGuidelines:{useXMLTags:!0,preferStructured:!0,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Keep prompts concise and focused","Use simple XML structure","Avoid overly complex instructions"]}},"gpt-4o":{id:"gpt-4o",name:"GPT-4o",provider:"OpenAI",category:we.OPENAI,description:"OpenAI's most advanced multimodal model",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.JSON],maxTokens:128e3,contextWindow:128e3,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"excellent",multimodal:!0},pricing:{input:2.5,output:10},features:["function_calling","json_mode","vision","audio"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"high",bestPractices:["Use clear section headers and bullet points","Leverage system/user message separation","Be specific about output format requirements","Use examples and few-shot learning"]}},"gpt-4o-mini":{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"OpenAI",category:we.OPENAI,description:"Efficient and cost-effective GPT-4 model",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.PLAIN],maxTokens:128e3,contextWindow:128e3,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!0},pricing:{input:.15,output:.6},features:["function_calling","json_mode","vision"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Keep instructions clear and concise","Use structured format with headers","Avoid overly complex reasoning chains"]}},"gemini-1.5-pro":{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",provider:"Google",category:we.GOOGLE,description:"Google's most capable multimodal model",preferredFormat:F.MARKDOWN,alternativeFormats:[F.STRUCTURED,F.JSON],maxTokens:2e6,contextWindow:2e6,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"good",multimodal:!0},pricing:{input:1.25,output:5},features:["function_calling","code_execution","vision","audio","video"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"high",bestPractices:["Use markdown formatting for structure","Leverage large context window for examples","Be explicit about reasoning steps","Use clear headings and organization"]}},"gemini-1.5-flash":{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",provider:"Google",category:we.GOOGLE,description:"Google's fastest and most cost-effective multimodal model",preferredFormat:F.MARKDOWN,alternativeFormats:[F.STRUCTURED,F.JSON],maxTokens:1e6,contextWindow:1e6,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!0},pricing:{input:.35,output:1.05},features:["function_calling","vision","audio","video"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Focus on clear, concise instructions","Optimized for speed and high-volume tasks","Good for multi-modal input processing"]}},"mistral-large":{id:"mistral-large",name:"Mistral Large",provider:"Mistral AI",category:we.MISTRAL,description:"Mistral's most capable model for complex tasks",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.JSON],maxTokens:128e3,contextWindow:128e3,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"good",multimodal:!1},pricing:{input:2,output:6},features:["function_calling","json_mode"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"high",bestPractices:["Use clear instruction structure","Provide context before the task","Be explicit about expected output","Use examples when beneficial"]}},"mistral-7b-instruct":{id:"mistral-7b-instruct",name:"Mistral 7B Instruct",provider:"Mistral AI",category:we.MISTRAL,description:"An efficient and powerful open-source model from Mistral AI, great for quick instruction following.",preferredFormat:F.MARKDOWN,alternativeFormats:[F.PLAIN],maxTokens:32768,contextWindow:32768,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!1},pricing:{input:.1,output:.3},features:[],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Provide direct and concise instructions","Suitable for simpler, straightforward tasks","Avoid overly complex context"]}},"llama-3.1-405b":{id:"llama-3.1-405b",name:"Llama 3.1 405B",provider:"Meta",category:we.META,description:"Meta's largest open-source model",preferredFormat:F.PLAIN,alternativeFormats:[F.MARKDOWN,F.STRUCTURED],maxTokens:128e3,contextWindow:128e3,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"good",creative:"good",multimodal:!1},pricing:{input:1,output:3},features:["function_calling"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"high",bestPractices:["Use natural language instructions","Be direct and specific","Avoid overly complex formatting","Focus on clear task description"]}},"llama-3-8b-instruct":{id:"llama-3-8b-instruct",name:"Llama 3 8B Instruct",provider:"Meta",category:we.META,description:"Meta's efficient open-source model, tuned for instruction following.",preferredFormat:F.PLAIN,alternativeFormats:[F.MARKDOWN],maxTokens:8192,contextWindow:8192,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!1},pricing:{input:.1,output:.3},features:[],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Keep prompts concise and focused","Suitable for quick, general-purpose tasks","Prefer direct questions"]}},"llama-3-70b-instruct":{id:"llama-3-70b-instruct",name:"Llama 3 70B Instruct",provider:"Meta",category:we.META,description:"Meta's larger open-source model, offering strong performance for complex tasks.",preferredFormat:F.PLAIN,alternativeFormats:[F.MARKDOWN,F.STRUCTURED],maxTokens:8192,contextWindow:8192,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"excellent",multimodal:!1},pricing:{input:.5,output:1.5},features:[],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"high",bestPractices:["Provide detailed instructions for complex tasks","Effective for in-depth analysis and content generation","Leverage few-shot examples when possible"]}},"command-r-plus":{id:"command-r-plus",name:"Command R+",provider:"Cohere",category:we.COHERE,description:"Cohere's most powerful model, optimized for RAG and complex enterprise workloads.",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.PLAIN],maxTokens:128e3,contextWindow:128e3,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"good",multimodal:!1},pricing:{input:3,output:15},features:["RAG_optimized","tool_use"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"high",bestPractices:["Use clear instructions for RAG queries","Provide relevant context for retrieval","Clearly define tool usage for complex actions"]}},"command-r":{id:"command-r",name:"Command R",provider:"Cohere",category:we.COHERE,description:"A scalable and efficient Cohere model, well-suited for RAG and general purpose tasks.",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.PLAIN],maxTokens:128e3,contextWindow:128e3,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!1},pricing:{input:.5,output:1.5},features:["RAG_optimized","tool_use"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Concise instructions for RAG tasks","Focus on relevant information for retrieval","Simpler tool use definitions"]}},"gpt-4-turbo":{id:"gpt-4-turbo",name:"GPT-4 Turbo",provider:"OpenAI",category:we.OPENAI,description:"Latest GPT-4 with improved efficiency and updated knowledge",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.JSON],maxTokens:128e3,contextWindow:128e3,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"excellent",multimodal:!0},pricing:{input:1,output:3},features:["function_calling","json_mode","vision","updated_knowledge"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"high",bestPractices:["Leverage updated knowledge cutoff","Use structured prompts for complex tasks","Combine text and vision capabilities"]}},"dall-e-3":{id:"dall-e-3",name:"DALL-E 3",provider:"OpenAI",category:we.OPENAI,description:"Advanced image generation model with improved prompt adherence",preferredFormat:F.PLAIN,alternativeFormats:[F.STRUCTURED],maxTokens:4e3,contextWindow:4e3,capabilities:{reasoning:"limited",coding:"none",analysis:"limited",creative:"excellent",multimodal:!0},pricing:{input:.04,output:.08},features:["image_generation","prompt_enhancement"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Be specific about visual elements","Include style and composition details","Use descriptive language for better results"]}},"claude-3-opus":{id:"claude-3-opus",name:"Claude 3 Opus",provider:"Anthropic",category:we.CLAUDE,description:"Most powerful Claude model for complex reasoning and analysis",preferredFormat:F.XML,alternativeFormats:[F.MARKDOWN,F.STRUCTURED],maxTokens:2e5,contextWindow:2e5,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"excellent",multimodal:!0},pricing:{input:15,output:75},features:["xml_tags","thinking_tags","vision","complex_reasoning"],promptGuidelines:{useXMLTags:!0,preferStructured:!0,supportsThinking:!0,maxComplexity:"very_high",bestPractices:["Use for most complex reasoning tasks","Leverage advanced thinking capabilities","Ideal for research and analysis"]}},"gemini-2.0-flash":{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",provider:"Google",category:we.GOOGLE,description:"Latest Gemini with enhanced multimodal capabilities and speed",preferredFormat:F.MARKDOWN,alternativeFormats:[F.STRUCTURED,F.JSON],maxTokens:1e6,contextWindow:1e6,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"good",multimodal:!0},pricing:{input:.3,output:1.2},features:["function_calling","code_execution","vision","audio","video","live_api"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"high",bestPractices:["Excellent for real-time applications","Strong multimodal integration","Fast inference with quality results"]}},"gemma-2-27b":{id:"gemma-2-27b",name:"Gemma 2 27B",provider:"Google",category:we.GOOGLE,description:"Open-source model from Google with strong performance",preferredFormat:F.MARKDOWN,alternativeFormats:[F.PLAIN,F.STRUCTURED],maxTokens:8192,contextWindow:8192,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!1},pricing:{input:.27,output:.27},features:["open_source","efficient_inference"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Good for cost-effective deployment","Strong general-purpose capabilities","Open-source flexibility"]}},"llama-3.2-90b":{id:"llama-3.2-90b",name:"Llama 3.2 90B",provider:"Meta",category:we.META,description:"Latest Llama model with enhanced capabilities and efficiency",preferredFormat:F.PLAIN,alternativeFormats:[F.MARKDOWN,F.STRUCTURED],maxTokens:128e3,contextWindow:128e3,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"good",multimodal:!1},pricing:{input:.9,output:.9},features:["open_source","multilingual","tool_use"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"high",bestPractices:["Excellent for reasoning tasks","Strong multilingual support","Cost-effective for large deployments"]}},"llama-3.2-11b-vision":{id:"llama-3.2-11b-vision",name:"Llama 3.2 11B Vision",provider:"Meta",category:we.META,description:"Multimodal Llama model with vision capabilities",preferredFormat:F.PLAIN,alternativeFormats:[F.MARKDOWN],maxTokens:128e3,contextWindow:128e3,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!0},pricing:{input:.35,output:.35},features:["open_source","vision","multilingual"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Combine text and image understanding","Cost-effective vision model","Good for multimodal applications"]}},"amazon-titan-text-v2":{id:"amazon-titan-text-v2",name:"Amazon Titan Text v2",provider:"Amazon",category:we.AMAZON,description:"Enterprise-focused model with strong safety and reliability",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.JSON],maxTokens:32e3,contextWindow:32e3,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!1},pricing:{input:.5,output:1.5},features:["enterprise_safety","content_filtering","RAG_optimized"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Ideal for enterprise applications","Strong content safety features","Good for RAG implementations"]}},"deepseek-r1":{id:"deepseek-r1",name:"DeepSeek R1",provider:"DeepSeek",category:we.DEEPSEEK,description:"Advanced reasoning model with strong mathematical capabilities",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.PLAIN],maxTokens:64e3,contextWindow:64e3,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"good",multimodal:!1},pricing:{input:.14,output:.28},features:["advanced_reasoning","mathematics","open_source"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!0,maxComplexity:"high",bestPractices:["Excellent for complex reasoning","Strong mathematical problem solving","Cost-effective reasoning model"]}},"deepseek-v3":{id:"deepseek-v3",name:"DeepSeek V3",provider:"DeepSeek",category:we.DEEPSEEK,description:"Latest general-purpose model with balanced capabilities",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.PLAIN],maxTokens:64e3,contextWindow:64e3,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"good",creative:"good",multimodal:!1},pricing:{input:.07,output:.28},features:["general_purpose","efficient","open_source"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"high",bestPractices:["Balanced performance across tasks","Very cost-effective","Good for general applications"]}},"mistral-large-2":{id:"mistral-large-2",name:"Mistral Large 2",provider:"Mistral AI",category:we.MISTRAL,description:"Latest flagship model from Mistral with enhanced capabilities",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.JSON],maxTokens:128e3,contextWindow:128e3,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"good",multimodal:!1},pricing:{input:2,output:6},features:["function_calling","json_mode","multilingual"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"high",bestPractices:["Strong European alternative","Excellent multilingual support","Good for complex reasoning"]}},"mixtral-8x22b":{id:"mixtral-8x22b",name:"Mixtral 8x22B",provider:"Mistral AI",category:we.MISTRAL,description:"Mixture of experts model with excellent efficiency",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.PLAIN],maxTokens:64e3,contextWindow:64e3,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"good",creative:"good",multimodal:!1},pricing:{input:.9,output:.9},features:["mixture_of_experts","efficient","open_source"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"high",bestPractices:["Efficient for complex tasks","Good cost-performance ratio","Strong coding capabilities"]}},"qwen-2.5-72b":{id:"qwen-2.5-72b",name:"Qwen 2.5 72B",provider:"Alibaba",category:we.QWEN,description:"Advanced Chinese-English bilingual model with strong capabilities",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.PLAIN],maxTokens:32768,contextWindow:32768,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"good",creative:"good",multimodal:!1},pricing:{input:.7,output:.7},features:["chinese_english","multilingual","open_source"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"high",bestPractices:["Excellent for Chinese-English tasks","Strong reasoning in multiple languages","Good for cross-cultural applications"]}},"qwen-2.5-coder-32b":{id:"qwen-2.5-coder-32b",name:"Qwen 2.5 Coder 32B",provider:"Alibaba",category:we.QWEN,description:"Specialized coding model with strong programming capabilities",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.PLAIN],maxTokens:32768,contextWindow:32768,capabilities:{reasoning:"good",coding:"excellent",analysis:"good",creative:"limited",multimodal:!1},pricing:{input:.5,output:.5},features:["code_specialized","multilingual_code","open_source"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"high",bestPractices:["Specialized for coding tasks","Strong in multiple programming languages","Good for code generation and debugging"]}},"velvet-14b":{id:"velvet-14b",name:"Velvet 14B",provider:"Velvet AI",category:we.VELVET,description:"European multilingual model with strong EU language support",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.PLAIN],maxTokens:32768,contextWindow:32768,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!1},pricing:{input:.4,output:.4},features:["eu_languages","gdpr_compliant","multilingual"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Excellent for European languages","GDPR compliant processing","Good for EU-specific applications"]}},"falcon-180b":{id:"falcon-180b",name:"Falcon 180B",provider:"TII",category:we.FALCON,description:"Large open-source model with strong general capabilities",preferredFormat:F.PLAIN,alternativeFormats:[F.STRUCTURED,F.MARKDOWN],maxTokens:2048,contextWindow:2048,capabilities:{reasoning:"good",coding:"good",analysis:"good",creative:"good",multimodal:!1},pricing:{input:1.8,output:1.8},features:["open_source","large_scale","multilingual"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Good for research applications","Strong open-source alternative","Suitable for fine-tuning"]}},"claude-4-opus":{id:"claude-4-opus",name:"Claude 4 Opus",provider:"Anthropic",category:we.CLAUDE,description:"Most powerful Claude model yet, world's best coding model with sustained performance",preferredFormat:F.XML,alternativeFormats:[F.MARKDOWN,F.STRUCTURED],maxTokens:2e5,contextWindow:2e5,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"excellent",multimodal:!0},pricing:{input:15,output:75},features:["xml_tags","thinking_tags","artifacts","vision","extended_thinking","tool_use","memory_files"],promptGuidelines:{useXMLTags:!0,preferStructured:!0,supportsThinking:!0,maxComplexity:"very_high",bestPractices:["Leading SWE-bench performance (72.5%)","Sustained performance for hours-long tasks","Excels at complex codebase understanding","Can work continuously for several hours"]}},"claude-4-sonnet":{id:"claude-4-sonnet",name:"Claude 4 Sonnet",provider:"Anthropic",category:we.CLAUDE,description:"Significant upgrade to Claude 3.7 Sonnet with superior coding and reasoning",preferredFormat:F.XML,alternativeFormats:[F.MARKDOWN,F.STRUCTURED],maxTokens:2e5,contextWindow:2e5,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"excellent",multimodal:!0},pricing:{input:3,output:15},features:["xml_tags","thinking_tags","artifacts","vision","extended_thinking","tool_use","parallel_tools"],promptGuidelines:{useXMLTags:!0,preferStructured:!0,supportsThinking:!0,maxComplexity:"high",bestPractices:["Superior coding and reasoning vs 3.7 Sonnet","Enhanced steerability for precise control","Excellent for agentic scenarios","Powering GitHub Copilot coding agent"]}},"claude-4-sonnet-thinking":{id:"claude-4-sonnet-thinking",name:"Claude 4 Sonnet (Thinking Mode)",provider:"Anthropic",category:we.CLAUDE,description:"Claude 4 Sonnet with extended thinking capabilities for complex reasoning",preferredFormat:F.XML,alternativeFormats:[F.MARKDOWN,F.STRUCTURED],maxTokens:2e5,contextWindow:2e5,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"excellent",multimodal:!0},pricing:{input:3,output:15},features:["xml_tags","thinking_tags","extended_thinking","tool_use","vision","thinking_with_tools"],promptGuidelines:{useXMLTags:!0,preferStructured:!0,supportsThinking:!0,maxComplexity:"very_high",bestPractices:["Extended thinking with tool use","Can alternate between reasoning and tool use","Visible thinking process to users","Ideal for complex multi-step problems"]}},o3:{id:"o3",name:"OpenAI o3",provider:"OpenAI",category:we.OPENAI,description:"Advanced reasoning model with simulated reasoning capabilities",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.JSON],maxTokens:2e5,contextWindow:2e5,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"good",multimodal:!0},pricing:{input:10,output:40},features:["simulated_reasoning","visual_reasoning","tool_use","self_fact_checking"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!0,maxComplexity:"very_high",bestPractices:["Excels at complex reasoning tasks","Strong performance on SWE-bench (69.1%)","Advanced mathematical capabilities (88.9% AIME)","Deliberative alignment for safety"]}},"o4-mini":{id:"o4-mini",name:"OpenAI o4-mini",provider:"OpenAI",category:we.OPENAI,description:"Cost-efficient reasoning model with excellent math performance",preferredFormat:F.STRUCTURED,alternativeFormats:[F.MARKDOWN,F.JSON],maxTokens:2e5,contextWindow:2e5,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"good",multimodal:!0},pricing:{input:1.1,output:4.4},features:["simulated_reasoning","visual_reasoning","tool_use","high_reasoning_variant"],promptGuidelines:{useXMLTags:!1,preferStructured:!0,supportsThinking:!0,maxComplexity:"high",bestPractices:["Outstanding math performance (92.7% AIME 2025)","Cost-effective reasoning model","Strong coding capabilities (68.1% SWE-bench)","Available in standard and high-reasoning variants"]}},"gemini-2.5-pro":{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",provider:"Google",category:we.GOOGLE,description:"Most intelligent AI model with thinking capabilities and massive context",preferredFormat:F.MARKDOWN,alternativeFormats:[F.STRUCTURED,F.JSON],maxTokens:2e6,contextWindow:2e6,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"excellent",multimodal:!0},pricing:{input:1.25,output:10},features:["thinking_capabilities","massive_context","multimodal_native","web_access","thinking_budgets"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!0,maxComplexity:"very_high",bestPractices:["Leading performance on advanced reasoning benchmarks","Tops LMArena leaderboard by significant margin","18.8% on Humanity's Last Exam (no tools)","Excellent for complex coding and web development"]}},"gemini-2.5-pro-deep-think":{id:"gemini-2.5-pro-deep-think",name:"Gemini 2.5 Pro Deep Think",provider:"Google",category:we.GOOGLE,description:"Enhanced reasoning mode with parallel thinking techniques",preferredFormat:F.MARKDOWN,alternativeFormats:[F.STRUCTURED,F.JSON],maxTokens:2e6,contextWindow:2e6,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"excellent",creative:"excellent",multimodal:!0},pricing:{input:2.5,output:15},features:["parallel_thinking","enhanced_reasoning","multiple_hypotheses","frontier_safety"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!0,maxComplexity:"very_high",bestPractices:["Cutting-edge research in reasoning","Considers multiple hypotheses before responding","Impressive performance on hardest math benchmarks","Currently available to trusted testers"]}},"gemini-2.5-flash":{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",provider:"Google",category:we.GOOGLE,description:"Efficient workhorse model with controllable reasoning and thinking budgets",preferredFormat:F.MARKDOWN,alternativeFormats:[F.STRUCTURED,F.JSON],maxTokens:1e6,contextWindow:1e6,capabilities:{reasoning:"excellent",coding:"excellent",analysis:"good",creative:"good",multimodal:!0},pricing:{input:.3,output:2.5},features:["thinking_budgets","controllable_reasoning","moe_architecture","high_efficiency"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!0,maxComplexity:"high",bestPractices:["Adjustable thinking time based on query complexity","Developers can control thinking budget","Balance response quality, speed, and cost","Ideal for high-volume applications"]}},"gpt-image-1":{id:"gpt-image-1",name:"GPT Image 1",provider:"OpenAI",category:we.OPENAI,description:"Advanced image generation with precise prompt adherence and text rendering",preferredFormat:F.PLAIN,alternativeFormats:[F.STRUCTURED],maxTokens:4e3,contextWindow:4e3,capabilities:{reasoning:"limited",coding:"none",analysis:"limited",creative:"excellent",multimodal:!0},pricing:{input:.04,output:.08},features:["advanced_image_generation","text_rendering","conversational_editing","safe_generation"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Exceptional text rendering in images","Conversational image editing capabilities","Safe and responsible image generation","Ideal for advertisements and social posts"]}},"veo-3":{id:"veo-3",name:"Veo 3",provider:"Google",category:we.GOOGLE,description:"Advanced AI video generation with synchronized audio and cinematic quality",preferredFormat:F.PLAIN,alternativeFormats:[F.STRUCTURED],maxTokens:4e3,contextWindow:4e3,capabilities:{reasoning:"limited",coding:"none",analysis:"limited",creative:"excellent",multimodal:!0},pricing:{input:.1,output:.2},features:["video_generation","synchronized_audio","high_resolution","cinematic_control"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"medium",bestPractices:["High-resolution video with synchronized audio","Precise camera control and cinematic elements","Advanced understanding of physics and movement","Ideal for professional content creation"]}},"lyria-2":{id:"lyria-2",name:"Lyria 2",provider:"Google",category:we.GOOGLE,description:"AI model for high-quality instrumental music generation with precise controls",preferredFormat:F.PLAIN,alternativeFormats:[F.STRUCTURED],maxTokens:2e3,contextWindow:2e3,capabilities:{reasoning:"limited",coding:"none",analysis:"limited",creative:"excellent",multimodal:!0},pricing:{input:.05,output:.1},features:["music_generation","instrumental_focus","precise_controls","high_quality_audio"],promptGuidelines:{useXMLTags:!1,preferStructured:!1,supportsThinking:!1,maxComplexity:"medium",bestPractices:["Creates high-quality instrumental music","Precise controls for creators","Professional audio quality","Ideal for content creators and musicians"]}}},Rw=l=>Object.values(ha).filter(n=>n.provider===l),Gc=l=>ha[l]||null,Lw=()=>[...new Set(Object.values(ha).map(l=>l.provider))];class zf{static async savePrompt(n,s=null){if(!He)return this.saveToLocalStorage(n);try{const{data:{user:a}}=await se.auth.getUser();if(!a)throw new Error("User not authenticated");const o={user_id:a.id,title:this.generateTitle(n),role:n.role||null,task:n.task||null,context:n.context||null,requirements:n.requirements||null,style:n.style||null,output:n.output||null,raw_prompt:n.rawPrompt||null,enriched_prompt:n.enrichedPrompt||null,selected_model:n.selectedModel||null,prompt_metadata:n.promptMetadata||null,enrichment_result:n.enrichmentResult||null,created_at:new Date().toISOString()},{data:c,error:d}=await se.from("prompts").insert([o]).select().single();if(d)throw d;return{success:!0,data:c,message:"Prompt saved successfully!"}}catch(a){return console.error("Failed to save prompt:",a),{success:!1,error:a.message,message:"Failed to save prompt"}}}static async getUserPrompts(n=20,s=0){if(!He)return this.getFromLocalStorage();try{const{data:{user:a}}=await se.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:o,error:c}=await se.from("prompts").select("*").eq("user_id",a.id).order("created_at",{ascending:!1}).range(s,s+n-1);if(c)throw c;return{success:!0,data:o||[],total:(o==null?void 0:o.length)||0}}catch(a){return console.error("Failed to fetch prompts:",a),{success:!1,error:a.message,data:[]}}}static async deletePrompt(n){if(!He)return this.deleteFromLocalStorage(n);try{const{data:{user:s}}=await se.auth.getUser();if(!s)throw new Error("User not authenticated");const{error:a}=await se.from("prompts").delete().eq("id",n).eq("user_id",s.id);if(a)throw a;return{success:!0,message:"Prompt deleted successfully!"}}catch(s){return console.error("Failed to delete prompt:",s),{success:!1,error:s.message,message:"Failed to delete prompt"}}}static saveToLocalStorage(n){try{const s=JSON.parse(localStorage.getItem("saved_prompts")||"[]"),a={id:Date.now().toString(),...n,title:this.generateTitle(n),created_at:new Date().toISOString()};s.unshift(a);const o=s.slice(0,50);return localStorage.setItem("saved_prompts",JSON.stringify(o)),{success:!0,data:a,message:"Prompt saved locally! (Demo Mode)"}}catch(s){return{success:!1,error:s.message,message:"Failed to save prompt locally"}}}static getFromLocalStorage(){try{const n=JSON.parse(localStorage.getItem("saved_prompts")||"[]");return{success:!0,data:n,total:n.length}}catch(n){return{success:!1,error:n.message,data:[]}}}static deleteFromLocalStorage(n){try{const a=JSON.parse(localStorage.getItem("saved_prompts")||"[]").filter(o=>o.id!==n);return localStorage.setItem("saved_prompts",JSON.stringify(a)),{success:!0,message:"Prompt deleted from local storage!"}}catch(s){return{success:!1,error:s.message,message:"Failed to delete prompt from local storage"}}}static generateTitle(n){if(n.title)return n.title;const s=n.role||"Assistant",a=n.task||"General Task",o=a.length>50?a.substring(0,47)+"...":a;return`${s}: ${o}`}static formatPromptForSaving(n,s,a,o,c,d){return{role:n.role,task:n.task,context:n.context,requirements:n.requirements,style:n.style,output:n.output,rawPrompt:s,enrichedPrompt:a,selectedModel:o,promptMetadata:c,enrichmentResult:d}}}const Iw=({isOpen:l,onClose:n,prompt:s,onShare:a})=>{const{user:o,isPro:c}=hn(),[d,f]=b.useState({title:"",description:"",isPublic:!1,requirePassword:!1,password:"",expiresIn:"",allowDownload:!0,maxViews:null}),[m,g]=b.useState(null),[x,y]=b.useState(!1),[w,j]=b.useState(!1),[N,C]=b.useState("settings"),[A,_]=b.useState(null);b.useEffect(()=>{l&&s&&(f(I=>({...I,title:s.title||"Untitled Prompt",description:s.description||""})),g(null),_(null))},[l,s]);const P=async()=>{if(s){y(!0),_(null);try{const I=await a({promptId:s.id,...d});I.success?(g(I.data),C("share")):_(I.error||"Failed to create share link")}catch{_("Failed to create share link")}finally{y(!1)}}},S=async()=>{if(m!=null&&m.shareUrl)try{await navigator.clipboard.writeText(m.shareUrl),j(!0),setTimeout(()=>j(!1),2e3)}catch(I){console.error("Failed to copy:",I)}},L=[{value:"",label:"Never expires"},{value:"1h",label:"1 hour"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"},{value:"30d",label:"30 days"}];return l?r.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm",children:r.jsxs("div",{className:"relative w-full max-w-2xl max-h-[90vh] m-4 bg-white rounded-2xl shadow-2xl overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:r.jsx(qc,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:"Share Prompt"}),r.jsx("p",{className:"text-blue-100 text-sm",children:"Make your prompt accessible to others"})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:r.jsx(Ct,{className:"w-5 h-5"})})]})}),r.jsxs("div",{className:"max-h-[calc(90vh-120px)] overflow-y-auto",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("div",{className:"flex",children:[r.jsxs("button",{onClick:()=>C("settings"),className:`flex-1 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${N==="settings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[r.jsx(ns,{className:"w-4 h-4 mr-2 inline"}),"Settings"]}),m&&r.jsxs("button",{onClick:()=>C("share"),className:`flex-1 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${N==="share"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[r.jsx(bw,{className:"w-4 h-4 mr-2 inline"}),"Share Link"]})]})}),N==="settings"&&r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Share Title"}),r.jsx("input",{type:"text",value:d.title,onChange:I=>f(U=>({...U,title:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Give your shared prompt a title"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),r.jsx("textarea",{value:d.description,onChange:I=>f(U=>({...U,description:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,placeholder:"Describe what this prompt does"})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Privacy & Access"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${d.isPublic?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:d.isPublic?r.jsx(eo,{className:"w-4 h-4"}):r.jsx(oa,{className:"w-4 h-4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.isPublic?"Public":"Private"}),r.jsx("p",{className:"text-xs text-gray-500",children:d.isPublic?"Anyone with the link can access":"Only people with the link can access"})]})]}),r.jsx("button",{onClick:()=>f(I=>({...I,isPublic:!I.isPublic})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${d.isPublic?"bg-green-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${d.isPublic?"translate-x-6":"translate-x-1"}`})})]}),c&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(oa,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Password Protection"}),r.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:"Pro"})]}),r.jsx("button",{onClick:()=>f(I=>({...I,requirePassword:!I.requirePassword})),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${d.requirePassword?"bg-purple-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${d.requirePassword?"translate-x-5":"translate-x-1"}`})})]}),d.requirePassword&&r.jsx("input",{type:"password",value:d.password,onChange:I=>f(U=>({...U,password:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:"Enter password"})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(ns,{className:"w-4 h-4 mr-2"}),"Advanced Options"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Yi,{className:"w-4 h-4 mr-1 inline"}),"Expiration"]}),r.jsx("select",{value:d.expiresIn,onChange:I=>f(U=>({...U,expiresIn:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:L.map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))})]}),c&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(on,{className:"w-4 h-4 mr-1 inline"}),"View Limit",r.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full ml-2",children:"Pro"})]}),r.jsx("input",{type:"number",value:d.maxViews||"",onChange:I=>f(U=>({...U,maxViews:I.target.value?parseInt(I.target.value):null})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:"Unlimited",min:"1"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for unlimited views"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Wt,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Allow Download"})]}),r.jsx("button",{onClick:()=>f(I=>({...I,allowDownload:!I.allowDownload})),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${d.allowDownload?"bg-blue-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${d.allowDownload?"translate-x-5":"translate-x-1"}`})})]})]})]}),A&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:A}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{onClick:P,disabled:x||!d.title.trim(),className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center",children:x?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Link..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qc,{className:"w-4 h-4 mr-2"}),"Create Share Link"]})})]})]}),N==="share"&&m&&r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"w-5 h-5 text-green-600"}),r.jsx("p",{className:"text-green-800 font-medium",children:"Share link created successfully!"})]}),r.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Your prompt is now accessible via the link below."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Share URL"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:m.shareUrl,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm font-mono"}),r.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:w?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-4 h-4 mr-1"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(es,{className:"w-4 h-4 mr-1"}),"Copy"]})})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Share Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Visibility:"}),r.jsx("span",{className:"font-medium",children:d.isPublic?"Public":"Private"})]}),d.requirePassword&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Password Protected:"}),r.jsx("span",{className:"font-medium text-purple-600",children:"Yes"})]}),m.expiresAt&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Expires:"}),r.jsx("span",{className:"font-medium",children:new Date(m.expiresAt).toLocaleDateString()})]}),d.maxViews&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"View Limit:"}),r.jsxs("span",{className:"font-medium",children:[d.maxViews," views"]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Quick Share"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:()=>{const I=`Check out this AI prompt: ${d.title}`,U=`https://twitter.com/intent/tweet?text=${encodeURIComponent(I)}&url=${encodeURIComponent(m.shareUrl)}`;window.open(U,"_blank")},className:"flex items-center justify-center px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:[r.jsx(Wc,{className:"w-4 h-4 mr-2"}),"Twitter"]}),r.jsxs("button",{onClick:()=>{`${d.title}${m.shareUrl}`;const I=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(m.shareUrl)}`;window.open(I,"_blank")},className:"flex items-center justify-center px-4 py-3 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors text-sm",children:[r.jsx(Wc,{className:"w-4 h-4 mr-2"}),"LinkedIn"]})]})]}),r.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:r.jsx("button",{onClick:n,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Done"})})]})]})]})}):null},Yt="http://localhost:3002";class Ow{static async createShare(n){try{const{data:{session:s}}=await se.auth.getSession();if(!s)return{success:!1,error:"Authentication required"};const a=await fetch(`${Yt}/api/v1/sharing`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access_token}`},body:JSON.stringify(n)}),o=await a.json();return a.ok&&o.success?{success:!0,data:o.data}:{success:!1,error:o.error||"Failed to create share"}}catch(s){return console.error("Error creating share:",s),{success:!1,error:"Network error occurred"}}}static async getSharedPrompt(n,s=null){try{const a={"Content-Type":"application/json"};s&&(a["X-Share-Password"]=s);const o=await fetch(`${Yt}/api/v1/sharing/${n}`,{method:"GET",headers:a}),c=await o.json();return o.ok&&c.success?{success:!0,data:c.data}:{success:!1,error:c.error||"Failed to fetch shared prompt",status:o.status}}catch(a){return console.error("Error fetching shared prompt:",a),{success:!1,error:"Network error occurred"}}}static async getUserShares(){try{const{data:{session:n}}=await se.auth.getSession();if(!n)return{success:!1,error:"Authentication required"};const s=await fetch(`${Yt}/api/v1/sharing/my-shares`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`}}),a=await s.json();return s.ok&&a.success?{success:!0,data:a.data}:{success:!1,error:a.error||"Failed to fetch user shares"}}catch(n){return console.error("Error fetching user shares:",n),{success:!1,error:"Network error occurred"}}}static async updateShare(n,s){try{const{data:{session:a}}=await se.auth.getSession();if(!a)return{success:!1,error:"Authentication required"};const o=await fetch(`${Yt}/api/v1/sharing/${n}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify(s)}),c=await o.json();return o.ok&&c.success?{success:!0,data:c.data}:{success:!1,error:c.error||"Failed to update share"}}catch(a){return console.error("Error updating share:",a),{success:!1,error:"Network error occurred"}}}static async deleteShare(n){try{const{data:{session:s}}=await se.auth.getSession();if(!s)return{success:!1,error:"Authentication required"};const a=await fetch(`${Yt}/api/v1/sharing/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access_token}`}}),o=await a.json();return a.ok&&o.success?{success:!0,data:o.data}:{success:!1,error:o.error||"Failed to delete share"}}catch(s){return console.error("Error deleting share:",s),{success:!1,error:"Network error occurred"}}}static async getPublicPrompts(n=1,s=20,a=null,o=null){try{const c=new URLSearchParams({page:n.toString(),limit:s.toString()});a&&c.append("category",a),o&&c.append("search",o);const d=await fetch(`${Yt}/api/v1/sharing/public?${c}`,{method:"GET",headers:{"Content-Type":"application/json"}}),f=await d.json();return d.ok&&f.success?{success:!0,data:f.data}:{success:!1,error:f.error||"Failed to fetch public prompts"}}catch(c){return console.error("Error fetching public prompts:",c),{success:!1,error:"Network error occurred"}}}static async getShareAnalytics(n){try{const{data:{session:s}}=await se.auth.getSession();if(!s)return{success:!1,error:"Authentication required"};const a=await fetch(`${Yt}/api/v1/sharing/${n}/analytics`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access_token}`}}),o=await a.json();return a.ok&&o.success?{success:!0,data:o.data}:{success:!1,error:o.error||"Failed to fetch share analytics"}}catch(s){return console.error("Error fetching share analytics:",s),{success:!1,error:"Network error occurred"}}}static async generateShortUrl(n){try{const{data:{session:s}}=await se.auth.getSession();if(!s)return{success:!1,error:"Authentication required"};const a=await fetch(`${Yt}/api/v1/sharing/${n}/short-url`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access_token}`}}),o=await a.json();return a.ok&&o.success?{success:!0,data:o.data}:{success:!1,error:o.error||"Failed to generate short URL"}}catch(s){return console.error("Error generating short URL:",s),{success:!1,error:"Network error occurred"}}}static async reportPrompt(n,s,a=""){try{const o=await fetch(`${Yt}/api/v1/sharing/${n}/report`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:s,description:a})}),c=await o.json();return o.ok&&c.success?{success:!0,data:c.data}:{success:!1,error:c.error||"Failed to report prompt"}}catch(o){return console.error("Error reporting prompt:",o),{success:!1,error:"Network error occurred"}}}static async getSharingStats(){try{const{data:{session:n}}=await se.auth.getSession();if(!n)return{success:!1,error:"Authentication required"};const s=await fetch(`${Yt}/api/v1/sharing/stats`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`}}),a=await s.json();return s.ok&&a.success?{success:!0,data:a.data}:{success:!1,error:a.error||"Failed to fetch sharing stats"}}catch(n){return console.error("Error fetching sharing stats:",n),{success:!1,error:"Network error occurred"}}}}const Mw=({rawPrompt:l,enrichedPrompt:n,enrichmentResult:s,promptMetadata:a,selectedModel:o,validation:c,isEnriching:d,hasEnrichment:f,onEnrichNow:m,enrichmentError:g,isAuthenticated:x,isPro:y,formData:w,onOpenHistory:j,savedPrompt:N,hasEnhancedCurrentInputs:C})=>{const[A,_]=b.useState(!1),[P,S]=b.useState(f?"enriched":"raw");ca.useEffect(()=>{f&&n&&(console.log(" Auto-switching to enriched tab",{hasEnrichment:f,enrichedPrompt:!!n}),S("enriched"))},[f,n]),ca.useEffect(()=>{(n&&!l||n&&l)&&S("enriched")},[n,l]);const[L,I]=b.useState(!1),[U,z]=b.useState(null),[ee,H]=b.useState(null),[te,$]=b.useState(!1),[q,Z]=b.useState(!1),ie=Gc(o),Ce=async K=>{if(K)try{await navigator.clipboard.writeText(K),_(!0),setTimeout(()=>_(!1),2e3)}catch(J){console.error("Failed to copy:",J)}},Ee=async()=>{if(!c.isValid){H("Please complete the required fields before saving"),setTimeout(()=>H(null),3e3);return}I(!0),H(null),z(null);try{const K=zf.formatPromptForSaving(w,l,n,o,a,s),J=await zf.savePrompt(K);J.success?(z(J.message),setTimeout(()=>z(null),3e3)):(H(J.message||"Failed to save prompt"),setTimeout(()=>H(null),3e3))}catch{H("An unexpected error occurred while saving"),setTimeout(()=>H(null),3e3)}finally{I(!1)}},je=async K=>{if(!(N!=null&&N.id))return H("Please save the prompt first before sharing"),setTimeout(()=>H(null),5e3),{success:!1,error:"Please save the prompt first"};Z(!0);try{return await Ow.createShare({promptId:N.id,title:K.title,description:K.description,isPublic:K.isPublic,requirePassword:K.requirePassword,password:K.password,expiresIn:K.expiresIn,maxViews:K.maxViews,allowDownload:K.allowDownload})}catch{return{success:!1,error:"Failed to create share"}}finally{Z(!1)}},Q=(K,J=!1)=>r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 min-h-[320px]",children:K?r.jsxs("div",{className:"relative",children:[J&&r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full border border-green-200",children:[r.jsx(Ke,{className:"w-3 h-3 mr-1"}),"Enhanced"]})}),r.jsx("pre",{className:"font-mono text-sm leading-relaxed whitespace-pre-wrap text-gray-800 overflow-x-auto",children:r.jsx("code",{className:"language-xml",children:K})})]}):r.jsx("div",{className:"flex items-center justify-center h-32 text-gray-500",children:d?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-sm",children:"Generating enhanced prompt..."})]}):r.jsx("span",{className:"text-sm italic",children:"No prompt generated yet"})})}),K&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>Ce(K),className:"btn btn-secondary btn-sm",children:A?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-4 h-4 mr-1"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(es,{className:"w-4 h-4 mr-1"}),"Copy"]})}),r.jsx("button",{onClick:Ee,disabled:L||!c.isValid,className:"btn btn-primary btn-sm",title:c.isValid?"Save this prompt":"Complete required fields to save",children:L?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-1"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Sw,{className:"w-4 h-4 mr-1"}),"Save"]})}),x&&(N==null?void 0:N.id)&&r.jsx("button",{onClick:()=>$(!0),disabled:q,className:"btn btn-secondary btn-sm",title:"Share this prompt",children:q?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-1"}),"Sharing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qc,{className:"w-4 h-4 mr-1"}),"Share"]})})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[K.split(`
`).length," lines  ",K.length," characters"]})]})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(on,{className:"w-5 h-5 mr-2 text-blue-600"}),"Generated Prompts",n&&r.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:" Enhanced"})]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[ie&&`Optimized for ${ie.name}`,(a==null?void 0:a.format)&&`  ${a.format.toUpperCase()} format`]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[j&&r.jsxs("button",{onClick:j,className:"btn btn-secondary btn-sm",children:[r.jsx(xw,{className:"w-4 h-4 mr-1"}),"History"]}),c.isValid&&!d&&r.jsxs("div",{className:"flex items-center space-x-2",children:[f&&r.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-green-50 text-green-700 text-sm rounded-full border border-green-200",children:[r.jsx(Ke,{className:"w-3 h-3 mr-1"}),"Enhanced"]}),!f&&r.jsx("button",{onClick:m,disabled:!m||C,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-blue-600 disabled:hover:to-purple-600",title:C?"Already enhanced - edit inputs to enhance again":"Enhance this prompt",children:C?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-4 h-4 mr-1 inline"}),"Enhanced"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"w-4 h-4 mr-1 inline"}),"Enhance Prompt"]})})]})]})]}),U&&r.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(vt,{className:"w-4 h-4 text-green-600 mr-2"}),r.jsx("span",{className:"text-sm text-green-700",children:U})]})}),ee&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ut,{className:"w-4 h-4 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm text-red-700",children:ee})]})}),g&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ut,{className:"w-4 h-4 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm text-red-700",children:g})]})}),l&&n&&f&&r.jsxs("div",{className:"flex space-x-1 mb-4 bg-gray-100 p-1 rounded-lg",children:[r.jsxs("button",{onClick:()=>S("raw"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${P==="raw"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(lp,{className:"w-4 h-4 mr-1 inline"}),"Basic Prompt"]}),r.jsxs("button",{onClick:()=>S("enriched"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${P==="enriched"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Ke,{className:"w-4 h-4 mr-1 inline"}),"Enhanced Prompt"]})]}),n?r.jsxs("div",{children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-green-700 bg-green-100 px-3 py-1 rounded-full flex items-center",children:[r.jsx(Ke,{className:"w-3 h-3 mr-1"}),"Enhanced XML Prompt from OpenAI"]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[n.length," characters"]})]}),Q(n,!0)]}):l?r.jsxs("div",{children:[r.jsx("div",{className:"mb-3",children:r.jsxs("span",{className:"text-sm font-medium text-blue-700 bg-blue-100 px-3 py-1 rounded-full flex items-center",children:[r.jsx(Zi,{className:"w-3 h-3 mr-1"}),"Basic Prompt"]})}),Q(l)]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[r.jsx(ut,{className:"w-12 h-12 text-gray-400 mb-4"}),r.jsx("h4",{className:"text-lg font-medium text-gray-700 mb-2",children:"Complete the form to generate a prompt"}),r.jsx("p",{className:"text-gray-500 max-w-md",children:"Fill in the required fields (Role and Task Description) to see your generated prompt here."}),c.errors&&c.errors.length>0&&r.jsxs("div",{className:"mt-4 text-sm text-red-600",children:["Missing: ",c.errors.join(", ")]})]}),f&&s&&(n||P==="enriched")&&r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[r.jsx(Ke,{className:"w-4 h-4 mr-1"}),"Enhancement Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.qualityScore&&r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Quality Score:"}),r.jsxs("p",{className:"text-blue-800",children:[s.qualityScore,"/10"]})]}),s.improvements&&r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Improvements:"}),r.jsxs("p",{className:"text-blue-800",children:[s.improvements.length," applied"]})]}),s.estimatedTokens&&r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Est. Tokens:"}),r.jsx("p",{className:"text-blue-800",children:s.estimatedTokens})]})]}),s.improvements&&s.improvements.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("span",{className:"text-blue-700 font-medium text-sm",children:"Applied Improvements:"}),r.jsxs("ul",{className:"mt-1 text-sm text-blue-800 space-y-1",children:[s.improvements.slice(0,3).map((K,J)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-blue-600 mr-2",children:""}),K]},J)),s.improvements.length>3&&r.jsxs("li",{className:"text-blue-600 text-xs",children:["+",s.improvements.length-3," more improvements"]})]})]})]}),r.jsx(Iw,{isOpen:te,onClose:()=>$(!1),prompt:N,onShare:je})]})},Dw=({selectedModel:l,onModelChange:n,suggestedModelId:s,modelRecommendation:a,compact:o=!1})=>{var C,A;const[c,d]=b.useState(!1),[f,m]=b.useState("all"),g=b.useRef(null),x=b.useRef(null),y=Lw(),w=ha[l],j=b.useMemo(()=>{let _=f==="all"?Object.values(ha):Rw(f);return s&&_.some(P=>P.id===s)&&(_=_.sort((P,S)=>P.id===s?-1:S.id===s?1:0)),_},[f,s]),N=_=>({Anthropic:"bg-purple-100 text-purple-700",OpenAI:"bg-green-100 text-green-700",Google:"bg-blue-100 text-blue-700","Mistral AI":"bg-orange-100 text-orange-700",Meta:"bg-indigo-100 text-indigo-700"})[_]||"bg-gray-100 text-gray-700";return b.useEffect(()=>{const _=L=>{g.current&&!g.current.contains(L.target)&&x.current&&!x.current.contains(L.target)&&d(!1)},P=()=>{c&&d(!1)},S=()=>{c&&d(!1)};if(c)return document.addEventListener("mousedown",_),window.addEventListener("scroll",P),window.addEventListener("resize",S),()=>{document.removeEventListener("mousedown",_),window.removeEventListener("scroll",P),window.removeEventListener("resize",S)}},[c]),b.useEffect(()=>{const _=P=>{P.key==="Escape"&&d(!1)};if(c)return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[c]),r.jsxs("div",{className:o?"relative z-50 model-selector":"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 relative z-50 model-selector model-selector-container",children:[!o&&r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[r.jsx(cp,{className:"w-5 h-5 mr-2 text-primary-600"}),"AI Model"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Choose the optimal model for your task"})]})}),a?r.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(Li,{className:"w-3 h-3 text-white fill-current"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-blue-900",children:"We suggest: "}),r.jsx("span",{className:"text-sm font-bold text-blue-900 ml-1",children:a.primary.model.name}),r.jsxs("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${a.primary.confidence>=.8?"bg-green-100 text-green-700":a.primary.confidence>=.6?"bg-yellow-100 text-yellow-700":"bg-orange-100 text-orange-700"}`,children:[(a.primary.confidence*100).toFixed(0),"% match"]})]}),r.jsx("p",{className:"text-sm text-blue-800 mb-2",children:a.primary.reasoning}),r.jsx("p",{className:"text-xs text-blue-700 italic",children:" You can always change this selection below"}),a.alternatives.length>0&&r.jsxs("details",{className:"text-xs text-blue-700 mt-2",children:[r.jsxs("summary",{className:"cursor-pointer hover:text-blue-800 select-none",children:["View ",a.alternatives.length," alternative",a.alternatives.length>1?"s":""]}),r.jsx("div",{className:"mt-2 space-y-1 pl-4 border-l-2 border-blue-200",children:a.alternatives.slice(0,2).map((_,P)=>r.jsxs("div",{className:"text-blue-600",children:[r.jsx("strong",{children:_.model.name})," (",(_.score*100).toFixed(0),"% match) - ",_.reasoning]},P))})]})]})]})}):r.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-gray-50 to-blue-50 border border-gray-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-400 flex items-center justify-center",children:r.jsx(Li,{className:"w-3 h-3 text-white"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"GPT-4o"})," is selected by default"]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" You can change this selection based on your specific needs"})]})]})}),r.jsxs("div",{className:"relative",style:{zIndex:1e5},children:[r.jsx("div",{ref:g,onClick:()=>{console.log("Dropdown clicked, current isOpen:",c),d(!c)},className:"relative w-full bg-white border border-gray-300 rounded-lg px-4 py-3 cursor-pointer hover:border-blue-400 hover:shadow-md transition-all duration-200 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`px-2 py-1 text-xs rounded font-medium ${N(w==null?void 0:w.provider)}`,children:w==null?void 0:w.provider}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900 flex items-center",children:[w==null?void 0:w.name,(w==null?void 0:w.id)===s&&!c&&r.jsx(Li,{className:"w-4 h-4 text-yellow-500 fill-current ml-2"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[(C=w==null?void 0:w.contextWindow)==null?void 0:C.toLocaleString()," tokens  ",(A=w==null?void 0:w.preferredFormat)==null?void 0:A.toUpperCase()," format"]})]})]}),c?r.jsx(gw,{className:"w-5 h-5 text-gray-400"}):r.jsx(Xi,{className:"w-5 h-5 text-gray-400"})]})}),c&&g.current&&r.jsxs("div",{ref:x,className:"fixed bg-white border border-gray-200 rounded-lg shadow-2xl max-h-80 overflow-hidden model-selector-dropdown",style:{zIndex:99999,width:g.current.offsetWidth+"px",top:g.current.getBoundingClientRect().bottom+8+"px",left:g.current.getBoundingClientRect().left+"px"},children:[r.jsx("div",{className:"p-3 bg-white border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:()=>m("all"),className:`px-3 py-1.5 text-sm rounded font-medium transition-colors ${f==="all"?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:"All"}),y.map(_=>r.jsx("button",{onClick:()=>m(_),className:`px-3 py-1.5 text-sm rounded font-medium transition-colors ${f===_?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:_},_))]})}),r.jsx("div",{className:"max-h-64 overflow-y-auto",children:j.map(_=>{var L,I,U;const P=_.id===l,S=_.id===s;return r.jsx("div",{onClick:()=>{n(_.id),d(!1)},className:`p-3 hover:bg-gray-50 cursor-pointer transition-colors border-b border-gray-100 last:border-b-0 ${P?"bg-blue-50":""} ${S?"bg-yellow-50/50 border-l-4 border-yellow-400":""}`,children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("div",{className:`px-2 py-0.5 text-xs rounded font-medium ${N(_.provider)}`,children:_.provider}),r.jsx("span",{className:"font-medium text-gray-900",children:_.name}),S&&r.jsxs("div",{className:"flex items-center text-xs text-yellow-700 bg-yellow-100 px-2 py-0.5 rounded-full",children:[r.jsx(Li,{className:"w-3 h-3 mr-1"}),"Recommended"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:_.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(on,{className:"w-3 h-3 mr-1"}),(L=_.contextWindow)==null?void 0:L.toLocaleString()," tokens"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(un,{className:"w-3 h-3 mr-1"}),(I=_.preferredFormat)==null?void 0:I.toUpperCase()," format"]}),((U=_.features)==null?void 0:U.multimodal)&&r.jsx("span",{className:"text-blue-600",children:" Multimodal"})]})]})})},_.id)})})]})]})]})},Uw=({value:l=50,onChange:n,disabled:s=!1,className:a=""})=>{const[o,c]=b.useState(!1),[d,f]=b.useState(null),m=b.useCallback(C=>{const A=parseInt(C.target.value);n(A)},[n]),g=b.useCallback(C=>{const A=C.currentTarget.getBoundingClientRect(),_=(C.clientX-A.left)/A.width*100,P=Math.round(_);f(P)},[]),x=b.useCallback(()=>{f(null)},[]),y=b.useCallback(()=>{c(!0)},[]),w=b.useCallback(()=>{c(!1)},[]),N=(C=>C<=15?{label:"Minimal Enhancement",description:"Grammar and clarity fixes only - No new concepts",icon:r.jsx(Bf,{className:"w-4 h-4"}),color:"text-green-600",bgColor:"bg-green-50"}:C<=30?{label:"Light Enhancement",description:"Minor improvements and structure - Original meaning preserved",icon:r.jsx(Bf,{className:"w-4 h-4"}),color:"text-blue-600",bgColor:"bg-blue-50"}:C<=50?{label:"Moderate Enhancement",description:"Balanced improvements with slight creativity - Close to original intent",icon:r.jsx(fw,{className:"w-4 h-4"}),color:"text-purple-600",bgColor:"bg-purple-50"}:C<=70?{label:"Creative Enhancement",description:"Significant creative improvements - Expanded concepts while maintaining core intent",icon:r.jsx(au,{className:"w-4 h-4"}),color:"text-orange-600",bgColor:"bg-orange-50"}:C<=85?{label:"High Enhancement",description:"Substantial creative additions - Some liberties may be taken",icon:r.jsx(Ke,{className:"w-4 h-4"}),color:"text-yellow-600",bgColor:"bg-yellow-50"}:{label:"Maximum Enhancement",description:"Full creative freedom - May introduce inaccuracies or assumptions",icon:r.jsx(Ke,{className:"w-4 h-4"}),color:"text-red-600",bgColor:"bg-red-50",warning:!0})(l);return r.jsxs("div",{className:`space-y-4 ${a}`,children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(ln,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"How Enrichment Works"}),r.jsx("p",{children:"This scale controls how much the AI can modify and expand your original prompt. Lower values preserve your exact meaning, while higher values allow more creative freedom but may introduce inaccuracies."})]})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-br from-purple-500 to-blue-500 rounded-lg",children:r.jsx(Ke,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Enrichment Level"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Control how much the AI can change and expand your prompt"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-lg font-semibold ${N.color}`,children:[l,"%",N.warning&&r.jsx("span",{className:"ml-1 text-red-500",children:""})]}),r.jsx("div",{className:`text-xs ${N.color.replace("600","500")}`,children:N.label})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative",onMouseEnter:g,onMouseLeave:x,onMouseDown:y,onMouseUp:w,children:[r.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-lg relative overflow-hidden",children:r.jsx("div",{className:"h-full rounded-lg",style:{width:`${l}%`,background:`linear-gradient(to right, 
                  #10b981 0%, 
                  #3b82f6 20%, 
                  #8b5cf6 40%, 
                  #f59e0b 60%, 
                  #eab308 80%, 
                  #ef4444 100%
                )`}})}),r.jsx("input",{type:"range",min:"0",max:"100",value:l,onChange:m,disabled:s,className:`
              absolute top-0 w-full h-2 bg-transparent appearance-none cursor-pointer
              focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2
              disabled:opacity-50 disabled:cursor-not-allowed
              ${o?"scale-105":""}
              transition-transform duration-150
            `,"aria-label":"Enrichment Level","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":l,"aria-valuetext":`${l}% - ${N.label}`}),d!==null&&r.jsxs("div",{className:"absolute -top-10 px-2 py-1 bg-gray-800 text-white text-xs rounded pointer-events-none transform -translate-x-1/2 whitespace-nowrap",style:{left:`${d}%`},children:[d,"%"]})]}),r.jsxs("div",{className:"flex justify-between text-xs mt-2",children:[r.jsx("span",{className:"text-green-600 font-medium",children:"0%"}),r.jsx("span",{className:"text-blue-600",children:"25%"}),r.jsx("span",{className:"text-purple-600",children:"50%"}),r.jsx("span",{className:"text-orange-600",children:"75%"}),r.jsx("span",{className:"text-red-600 font-medium",children:"100%"})]})]}),r.jsxs("div",{className:`${N.bgColor} rounded-lg p-4 border ${N.warning?"border-red-200":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("span",{className:N.color,children:N.icon}),r.jsx("span",{className:`font-medium ${N.color}`,children:N.label}),N.warning&&r.jsx("span",{className:"text-red-500 text-sm",children:" High Risk"})]}),r.jsx("p",{className:`text-sm ${N.color.replace("600","700")}`,children:N.description}),N.warning&&r.jsxs("div",{className:"mt-2 p-2 bg-red-100 border border-red-200 rounded text-xs text-red-700",children:[r.jsx("strong",{children:"Warning:"})," At this level, the AI may add information that wasn't in your original request or make assumptions that could be inaccurate."]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-xs",children:[r.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Risk Level Guide:"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-600",children:"0-15%: Safe - Only grammar and clarity fixes"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-gray-600",children:"16-50%: Low Risk - Minor improvements, original meaning preserved"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),r.jsx("span",{className:"text-gray-600",children:"51-85%: Medium Risk - Creative additions, some liberties taken"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-gray-600",children:"86-100%: High Risk - May add inaccurate information"})]})]})]}),r.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Use arrow keys or click and drag to adjust the enrichment level"})]})},$w=({enrichmentData:l,onChange:n,isEnriching:s})=>r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Enhancement Level"}),r.jsxs("div",{className:"text-sm font-medium text-purple-600 bg-purple-50 px-3 py-1 rounded-full border border-purple-200",children:["Level ",l.enrichmentLevel||3]})]}),r.jsx(Uw,{value:l.enrichmentLevel||3,onChange:a=>n("enrichmentLevel",a),disabled:s})]})}),Ii=[{id:"software_developer",name:"Software Developer",category:"Technology",description:"Expert in programming, software architecture, and technical problem-solving"},{id:"data_scientist",name:"Data Scientist",category:"Technology",description:"Specialist in data analysis, machine learning, and statistical modeling"},{id:"devops_engineer",name:"DevOps Engineer",category:"Technology",description:"Expert in automation, infrastructure, and deployment pipelines"},{id:"cybersecurity_analyst",name:"Cybersecurity Analyst",category:"Technology",description:"Specialist in security protocols, threat analysis, and risk assessment"},{id:"ai_researcher",name:"AI Researcher",category:"Technology",description:"Expert in artificial intelligence, machine learning research, and innovation"},{id:"systems_architect",name:"Systems Architect",category:"Technology",description:"Designer of complex technical systems and infrastructure solutions"},{id:"mobile_developer",name:"Mobile Developer",category:"Technology",description:"Specialist in iOS, Android, and cross-platform mobile applications"},{id:"ux_ui_designer",name:"UX/UI Designer",category:"Creative",description:"Creative professional focused on user experience and interface design"},{id:"content_writer",name:"Content Writer",category:"Creative",description:"Professional writer specializing in various content formats and styles"},{id:"graphic_designer",name:"Graphic Designer",category:"Creative",description:"Visual designer creating graphics, layouts, and brand materials"},{id:"video_producer",name:"Video Producer",category:"Creative",description:"Creator of video content, from concept to final production"},{id:"copywriter",name:"Copywriter",category:"Creative",description:"Specialist in persuasive writing for marketing and advertising"},{id:"brand_strategist",name:"Brand Strategist",category:"Creative",description:"Expert in brand positioning, identity development, and messaging"},{id:"social_media_manager",name:"Social Media Manager",category:"Creative",description:"Specialist in social platform strategy and community engagement"},{id:"business_consultant",name:"Business Consultant",category:"Business",description:"Strategic advisor with expertise in business operations and growth"},{id:"product_manager",name:"Product Manager",category:"Business",description:"Leader in product strategy, development, and market positioning"},{id:"project_manager",name:"Project Manager",category:"Business",description:"Experienced in project planning, execution, and team coordination"},{id:"startup_advisor",name:"Startup Advisor",category:"Business",description:"Mentor for early-stage companies and entrepreneurial ventures"},{id:"business_analyst",name:"Business Analyst",category:"Business",description:"Expert in process analysis, requirements gathering, and optimization"},{id:"operations_manager",name:"Operations Manager",category:"Business",description:"Specialist in operational efficiency and process improvement"},{id:"strategy_consultant",name:"Strategy Consultant",category:"Business",description:"Expert in corporate strategy, market analysis, and competitive positioning"},{id:"marketing_specialist",name:"Marketing Specialist",category:"Marketing",description:"Skilled in digital marketing, content strategy, and brand communication"},{id:"seo_specialist",name:"SEO Specialist",category:"Marketing",description:"Expert in search engine optimization and digital visibility"},{id:"sales_manager",name:"Sales Manager",category:"Marketing",description:"Leader in sales strategy, team management, and revenue growth"},{id:"growth_hacker",name:"Growth Hacker",category:"Marketing",description:"Specialist in rapid growth strategies and data-driven marketing"},{id:"email_marketer",name:"Email Marketer",category:"Marketing",description:"Expert in email campaigns, automation, and customer retention"},{id:"financial_analyst",name:"Financial Analyst",category:"Finance",description:"Expert in financial modeling, investment analysis, and market research"},{id:"accountant",name:"Accountant",category:"Finance",description:"Professional in financial record-keeping, compliance, and reporting"},{id:"investment_advisor",name:"Investment Advisor",category:"Finance",description:"Specialist in portfolio management and investment strategies"},{id:"legal_counsel",name:"Legal Counsel",category:"Legal",description:"Attorney specializing in corporate law and legal compliance"},{id:"contract_lawyer",name:"Contract Lawyer",category:"Legal",description:"Expert in contract drafting, negotiation, and legal documentation"},{id:"compliance_officer",name:"Compliance Officer",category:"Legal",description:"Specialist in regulatory compliance and risk management"},{id:"medical_researcher",name:"Medical Researcher",category:"Healthcare",description:"Scientist conducting medical research and clinical studies"},{id:"healthcare_administrator",name:"Healthcare Administrator",category:"Healthcare",description:"Manager of healthcare operations and patient care systems"},{id:"clinical_data_analyst",name:"Clinical Data Analyst",category:"Healthcare",description:"Specialist in medical data analysis and clinical research"},{id:"pharmaceutical_researcher",name:"Pharmaceutical Researcher",category:"Healthcare",description:"Expert in drug development and pharmaceutical sciences"},{id:"educator",name:"Educator",category:"Education",description:"Skilled in teaching, curriculum development, and educational methodology"},{id:"instructional_designer",name:"Instructional Designer",category:"Education",description:"Expert in learning experience design and educational technology"},{id:"corporate_trainer",name:"Corporate Trainer",category:"Education",description:"Specialist in professional development and skills training"},{id:"curriculum_developer",name:"Curriculum Developer",category:"Education",description:"Designer of educational programs and learning pathways"},{id:"research_specialist",name:"Research Specialist",category:"Research",description:"Expert in research methodology, analysis, and academic writing"},{id:"market_researcher",name:"Market Researcher",category:"Research",description:"Specialist in consumer behavior and market trend analysis"},{id:"policy_analyst",name:"Policy Analyst",category:"Research",description:"Expert in policy research, evaluation, and public administration"},{id:"scientific_researcher",name:"Scientific Researcher",category:"Research",description:"Scientist conducting research in various scientific disciplines"},{id:"hr_manager",name:"HR Manager",category:"Operations",description:"Leader in human resources, talent management, and organizational development"},{id:"recruiter",name:"Recruiter",category:"Operations",description:"Specialist in talent acquisition and candidate assessment"},{id:"supply_chain_manager",name:"Supply Chain Manager",category:"Operations",description:"Expert in logistics, procurement, and supply chain optimization"},{id:"quality_assurance",name:"Quality Assurance",category:"Operations",description:"Specialist in quality control, testing, and process improvement"},{id:"customer_success_manager",name:"Customer Success Manager",category:"Customer",description:"Expert in customer relationship management and retention strategies"},{id:"technical_support",name:"Technical Support",category:"Customer",description:"Specialist in technical troubleshooting and customer assistance"},{id:"community_manager",name:"Community Manager",category:"Customer",description:"Expert in community building and engagement strategies"},{id:"journalist",name:"Journalist",category:"Media",description:"Professional writer focused on news reporting and investigative journalism"},{id:"technical_writer",name:"Technical Writer",category:"Technical",description:"Specialist in technical documentation and communication"},{id:"sustainability_consultant",name:"Sustainability Consultant",category:"Consulting",description:"Expert in environmental impact and sustainable business practices"},{id:"nonprofit_director",name:"Nonprofit Director",category:"Nonprofit",description:"Leader in nonprofit management and social impact initiatives"}],la=[{id:"write_content",title:"Write Content",description:"Create written content like articles, posts, or documentation",icon:"",color:"bg-blue-500",relevantRoles:["content_writer","copywriter","technical_writer","journalist","social_media_manager","email_marketer","marketing_specialist"]},{id:"build_software",title:"Build Software",description:"Develop applications, websites, or technical solutions",icon:"",color:"bg-green-500",relevantRoles:["software_developer","mobile_developer","devops_engineer","systems_architect","ai_researcher"]},{id:"analyze_data",title:"Analyze Data",description:"Process, interpret, and extract insights from data",icon:"",color:"bg-purple-500",relevantRoles:["data_scientist","business_analyst","financial_analyst","market_researcher","research_specialist"]},{id:"design_visuals",title:"Design Visuals",description:"Create visual content, interfaces, or brand materials",icon:"",color:"bg-pink-500",relevantRoles:["ux_ui_designer","graphic_designer","brand_strategist","video_producer"]},{id:"manage_business",title:"Manage Business",description:"Lead projects, teams, or strategic initiatives",icon:"",color:"bg-orange-500",relevantRoles:["business_consultant","product_manager","project_manager","operations_manager","strategy_consultant","startup_advisor"]},{id:"market_promote",title:"Market & Promote",description:"Promote products, services, or build brand awareness",icon:"",color:"bg-red-500",relevantRoles:["marketing_specialist","seo_specialist","growth_hacker","sales_manager","email_marketer","social_media_manager"]},{id:"research_learn",title:"Research & Learn",description:"Investigate topics, gather information, or conduct studies",icon:"",color:"bg-indigo-500",relevantRoles:["research_specialist","market_researcher","ai_researcher","educator","academic_researcher"]},{id:"solve_problems",title:"Solve Problems",description:"Address challenges, troubleshoot issues, or optimize processes",icon:"",color:"bg-yellow-500",relevantRoles:["business_consultant","systems_architect","cybersecurity_analyst","operations_manager","technical_support"]},{id:"handle_finances",title:"Handle Finances",description:"Manage money, investments, or financial planning",icon:"",color:"bg-emerald-500",relevantRoles:["financial_analyst","accountant","investment_advisor","business_consultant"]},{id:"legal_compliance",title:"Legal & Compliance",description:"Handle legal matters, contracts, or regulatory compliance",icon:"",color:"bg-blue-600",relevantRoles:["legal_counsel","contract_lawyer","compliance_officer"]},{id:"support_customers",title:"Support Customers",description:"Help users, provide support, or manage relationships",icon:"",color:"bg-teal-500",relevantRoles:["customer_success_manager","technical_support","customer_service_rep"]},{id:"manage_people",title:"Manage People",description:"Lead teams, hire talent, or develop organizational culture",icon:"",color:"bg-cyan-500",relevantRoles:["hr_manager","project_manager","operations_manager","business_consultant"]}],Fw=l=>{const n=la.find(s=>s.id===l);return n?n.relevantRoles:[]},ic=l=>la.find(n=>n.id===l),qf=({children:l,content:n,visible:s})=>r.jsxs("div",{className:"relative",children:[l,s&&r.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-50",children:r.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-2 px-3 max-w-xs text-center shadow-xl border border-gray-700",children:[n,r.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})})]}),Bw=({selectedRole:l,onRoleChange:n,className:s="",showDescription:a=!0,compact:o=!1})=>{var ee,H,te;const[c,d]=b.useState(""),[f,m]=b.useState("all"),[g,x]=b.useState("goals"),[y,w]=b.useState(null),[j,N]=b.useState(!1),[C,A]=b.useState(null),_=ca.useMemo(()=>{let $=Ii;if(c&&($=$.filter(q=>q.name.toLowerCase().includes(c.toLowerCase())||q.description.toLowerCase().includes(c.toLowerCase())||q.category.toLowerCase().includes(c.toLowerCase()))),f!=="all"&&($=$.filter(q=>q.category===f)),y){const q=Fw(y);$=$.filter(Z=>q.includes(Z.id))}return $},[c,f,y]),P=ca.useMemo(()=>[...new Set(Ii.map(q=>q.category))].sort(),[]),S=$=>{const q=$.target.value;d(q),q?(x("search"),w(null)):x(y?"goals":"categories")},L=$=>{N(!0),w($),x("goals"),d(""),m("all"),setTimeout(()=>{N(!1)},200)},I=$=>{N(!0);const q=document.querySelector(`[data-role-id="${$.id}"]`);q&&(q.classList.add("role-selected"),setTimeout(()=>{q.classList.remove("role-selected")},600)),setTimeout(()=>{n($.name),N(!1)},300)},U=()=>{N(!0),w(null),x("goals"),d(""),m("all"),setTimeout(()=>{N(!1)},200)},z=Ii.find($=>$.name===l);return o?r.jsx("div",{className:`${s}`,children:r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white rounded-lg border border-gray-200",children:[r.jsx(ss,{className:"w-5 h-5 text-gray-400"}),r.jsxs("select",{value:l,onChange:$=>n($.target.value),className:"flex-1 bg-transparent border-none focus:outline-none text-gray-900",children:[r.jsx("option",{value:"",children:"Select a role..."}),P.map($=>r.jsx("optgroup",{label:$,children:Ii.filter(q=>q.category===$).map(q=>r.jsx("option",{value:q.name,children:q.name},q.id))},$))]})]})})}):r.jsxs("div",{className:`improved-role-selector ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:r.jsx(ss,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Choose Your Role"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select your professional context"})]})]}),(g==="search"||g==="categories")&&r.jsxs("button",{onClick:()=>{d(""),x("goals"),m("all")},className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200 bg-blue-50/50",children:[r.jsx(Ke,{className:"w-4 h-4"}),r.jsx("span",{children:"Show Popular Goals"})]})]}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx(Gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search roles...",value:c,onChange:S,className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),r.jsxs("div",{className:`transition-all duration-200 ${j?"opacity-50 scale-95":"opacity-100 scale-100"}`,children:[g==="goals"&&!y&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-promptr-900 rounded-2xl mb-3 mx-auto shadow-sm",children:r.jsx("img",{src:"/logos/PromptrLogo.png",alt:"Promptr Logo",className:"w-8 h-8"})}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"What's your goal?"}),r.jsx("p",{className:"text-gray-600",children:"Choose what you want to accomplish to see relevant roles"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[r.jsx(cn,{className:"w-4 h-4 mr-2 text-blue-500"}),"Popular Goals"]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:la.slice(0,4).map(($,q)=>{var Z;return r.jsx(qf,{content:`Perfect for: ${((Z=$.examples)==null?void 0:Z.join(", "))||"General professional tasks"}`,visible:C===`goal-${$.id}`,children:r.jsxs("button",{onClick:()=>L($.id),onMouseEnter:()=>A(`goal-${$.id}`),onMouseLeave:()=>A(null),className:"w-full goal-card-improved group relative overflow-hidden",style:{animationDelay:`${q*100}ms`,animation:"fadeInUp 0.6s ease-out forwards"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50 to-purple-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),r.jsxs("div",{className:"relative flex flex-col items-center space-y-3 p-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl ${$.color} flex items-center justify-center text-white text-xl shadow-lg group-hover:scale-110 group-hover:shadow-xl transition-all duration-300 group-hover:animate-pulse`,children:$.icon}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("h5",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors duration-200",children:$.title}),r.jsx(ln,{className:"w-3 h-3 text-gray-400 group-hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all duration-200"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2 group-hover:text-gray-600 transition-colors duration-200",children:$.description})]}),r.jsx(yt,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-200"})]})]})},$.id)})})]}),la.length>4&&r.jsx("div",{className:"pt-4 border-t border-gray-100",children:r.jsxs("details",{className:"group",children:[r.jsxs("summary",{className:"flex items-center justify-center cursor-pointer text-sm text-blue-600 hover:text-blue-700 font-medium py-2 px-4 rounded-lg hover:bg-blue-50 transition-colors list-none",children:[r.jsx("span",{children:"More goals"}),r.jsx(yt,{className:"w-4 h-4 ml-2 group-open:rotate-90 transition-transform"})]}),r.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:la.slice(4).map(($,q)=>{var Z;return r.jsx(qf,{content:`Perfect for: ${((Z=$.examples)==null?void 0:Z.join(", "))||"General professional tasks"}`,visible:C===`goal-extended-${$.id}`,children:r.jsxs("button",{onClick:()=>L($.id),onMouseEnter:()=>A(`goal-extended-${$.id}`),onMouseLeave:()=>A(null),className:"w-full goal-card-improved group relative overflow-hidden",style:{animationDelay:`${(q+4)*100}ms`,animation:"fadeInUp 0.6s ease-out forwards"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50 to-purple-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),r.jsxs("div",{className:"relative flex flex-col items-center space-y-3 p-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl ${$.color} flex items-center justify-center text-white text-xl shadow-lg group-hover:scale-110 group-hover:shadow-xl transition-all duration-300 group-hover:animate-pulse`,children:$.icon}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("h5",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors duration-200",children:$.title}),r.jsx(ln,{className:"w-3 h-3 text-gray-400 group-hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all duration-200"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2 group-hover:text-gray-600 transition-colors duration-200",children:$.description})]}),r.jsx(yt,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-200"})]})]})},$.id)})})]})})]})]}),g==="goals"&&y&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg ${(ee=ic(y))==null?void 0:ee.color} flex items-center justify-center text-white text-sm`,children:(H=ic(y))==null?void 0:H.icon}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:(te=ic(y))==null?void 0:te.title}),r.jsx("p",{className:"text-sm text-gray-500",children:"Recommended roles"})]})]}),r.jsxs("button",{onClick:U,className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-gray-700",children:[r.jsx(su,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:_.map($=>r.jsx(Wf,{role:$,isSelected:l===$.name,onSelect:()=>I($),showDescription:a},$.id))})]}),(g==="categories"||g==="search")&&r.jsxs("div",{className:"space-y-6",children:[g==="search"&&c&&r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(cn,{className:"w-4 h-4 text-blue-500"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",_.length," role",_.length!==1?"s":"",' for "',c,'"']})]}),g==="categories"&&r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:()=>m("all"),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${f==="all"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All Categories"}),P.map($=>r.jsx("button",{onClick:()=>m($),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${f===$?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:$},$))]}),r.jsx("div",{className:"space-y-1",children:_.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Gi,{className:"w-8 h-8 text-gray-400"})}),r.jsx("p",{className:"text-gray-500",children:"No roles found matching your criteria"}),r.jsx("button",{onClick:()=>{d(""),m("all"),x("goals")},className:"text-blue-600 hover:text-blue-700 text-sm mt-2",children:"Clear filters"})]}):_.map($=>r.jsx(Wf,{role:$,isSelected:l===$.name,onSelect:()=>I($),showDescription:a},$.id))})]})]}),z&&r.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"w-5 h-5 text-blue-600"}),r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-blue-900",children:["Selected: ",z.name]}),r.jsx("p",{className:"text-sm text-blue-700",children:z.description})]})]})})]})},Wf=({role:l,isSelected:n,onSelect:s,showDescription:a=!0})=>r.jsx("button",{onClick:s,"data-role-id":l.id,className:`role-card-improved w-full text-left transition-all duration-200 ${n?"selected":""}`,children:r.jsxs("div",{className:"flex items-center justify-between p-3",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white text-sm font-medium ${n?"bg-blue-500":"bg-gray-400"}`,children:l.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("h5",{className:`font-medium ${n?"text-blue-900":"text-gray-900"}`,children:l.name}),a&&r.jsx("p",{className:`text-sm ${n?"text-blue-700":"text-gray-500"}`,children:l.description}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${n?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:l.category})]})]})}),n&&r.jsx(vt,{className:"w-5 h-5 text-blue-600 flex-shrink-0"})]})}),Gf="http://localhost:3002";class zw{static async enrichPrompt(n,s=null,a="free"){try{const o=await fetch(`${Gf}/api/v1/enrichment/enhance`,{method:"POST",headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}},body:JSON.stringify({task:n.task,context:n.context,requirements:n.requirements,role:n.role,style:n.style,output:n.output,userTier:a,enrichmentLevel:n.enrichmentLevel||50})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return{success:!0,data:(await o.json()).data}}catch(o){return console.error("Prompt enrichment failed:",o),{success:!1,error:o.message,fallback:this.generateBasicPrompt(n)}}}static generateBasicPrompt(n){const{task:s,context:a,requirements:o,role:c}=n;let d=`<prompt>
`;return c&&(d+=`  <role>${c}</role>
`),s&&(d+=`  <task>
    ${s}
  </task>
`),a&&(d+=`  <context>
    ${a}
  </context>
`),o&&(d+=`  <requirements>
    ${o}
  </requirements>
`),d+="</prompt>",{enrichedPrompt:d,improvements:["Basic XML structure applied"],qualityScore:6,isEnriched:!1}}static async enhancePrompt(n){const{formData:s,userContext:a}=n,o=(a==null?void 0:a.token)||null,c=(a==null?void 0:a.tier)||"free";return this.enrichPrompt(s,o,c)}static async getEnrichmentStatus(){try{return(await fetch(`${Gf}/health`)).ok}catch{return!1}}}const qw=zw;class Ww{static generatePrompt(n,s,a={}){const o=Gc(s);if(!o)throw new Error(`Unknown model: ${s}`);const c=a.format||o.preferredFormat,d=o.promptGuidelines;switch(c){case F.XML:return this.generateXMLPrompt(n,d,o);case F.JSON:return this.generateJSONPrompt(n,d,o);case F.MARKDOWN:return this.generateMarkdownPrompt(n,d,o);case F.STRUCTURED:return this.generateStructuredPrompt(n,d,o);case F.YAML:return this.generateYAMLPrompt(n,d,o);case F.PLAIN:return this.generatePlainPrompt(n,d,o);default:return this.generateStructuredPrompt(n,d,o)}}static generateXMLPrompt(n,s,a){const{role:o,task:c,context:d,requirements:f,style:m,output:g}=n;let x="";return s.supportsThinking&&a.features.includes("thinking_tags")&&(x+=`<thinking>
I need to approach this task systematically, considering the role, context, and requirements.
</thinking>

`),x+=`<prompt>
`,o&&(x+=`  <role>${o}</role>
`),c&&(x+=`  <task>
    ${this.formatMultilineContent(c,"    ")}
  </task>
`),d&&(x+=`  <context>
    ${this.formatMultilineContent(d,"    ")}
  </context>
`),f&&(x+=`  <requirements>
    ${this.formatMultilineContent(f,"    ")}
  </requirements>
`),m&&a.features.includes("xml_tags")&&(x+=`  <style>
    ${this.formatMultilineContent(m,"    ")}
  </style>
`),g&&(x+=`  <output>
    ${this.formatMultilineContent(g,"    ")}
  </output>
`),x+="</prompt>",{prompt:x,format:F.XML,metadata:{modelOptimized:!0,supportsThinking:s.supportsThinking,estimatedTokens:this.estimateTokens(x)}}}static generateJSONPrompt(n,s,a){const{role:o,task:c,context:d,requirements:f,style:m,output:g}=n,x={role:o||null,task:c||null,context:d||null,requirements:f||null,...m&&{style:m},...g&&{output_format:g},instructions:s.bestPractices,model_info:{name:a.name,capabilities:Object.keys(a.capabilities).filter(w=>a.capabilities[w]==="excellent")}};Object.keys(x).forEach(w=>{x[w]===null&&delete x[w]});const y=JSON.stringify(x,null,2);return{prompt:y,format:F.JSON,metadata:{modelOptimized:!0,structured:!0,estimatedTokens:this.estimateTokens(y)}}}static generateMarkdownPrompt(n,s,a){const{role:o,task:c,context:d,requirements:f,style:m,output:g}=n;let x="";return x+=`# ${a.name} Prompt

`,o&&(x+=`## Role
${o}

`),c&&(x+=`## Task
${c}

`),d&&(x+=`## Context
${d}

`),f&&(x+=`## Requirements
${f}

`),m&&(x+=`## Style Guidelines
${m}

`),g&&(x+=`## Output Format
${g}

`),x+=`## Best Practices for ${a.name}
`,s.bestPractices.forEach((y,w)=>{x+=`${w+1}. ${y}
`}),{prompt:x,format:F.MARKDOWN,metadata:{modelOptimized:!0,readable:!0,estimatedTokens:this.estimateTokens(x)}}}static generateStructuredPrompt(n,s,a){const{role:o,task:c,context:d,requirements:f,style:m,output:g}=n;let x="";return x+=`ROLE:
${o||"Assistant"}

`,c&&(x+=`TASK:
${c}

`),d&&(x+=`CONTEXT:
${d}

`),f&&(x+=`REQUIREMENTS:
${this.formatAsBulletPoints(f)}

`),m&&(x+=`STYLE:
${m}

`),g&&(x+=`OUTPUT FORMAT:
${g}

`),x+=`OPTIMIZATION FOR ${a.name.toUpperCase()}:
`,s.bestPractices.forEach(y=>{x+=` ${y}
`}),{prompt:x,format:F.STRUCTURED,metadata:{modelOptimized:!0,clear:!0,estimatedTokens:this.estimateTokens(x)}}}static generateYAMLPrompt(n,s,a){const{role:o,task:c,context:d,requirements:f,style:m,output:g}=n;let x=`# ${a.name} Prompt Configuration

`;return x+=`model: ${a.id}
`,x+=`provider: ${a.provider}

`,x+=`prompt:
`,o&&(x+=`  role: "${this.escapeYAML(o)}"
`),c&&(x+=`  task: |
    ${this.formatMultilineContent(c,"    ")}
`),d&&(x+=`  context: |
    ${this.formatMultilineContent(d,"    ")}
`),f&&(x+=`  requirements: |
    ${this.formatMultilineContent(f,"    ")}
`),m&&(x+=`  style: "${this.escapeYAML(m)}"
`),g&&(x+=`  output_format: "${this.escapeYAML(g)}"
`),x+=`
optimization:
`,x+=`  best_practices:
`,s.bestPractices.forEach(y=>{x+=`    - "${this.escapeYAML(y)}"
`}),{prompt:x,format:F.YAML,metadata:{modelOptimized:!0,configurable:!0,estimatedTokens:this.estimateTokens(x)}}}static generatePlainPrompt(n,s,a){const{role:o,task:c,context:d,requirements:f,style:m,output:g}=n;let x="";return o&&(x+=`You are a ${o}. `),c&&(x+=`Your task is: ${c}

`),d&&(x+=`Context: ${d}

`),f&&(x+=`Please ensure you: ${f}

`),m&&(x+=`Style: ${m}

`),g&&(x+=`Output format: ${g}

`),x+=`Please follow these guidelines: ${s.bestPractices.join(", ")}.`,{prompt:x,format:F.PLAIN,metadata:{modelOptimized:!0,natural:!0,estimatedTokens:this.estimateTokens(x)}}}static formatMultilineContent(n,s=""){return n.split(`
`).map(a=>s+a.trim()).join(`
`).trim()}static formatAsBulletPoints(n){return n.split(`
`).filter(a=>a.trim()).map(a=>{const o=a.trim();return o.startsWith("")||o.startsWith("-")||o.startsWith("*")?o:` ${o}`}).join(`
`)}static escapeYAML(n){return n.replace(/"/g,'\\"').replace(/\n/g,"\\n")}static estimateTokens(n){return Math.ceil(n.length/4)}static validatePrompt(n,s){const a=Gc(s);if(!a)return{isValid:!1,errors:["Invalid model selected"]};const o=[],c=[];n.role||o.push("Role is required"),n.task||o.push("Task description is required"),a.maxTokens&&n.task&&n.task.length>a.maxTokens*3&&c.push(`Task description might be too long for ${a.name}`);const d=this.assessComplexity(n);return d==="high"&&a.promptGuidelines.maxComplexity==="medium"&&c.push(`This prompt might be too complex for ${a.name}`),{isValid:o.length===0,errors:o,warnings:c,complexity:d,recommendedFormat:a.preferredFormat}}static assessComplexity(n){var a,o,c,d;const s=[((a=n.requirements)==null?void 0:a.length)>200,((o=n.context)==null?void 0:o.length)>300,((c=n.style)==null?void 0:c.length)>100,((d=n.output)==null?void 0:d.length)>100,(n.requirements||"").includes("multiple")||(n.requirements||"").includes("complex")].filter(Boolean).length;return s>=3?"high":s>=1?"medium":"low"}static getFormatPreview(n){return{[F.XML]:"Uses semantic XML tags like <role>, <task>, <context>",[F.JSON]:"Structured JSON object with clear key-value pairs",[F.MARKDOWN]:"Clean markdown with headers and bullet points",[F.STRUCTURED]:"Clear sections with uppercase headers",[F.YAML]:"YAML configuration format with nested structure",[F.PLAIN]:"Natural language without special formatting"}[n]||"Standard prompt format"}}const Gw="gpt-4o",Hw=()=>{const{user:l,session:n,isAuthenticated:s,isPro:a}=hn(),[o,c]=b.useState({role:"",task:"",context:"",requirements:"",format:""}),[d,f]=b.useState(Gw),[m,g]=b.useState(3),[x,y]=b.useState(""),[w,j]=b.useState(""),[N,C]=b.useState(null),[A,_]=b.useState(!1),[P,S]=b.useState(1),[L,I]=b.useState(!1),[U,z]=b.useState(!1),[ee,H]=b.useState(0),[te,$]=b.useState(!0),[q,Z]=b.useState(null),[ie,Ce]=b.useState(!1),Ee=()=>{var he,ke;const Y=((he=o.role)==null?void 0:he.toLowerCase())||"",re=((ke=o.task)==null?void 0:ke.toLowerCase())||"";return Y.includes("developer")||Y.includes("engineer")||re.includes("code")||re.includes("technical")?{primary:{model:{name:"Claude-3.5-Sonnet"},reasoning:"Excellent for technical tasks and code generation with strong reasoning capabilities",confidence:.9},alternatives:[{model:{name:"GPT-4o"},score:.85,reasoning:"Great alternative for complex technical problem-solving"}]}:Y.includes("writer")||Y.includes("content")||Y.includes("marketing")||re.includes("writing")||re.includes("content")?{primary:{model:{name:"GPT-4o"},reasoning:"Superior for creative writing, marketing content, and natural language generation",confidence:.85},alternatives:[{model:{name:"Claude-3.5-Sonnet"},score:.8,reasoning:"Excellent alternative with thoughtful, nuanced writing style"}]}:Y.includes("analyst")||Y.includes("research")||re.includes("analysis")||re.includes("data")?{primary:{model:{name:"Claude-3.5-Sonnet"},reasoning:"Exceptional analytical thinking and structured reasoning for complex analysis",confidence:.88},alternatives:[{model:{name:"GPT-4o"},score:.82,reasoning:"Strong analytical capabilities with broad knowledge base"}]}:{primary:{model:{name:"GPT-4o"},reasoning:"Well-balanced model suitable for most general tasks and conversations",confidence:.75},alternatives:[{model:{name:"Claude-3.5-Sonnet"},score:.7,reasoning:"Great for tasks requiring detailed reasoning and analysis"}]}},je=b.useRef(null),Q=b.useRef(null),K=b.useRef(null),J={isValid:o.role&&o.task&&d,errors:[]},E=b.useCallback(()=>{if(J.isValid)try{const Y=Ww.generatePrompt(o,d);y(Y.prompt)}catch(Y){console.error("Error generating prompt:",Y),y("")}else y("")},[o,d,J.isValid]);b.useEffect(()=>(K.current&&clearTimeout(K.current),K.current=setTimeout(()=>{E()},300),()=>{K.current&&clearTimeout(K.current)}),[E]),b.useEffect(()=>{Ce(!1)},[o.role,o.task,o.context,o.requirements,o.format,m,d]),b.useEffect(()=>{let Y=null;const re=[{ref:je,id:1},{ref:Q,id:2}],he=new IntersectionObserver(ke=>{Y||(Y=setTimeout(()=>{ke.forEach(wt=>{if(wt.isIntersecting){const yr=re.find(tr=>tr.ref.current===wt.target);yr&&S(yr.id)}}),Y=null},100))},{threshold:.3,rootMargin:"-100px 0px -100px 0px"});return re.forEach(ke=>{ke.ref.current&&he.observe(ke.ref.current)}),()=>{he.disconnect(),Y&&clearTimeout(Y)}},[]);const B=(Y,re)=>{c(he=>({...he,[Y]:re}))},pe=()=>{Q.current&&Q.current.scrollIntoView({behavior:"smooth",block:"start"})},ae=async()=>{if(J.isValid){_(!0),Z(null);try{const Y={...o,enrichmentLevel:m},re=(n==null?void 0:n.access_token)||null,he=a?"pro":"free";console.log("Calling enrichment API with enhancement level:",m);const ke=await qw.enrichPrompt(Y,re,he);if(ke.success)j(ke.data.enhancedPrompt),C(ke.data),Ce(!0),setTimeout(()=>{if(Q.current){const wt=Q.current.querySelector(".bg-white.rounded-xl.shadow-md.border.border-gray-200.overflow-hidden");wt&&wt.scrollIntoView({behavior:"smooth",block:"center"})}},100);else throw new Error(ke.error||"Enhancement failed")}catch(Y){console.error("Error enriching prompt:",Y),j(x),C(null),Z({title:"Enhancement Failed",message:"We encountered an issue while enhancing your prompt. The basic version is still available to copy.",type:"error"}),setTimeout(()=>Z(null),8e3)}finally{_(!1)}}},xe=Y=>{const he={1:je,2:Q}[Y];he!=null&&he.current&&he.current.scrollIntoView({behavior:"smooth",block:"start"})},ye=[{id:1,completed:o.role&&o.task},{id:2,completed:d&&o.role&&o.task}];return r.jsx("div",{className:"min-h-screen relative overflow-hidden",children:r.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-6 py-12",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h1",{className:"text-5xl lg:text-6xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 bg-clip-text text-transparent mb-6 leading-tight",children:"Build Better AI Prompts"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Transform your ideas into structured prompts that deliver exceptional results from any AI model"})]}),r.jsx(Aw,{}),q&&r.jsx("div",{className:"fixed top-24 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-500 ease-in-out",role:"alert","aria-live":"assertive",children:r.jsx("div",{className:`max-w-md mx-auto rounded-xl shadow-lg border p-4 ${q.type==="error"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ut,{className:`w-5 h-5 ${q.type==="error"?"text-red-400":"text-yellow-400"}`})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:`text-sm font-medium ${q.type==="error"?"text-red-800":"text-yellow-800"}`,children:q.title}),r.jsx("p",{className:`mt-1 text-sm ${q.type==="error"?"text-red-700":"text-yellow-700"}`,children:q.message})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("button",{onClick:()=>Z(null),className:`rounded-md inline-flex ${q.type==="error"?"text-red-400 hover:text-red-500":"text-yellow-400 hover:text-yellow-500"} focus:outline-none focus:ring-2 focus:ring-offset-2 ${q.type==="error"?"focus:ring-red-500":"focus:ring-yellow-500"}`,"aria-label":"Dismiss notification",children:r.jsx(Ct,{className:"w-4 h-4"})})})]})})}),L&&r.jsx("div",{className:"fixed top-24 right-6 z-40 transition-all duration-500 ease-in-out",children:r.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-100 p-3 transition-all duration-300 hover:shadow-xl",children:r.jsx("div",{className:"flex items-center space-x-3",children:ye.map((Y,re)=>r.jsx("div",{className:"relative group",children:r.jsx("button",{onClick:()=>xe(Y.id),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${P===Y.id?"bg-blue-600 text-white shadow-md scale-110":Y.completed?"bg-green-500 text-white hover:scale-105":"bg-gray-300 text-gray-600 hover:bg-gray-400 hover:text-white"}`,"aria-label":`Go to step ${Y.id}${Y.completed?" (completed)":""}`,children:Y.completed?r.jsx(vt,{className:"w-5 h-5"}):r.jsx("span",{className:"text-sm font-semibold",children:Y.id})})},Y.id))})})}),r.jsxs("div",{className:"space-y-20",children:[r.jsxs("section",{ref:je,className:"scroll-mt-32",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center px-5 py-2.5 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-full text-sm font-semibold text-indigo-700 mb-6 border border-indigo-100",children:[r.jsx(cn,{className:"w-4 h-4 mr-2"}),"Step 1 of 2"]}),r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Define Your Context"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Choose your role and describe what you want to accomplish"})]}),r.jsxs("div",{className:"relative",children:[o.role&&r.jsx("div",{className:"hidden lg:block absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 animate-pulse"}),r.jsx("div",{className:"w-8 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 animate-pulse"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsx("div",{className:`card-scroll-enhanced rounded-2xl shadow-lg p-8 transition-all duration-300 ${o.role?"border-2 border-blue-200 bg-blue-50/30":"border border-gray-200"}`,children:r.jsx(Bw,{selectedRole:o.role,onRoleChange:Y=>B("role",Y),onWorkflowComplete:pe})}),r.jsxs("div",{className:`card-scroll-enhanced rounded-2xl shadow-lg p-8 transition-all duration-300 ${o.role?"border-2 border-purple-200 bg-purple-50/30":"border border-gray-200 opacity-75"}`,children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:r.jsx(Zi,{className:"w-4 h-4 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Description"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Task Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),o.role&&r.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg contextual-hint",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center animate-pulse",children:r.jsx("span",{className:"text-white text-xs",children:""})}),r.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[o.role==="Marketing Specialist"&&"Describe your campaign goals, target audience, or content strategy...",o.role==="Software Developer"&&"Explain the feature you want to build, bug to fix, or system to design...",o.role==="UX/UI Designer"&&"Describe the interface, user flow, or design challenge you're working on...",o.role==="Project Manager"&&"Outline the project scope, timeline, or team coordination needs...",o.role==="Content Writer"&&"Describe the content type, audience, tone, and key messages...",o.role==="Data Analyst"&&"Explain the data analysis, insights, or reporting requirements...",o.role&&!["Marketing Specialist","Software Developer","UX/UI Designer","Project Manager","Content Writer","Data Analyst"].includes(o.role)&&`As a ${o.role}, describe your specific goals and requirements...`]})]})}),r.jsx("textarea",{value:o.task,onChange:Y=>B("task",Y.target.value),placeholder:o.role?`Describe your ${o.role.toLowerCase()} task or objective...`:"Describe what you want to accomplish...",className:`w-full h-32 px-4 py-3 border rounded-lg resize-none form-field-enhanced ${o.task.length===0?"border-gray-300":o.task.length<20?"border-yellow-300 bg-yellow-50":o.task.length>450?"border-red-300 bg-red-50":"border-green-300 bg-green-50"}`}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("p",{className:`text-xs ${o.task.length===0?"text-gray-500":o.task.length<20?"text-yellow-600":o.task.length>450?"text-red-600":"text-green-600"}`,children:[o.task.length,"/500 characters",o.task.length<20&&o.task.length>0&&r.jsx("span",{className:"ml-2",children:" Add more details for better results"}),o.task.length>450&&r.jsx("span",{className:"ml-2",children:" Close to limit"}),o.task.length>=20&&o.task.length<=450&&r.jsx("span",{className:"ml-2",children:" Great length! "})]}),o.task.length>=20&&r.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"Auto-saved"]})]})]}),r.jsx("div",{className:"pt-4 border-t border-gray-100",children:r.jsxs("button",{onClick:()=>$(!te),className:"flex items-center space-x-2 text-sm text-blue-600 hover:text-blue-700 transition-all duration-200 hover:bg-blue-50 px-3 py-2 rounded-lg group",children:[r.jsx(ns,{className:`w-4 h-4 transition-transform duration-200 ${te?"rotate-90":""} group-hover:scale-110`}),r.jsxs("span",{children:[te?"Hide":"Show"," Advanced Options"]}),r.jsx("div",{className:`ml-2 text-xs px-2 py-1 rounded-full transition-all duration-200 ${te?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:te?"Visible":"Hidden"})]})}),te&&r.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",style:{animation:"fadeInUp 0.4s ease-out"},children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Context",r.jsx("span",{className:"text-xs text-gray-500 font-normal ml-2",children:" This helps tailor the tone and complexity of your prompt"})]}),r.jsx("textarea",{value:o.context,onChange:Y=>B("context",Y.target.value),placeholder:"Additional context or background information...",className:`w-full h-24 px-4 py-3 border rounded-lg resize-none form-field-enhanced ${o.context.length===0?"border-gray-300":o.context.length>0?"border-blue-300 bg-blue-50":"border-gray-300"}`}),r.jsxs("p",{className:`text-xs mt-1 ${o.context.length>0?"text-blue-600":"text-gray-500"}`,children:[o.context.length,"/300 characters",o.context.length>0&&r.jsx("span",{className:"ml-2",children:" Context added "})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Requirements",r.jsx("span",{className:"text-xs text-gray-500 font-normal ml-2",children:" Specify constraints or must-have elements"})]}),r.jsx("textarea",{value:o.requirements,onChange:Y=>B("requirements",Y.target.value),placeholder:"Specific requirements, constraints, or criteria...",className:`w-full h-24 px-4 py-3 border rounded-lg resize-none form-field-enhanced ${o.requirements.length===0?"border-gray-300":o.requirements.length>0?"border-purple-300 bg-purple-50":"border-gray-300"}`}),r.jsxs("p",{className:`text-xs mt-1 ${o.requirements.length>0?"text-purple-600":"text-gray-500"}`,children:[o.requirements.length,"/200 characters",o.requirements.length>0&&r.jsx("span",{className:"ml-2",children:" Requirements specified "})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Format",r.jsx("span",{className:"text-xs text-gray-500 font-normal ml-2",children:" How should the output be structured?"})]}),r.jsx("input",{type:"text",value:o.format,onChange:Y=>B("format",Y.target.value),placeholder:"e.g., bullet points, paragraph, step-by-step...",className:`w-full px-4 py-3 border rounded-lg form-field-enhanced ${o.format.length===0?"border-gray-300":o.format.length>0?"border-green-300 bg-green-50":"border-gray-300"}`}),r.jsx("p",{className:`text-xs mt-1 ${o.format.length>0?"text-green-600":"text-gray-500"}`,children:o.format.length>0&&r.jsx("span",{children:" Format specified "})})]})]})]})]})]})]})]}),r.jsxs("section",{ref:Q,className:"scroll-mt-32",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"inline-flex items-center px-5 py-2.5 bg-gradient-to-r from-purple-50 to-pink-50 rounded-full text-sm font-semibold text-purple-700 mb-4 border border-purple-100",children:[r.jsx(Tw,{className:"w-4 h-4 mr-2"}),"Step 2 of 2"]}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Configure & Enhance"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Select your AI model, enhance your prompt, and get your optimized result"})]}),r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Model"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Choose the best model for your task"})]})]}),r.jsx(Dw,{selectedModel:d,onModelChange:f,modelRecommendation:o.role||o.task?Ee():null,compact:!0})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6 relative",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"2"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Enhancement"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Fine-tune your prompt quality"})]})]}),A&&r.jsx("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-sm rounded-xl flex items-center justify-center z-10",children:r.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),r.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Enhancing..."})]})}),r.jsx($w,{enrichmentData:{enrichmentLevel:m},onChange:(Y,re)=>{Y==="enrichmentLevel"&&g(re)},isEnriching:A}),x&&r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsx("button",{onClick:ae,disabled:A||!J.isValid||ie,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-3 rounded-lg font-semibold hover:shadow-md hover:scale-[1.02] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center space-x-2",children:A?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Enhancing..."})]}):ie?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-4 h-4"}),r.jsx("span",{children:"Enhanced"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"w-4 h-4"}),r.jsx("span",{children:"Enhance Prompt"})]})})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 px-6 py-4 border-b border-gray-200",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:r.jsx(Ke,{className:"w-4 h-4"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Optimized Prompt"}),r.jsx("p",{className:"text-sm text-gray-600",children:J.isValid?"Ready to copy and use":"Complete Step 1 to generate"})]})]})})}),r.jsx("div",{className:"p-6 min-h-[400px]",children:r.jsx(Mw,{rawPrompt:x,enrichedPrompt:w,enrichmentResult:N,isLoading:!1,hasError:!J.isValid,validation:J,selectedModel:d,isEnriching:A,hasEnrichment:!!w,onEnrichNow:a&&!ie?ae:null,isAuthenticated:s,isPro:a,formData:o,hasEnhancedCurrentInputs:ie})})]})]})})]})]})]})})},Vw=({isOpen:l,onClose:n,initialMode:s="signin"})=>{const[a,o]=b.useState(s),[c,d]=b.useState(""),[f,m]=b.useState(""),[g,x]=b.useState(""),[y,w]=b.useState(!1),[j,N]=b.useState(!1),[C,A]=b.useState(!1),[_,P]=b.useState(null),[S,L]=b.useState(null),[I,U]=b.useState(0),[z,ee]=b.useState({}),H=b.useRef(null),{signIn:te,signUp:$,resetPassword:q}=hn();b.useEffect(()=>{o(s),P(null),L(null),ee({}),l&&(d(""),m(""),x(""),w(!1),N(!1))},[s,l]),b.useEffect(()=>{const ae=xe=>{xe.key==="Escape"&&n()};if(l)return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[l,n]),b.useEffect(()=>{if(a==="signup"&&f){let ae=0;f.length>=8&&(ae+=25),f.match(/[a-z]/)&&(ae+=25),f.match(/[A-Z]/)&&(ae+=25),(f.match(/[0-9]/)||f.match(/[^a-zA-Z0-9]/))&&(ae+=25),U(ae)}else U(0)},[f,a]),b.useEffect(()=>{const ae={};a==="signup"&&(c&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)&&(ae.email="Please enter a valid email address"),f&&f.length<6&&(ae.password="Password must be at least 6 characters long"),g&&f!==g&&(ae.confirmPassword="Passwords do not match")),ee(ae)},[c,f,g,a]);const Z=async ae=>{var xe,ye,Y,re,he,ke,wt,yr,tr,pn,cs;if(ae.preventDefault(),A(!0),P(null),L(null),a==="signup"){if(Object.keys(z).length>0){P("Please fix the validation errors before submitting"),A(!1);return}if(f!==g){P("Passwords do not match"),A(!1);return}if(f.length<6){P("Password must be at least 6 characters long"),A(!1);return}}try{let Re;if(a==="signup"?(Re=await $(c,f),Re.error||(L("Account created successfully! Please check your email for the confirmation link."),d(""),m(""),x(""))):a==="signin"?(Re=await te(c,f),Re.error||n()):a==="reset_password"&&(Re=await q(c),Re.error||L("Password reset instructions have been sent to your email.")),Re.error)throw Re.error}catch(Re){console.error(`${a} error:`,Re);let bt=Re.message||`Failed to ${a}.`;(xe=Re.message)!=null&&xe.includes("Invalid login credentials")?bt="Invalid email or password. Please check your credentials and try again.":(ye=Re.message)!=null&&ye.includes("Email not confirmed")?bt="Please check your email and click the confirmation link before signing in.":(Y=Re.message)!=null&&Y.includes("User already registered")?bt="An account with this email already exists. Try signing in instead.":(re=Re.message)!=null&&re.includes("Password should be at least")?bt="Password must be at least 6 characters long.":(he=Re.message)!=null&&he.includes("Unable to validate email address")||(ke=Re.message)!=null&&ke.includes("invalid")?bt="Please enter a valid email address.":(wt=Re.message)!=null&&wt.includes("Database error")||(yr=Re.message)!=null&&yr.includes("500")?bt="Server error occurred. Please try again in a few moments or contact support if the issue persists.":(tr=Re.message)!=null&&tr.includes("Failed to fetch")||(pn=Re.message)!=null&&pn.includes("ERR_NAME_NOT_RESOLVED")?bt="Network connection error. Please check your internet connection and try again.":(cs=Re.message)!=null&&cs.includes("signup disabled")&&(bt="New user registration is temporarily disabled. Please try again later."),P(bt)}finally{A(!1)}};if(!l)return null;const ie=()=>{switch(a){case"signup":return{title:"Create an Account",description:"Unlock advanced features and save your prompts.",buttonText:"Create Account",fields:["email","password","confirmPassword"],footerLink:"signin",footerText:"Already have an account?",footerAction:"Sign In"};case"reset_password":return{title:"Reset Password",description:"Enter your email to receive reset instructions.",buttonText:"Send Instructions",fields:["email"],footerLink:"signin",footerText:"Remembered your password?",footerAction:"Sign In"};case"signin":default:return{title:"Welcome Back",description:"Sign in to access your saved prompts and settings.",buttonText:"Sign In",fields:["email","password"],footerLink:"signup",footerText:"Don't have an account?",footerAction:"Sign Up"}}},{title:Ce,description:Ee,buttonText:je,fields:Q,footerLink:K,footerText:J,footerAction:E}=ie(),B=()=>I<25?"bg-red-500":I<50?"bg-orange-500":I<75?"bg-yellow-500":"bg-green-500",pe=()=>I<25?"Weak":I<50?"Fair":I<75?"Good":"Strong";return r.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm",onClick:n,children:r.jsxs("div",{ref:H,className:"relative w-full max-w-md m-4 bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-2xl p-8 transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-scale-in",onClick:ae=>ae.stopPropagation(),children:[r.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(Ct,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-promptr-900 rounded-2xl mb-4 shadow-lg",children:r.jsx("img",{src:"/logos/PromptrLogo.png",alt:"Promptr Logo",className:"w-8 h-8"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:Ce}),r.jsx("p",{className:"text-gray-500 mt-2",children:Ee})]}),_&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-2",children:[r.jsx(ut,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-red-600",children:_})]}),S&&r.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-start space-x-2",children:[r.jsx(St,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-green-600",children:S})]}),r.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[Q.includes("email")&&r.jsxs("div",{className:"relative",children:[r.jsx(iu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"email",placeholder:"Email address",value:c,onChange:ae=>d(ae.target.value),required:!0,autoComplete:"email",className:`input-field pl-12 ${z.email?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`}),z.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.email})]}),Q.includes("password")&&r.jsxs("div",{className:"relative",children:[r.jsx(oa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:y?"text":"password",placeholder:"Password",value:f,onChange:ae=>m(ae.target.value),required:!0,autoComplete:a==="signup"?"new-password":"current-password",className:`input-field pl-12 pr-12 ${z.password?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`}),r.jsx("button",{type:"button",onClick:()=>w(!y),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":y?"Hide password":"Show password",children:y?r.jsx(Wi,{className:"w-5 h-5"}):r.jsx(on,{className:"w-5 h-5"})}),z.password&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.password}),a==="signup"&&f&&r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Password strength"}),r.jsx("span",{className:`text-xs font-medium ${I<25?"text-red-600":I<50?"text-orange-600":I<75?"text-yellow-600":"text-green-600"}`,children:pe()})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${B()}`,style:{width:`${I}%`}})})]})]}),Q.includes("confirmPassword")&&r.jsxs("div",{className:"relative",children:[r.jsx(oa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:j?"text":"password",placeholder:"Confirm password",value:g,onChange:ae=>x(ae.target.value),required:!0,autoComplete:"new-password",className:`input-field pl-12 pr-12 ${z.confirmPassword?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`}),r.jsx("button",{type:"button",onClick:()=>N(!j),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":j?"Hide confirm password":"Show confirm password",children:j?r.jsx(Wi,{className:"w-5 h-5"}):r.jsx(on,{className:"w-5 h-5"})}),z.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.confirmPassword}),g&&f===g&&r.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center",children:[r.jsx(St,{className:"w-4 h-4 mr-1"}),"Passwords match"]})]}),r.jsx("button",{type:"submit",disabled:C||a==="signup"&&Object.keys(z).length>0,className:"w-full btn btn-primary btn-lg disabled:opacity-50 disabled:cursor-not-allowed",children:C?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):je}),a==="signin"&&r.jsx("div",{className:"text-right",children:r.jsx("button",{type:"button",onClick:()=>o("reset_password"),className:"text-sm text-primary-600 hover:underline",children:"Forgot password?"})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[J," ",r.jsx("button",{onClick:()=>o(K),className:"font-medium text-primary-600 hover:underline",children:E})]})})]})})},Kw=({showDetails:l=!1})=>{const{user:n,isPro:s,subscriptionTier:a,refreshSubscription:o,getFeatureLimits:c}=hn(),[d,f]=b.useState(!1),[m,g]=b.useState(!1),x=async()=>{f(!0);try{await o()}catch(w){console.error("Failed to refresh subscription:",w)}finally{f(!1)}};if(!n)return null;const y=c();return r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[s?r.jsx(Zt,{className:"w-5 h-5 text-purple-600"}):r.jsx(ln,{className:"w-5 h-5 text-gray-500"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Subscription Status"})]}),r.jsxs("button",{onClick:x,disabled:d,className:"flex items-center space-x-1 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:[r.jsx(na,{className:`w-4 h-4 ${d?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[s?r.jsx(St,{className:"w-4 h-4 text-green-500"}):r.jsx(ut,{className:"w-4 h-4 text-yellow-500"}),r.jsxs("span",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Current Plan:"})," ",r.jsx("span",{className:`${s?"text-purple-600":"text-gray-600"}`,children:a===ze.PRO?"Pro":"Free"})]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Account:"})," ",n.email]}),l&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border-t pt-3 mt-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Feature Limits"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Max Tokens:"})," ",y.maxTokens===-1?"Unlimited":y.maxTokens.toLocaleString()]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Max Prompts:"})," ",y.maxPrompts===-1?"Unlimited":y.maxPrompts]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Advanced Features:"})," ",y.advancedFeatures?"Enabled":"Disabled"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Priority Support:"})," ",y.prioritySupport?"Enabled":"Disabled"]})]})]}),r.jsxs("div",{className:"border-t pt-3 mt-3",children:[r.jsxs("button",{onClick:()=>g(!m),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center space-x-1",children:[r.jsx(ln,{className:"w-3 h-3"}),r.jsxs("span",{children:[m?"Hide":"Show"," Debug Info"]})]}),m&&r.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs font-mono text-gray-600",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"User ID:"})," ",n.id]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Is Pro:"})," ",s.toString()]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Subscription Tier:"})," ",a]}),r.jsx("div",{children:r.jsx("strong",{children:"User Metadata:"})}),r.jsx("pre",{className:"mt-1 whitespace-pre-wrap",children:JSON.stringify(n.user_metadata,null,2)}),n.app_metadata&&Object.keys(n.app_metadata).length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mt-2",children:r.jsx("strong",{children:"App Metadata:"})}),r.jsx("pre",{className:"mt-1 whitespace-pre-wrap",children:JSON.stringify(n.app_metadata,null,2)})]})]})]})]}),s?r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"text-sm text-purple-800 font-medium",children:"Pro features are active"})]}),r.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"You have access to all premium features including unlimited prompts, advanced AI enhancements, and priority support."})]}):r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ut,{className:"w-4 h-4 text-yellow-600"}),r.jsx("span",{className:"text-sm text-yellow-800 font-medium",children:"Free plan active"})]}),r.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Upgrade to Pro for unlimited prompts, advanced features, and priority support."})]})]})]})},Jw=()=>{var P,S,L;const{user:l,isAuthenticated:n,isPro:s,signOut:a}=hn();Kc(),xr();const[o,c]=b.useState(!1),[d,f]=b.useState(!1),[m,g]=b.useState("signin"),[x,y]=b.useState(!1),[w,j]=b.useState(!1),[N,C]=b.useState(!1),A=async()=>{await a(),y(!1)},_=(I="signin")=>{g(I),f(!0),c(!1)};return r.jsxs(r.Fragment,{children:[r.jsx("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-xl border-b border-gray-100 shadow-sm",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[r.jsxs("div",{className:"flex justify-between items-center h-20",children:[r.jsx("div",{className:"flex items-center",children:r.jsxs(rt,{to:"/",className:"flex items-center space-x-4 group transition-all duration-200",children:[r.jsx("div",{className:"relative",children:r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-promptr-900 rounded-2xl shadow-sm group-hover:shadow-md transition-all duration-200",children:r.jsx("img",{src:"/logos/PromptrLogo.png",alt:"Promptr Logo",className:"w-6 h-6"})})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Promptr"}),r.jsx("p",{className:"text-sm text-gray-500 font-medium hidden sm:block",children:"AI Prompt Builder"})]})]})}),r.jsx("nav",{className:"hidden md:flex items-center space-x-2",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(rt,{to:"/help",className:"px-4 py-2 text-gray-600 hover:text-gray-900 font-medium transition-all duration-200 rounded-xl hover:bg-gray-50",children:"Help"}),r.jsx(rt,{to:"/docs",className:"px-4 py-2 text-gray-600 hover:text-gray-900 font-medium transition-all duration-200 rounded-xl hover:bg-gray-50",children:"Docs"}),r.jsx(rt,{to:"/pricing",className:"px-4 py-2 text-gray-600 hover:text-gray-900 font-medium transition-all duration-200 rounded-xl hover:bg-gray-50",children:"Pricing"})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[He&&n?r.jsxs(r.Fragment,{children:[s&&r.jsxs("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-full border border-purple-200",children:[r.jsx(Zt,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"text-sm text-purple-700 font-medium",children:"Pro"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>y(!x),className:"flex items-center space-x-2 px-3 py-2 rounded-xl hover:bg-white/60 transition-all duration-200",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm text-white font-semibold",children:((P=l==null?void 0:l.email)==null?void 0:P.charAt(0).toUpperCase())||"U"})}),r.jsxs("div",{className:"hidden sm:block text-left",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-32",children:((S=l==null?void 0:l.email)==null?void 0:S.split("@")[0])||"User"}),r.jsx("div",{className:"text-xs text-gray-500",children:s?"Pro Member":"Free User"})]}),r.jsx(Xi,{className:`w-4 h-4 text-gray-400 transition-transform ${x?"rotate-180":""}`})]}),x&&r.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white/95 backdrop-blur-xl rounded-xl shadow-2xl border border-gray-200/60 py-1 z-50",children:[r.jsxs("div",{className:"px-3 py-2 border-b border-gray-100/60",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:l==null?void 0:l.email}),r.jsx("p",{className:"text-xs text-gray-500",children:s?"Pro Member":"Free Plan"})]}),r.jsxs(rt,{to:"/profile",className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50/80 flex items-center",children:[r.jsx(ss,{className:"w-4 h-4 mr-2"}),"Profile"]}),r.jsxs(rt,{to:"/profile?tab=settings",onClick:()=>y(!1),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50/80 flex items-center",children:[r.jsx(ns,{className:"w-4 h-4 mr-2"}),"Account Settings"]}),!s&&r.jsxs("button",{onClick:()=>_("upgrade"),className:"w-full text-left px-3 py-2 text-sm text-purple-700 hover:bg-purple-50/80 flex items-center",children:[r.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Upgrade to Pro"]}),r.jsxs("button",{onClick:A,className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50/80 flex items-center border-t border-gray-100/60",children:[r.jsx(up,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]}):r.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>_("signin"),className:"px-4 py-2 text-gray-600 hover:text-gray-900 font-medium transition-all duration-200 rounded-xl hover:bg-gray-50",children:"Sign In"}),r.jsx("button",{onClick:()=>_("signup"),className:"px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium rounded-xl hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md",children:"Get Started"})]}),r.jsx("button",{onClick:()=>c(!o),className:"md:hidden p-2 rounded-xl hover:bg-white/60 transition-all duration-200","aria-label":"Toggle menu",children:o?r.jsx(Ct,{className:"w-5 h-5"}):r.jsx(jw,{className:"w-5 h-5"})})]})]}),o&&r.jsxs("div",{className:"md:hidden border-t border-white/20 py-4 space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(rt,{to:"/docs",className:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-white/60 rounded-lg transition-all duration-200 font-medium",children:" Documentation"}),r.jsx(rt,{to:"/pricing",className:"block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-white/60 rounded-lg transition-all duration-200 font-medium",children:" Pricing"}),r.jsx("button",{onClick:()=>C(!N),className:"block w-full text-left px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-white/60 rounded-lg transition-all duration-200 font-medium",children:" Help & Support"})]}),r.jsx("div",{className:"px-3 pt-2 border-t border-white/20",children:n?r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-white/60 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm text-white font-semibold",children:((L=l==null?void 0:l.email)==null?void 0:L.charAt(0).toUpperCase())||"U"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:l==null?void 0:l.email}),r.jsx("p",{className:"text-xs text-gray-500",children:s?"Pro Member":"Free User"})]})]}),r.jsxs(rt,{to:"/profile",className:"btn btn-secondary btn-sm flex items-center justify-center",children:[r.jsx(ss,{className:"w-4 h-4 mr-1"}),"Profile"]}),r.jsx(rt,{to:"/profile?tab=settings",onClick:()=>c(!1),className:"btn btn-secondary btn-sm",children:"Account Settings"}),r.jsx("button",{onClick:A,className:"btn btn-ghost btn-sm text-red-600",children:"Sign Out"})]}):r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx("button",{onClick:()=>_("signin"),className:"btn btn-secondary btn-sm",children:"Sign In"}),r.jsxs("button",{onClick:()=>_("signup"),className:"btn btn-premium btn-sm flex items-center justify-center",children:[r.jsx(Ke,{className:"w-4 h-4 mr-1"}),"Get Started Free"]})]})})]})]})}),He&&r.jsx(Vw,{isOpen:d,onClose:()=>f(!1),initialMode:m}),w&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Subscription Status"}),r.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Ct,{className:"w-5 h-5"})})]}),r.jsx(Kw,{showDetails:!0})]})})})]})},Qw=()=>{const l={free:["Universal prompt generation","Multi-model format support","Basic templates and examples","Copy & export functionality"],premium:["AI-powered prompt enhancement","Advanced optimization suggestions","Priority model recommendations","Prompt history & saving","Enhanced usage limits","Premium AI models"]};return r.jsx("section",{id:"pricing",className:"py-20 bg-gradient-to-br from-slate-50 via-gray-50 to-blue-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Choose Your AI Advantage"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Join thousands of professionals getting better results with AI"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-10 max-w-5xl mx-auto pt-8",style:{overflow:"visible"},children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 relative h-full flex flex-col hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Free Plan"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Perfect for getting started"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"0"}),r.jsx("div",{className:"text-sm text-gray-500",children:"forever"})]})]}),r.jsx("div",{className:"space-y-4 mb-8",children:l.free.map((n,s)=>r.jsxs("div",{className:"flex items-center space-x-3 group",children:[r.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-200 transition-colors duration-200",children:r.jsx(vt,{className:"w-3 h-3 text-green-600"})}),r.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 transition-colors duration-200",children:n})]},s))}),r.jsx("div",{className:"flex-grow"}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-6",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(vt,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm font-semibold text-green-800",children:"Current Plan Active"})]})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 pt-12 relative h-full flex flex-col overflow-visible hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",style:{contain:"none"},children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-600 to-blue-600 rounded-t-2xl"}),r.jsx("div",{className:"absolute left-1/2 -top-3 -translate-x-1/2 z-10",children:r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-1 rounded-full text-sm font-medium flex items-center space-x-1 shadow-lg",children:[r.jsx(Ke,{className:"w-4 h-4"}),r.jsx("span",{children:"Save 70%  Limited-time launch pricing"})]})}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Premium Plan"}),r.jsx(Zt,{className:"w-6 h-6 text-purple-600"})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Professional AI optimization"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex items-baseline space-x-1",children:[r.jsx("span",{className:"text-lg text-gray-500 line-through",children:"10 EUR"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"3 EUR"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:"/ month"})]})]}),r.jsx("div",{className:"space-y-4 mb-8",children:l.premium.map((n,s)=>r.jsxs("div",{className:"flex items-center space-x-3 group",children:[r.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center group-hover:from-purple-700 group-hover:to-blue-700 transition-all duration-200",children:r.jsx(vt,{className:"w-3 h-3 text-white"})}),r.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 transition-colors duration-200",children:n})]},s))}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(un,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"text-sm font-semibold text-purple-800",children:"Instant Value"})]}),r.jsxs("p",{className:"text-sm text-purple-700",children:["Save 2+ hours per week on prompt creation.",r.jsx("br",{}),"Most users see ROI within the first week."]})]}),r.jsx("button",{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-4 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-blue-700 transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl group mb-4",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Zt,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:"Start 7-Day Free Trial"}),r.jsx(Ui,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})}),r.jsx("div",{className:"text-center space-y-1",children:r.jsx("p",{className:"text-sm text-gray-600",children:" No credit card required   Cancel anytime"})})]})]})]})})},Yw=()=>r.jsx("footer",{className:"glass-effect border-t border-white/20 mt-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"md:col-span-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-promptr-900 rounded-xl",children:r.jsx("img",{src:"/logos/PromptrLogo.png",alt:"Promptr Logo",className:"w-5 h-5"})}),r.jsx("h3",{className:"text-lg font-bold text-gradient",children:"Promptr"})]}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Professional AI prompt engineering made simple and accessible."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Product"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{href:"#pricing",className:"text-gray-600 hover:text-purple-600 transition-colors text-sm",children:"Pricing"})}),r.jsx("li",{children:r.jsx("a",{href:"#docs",className:"text-gray-600 hover:text-purple-600 transition-colors text-sm",children:"Documentation"})}),r.jsx("li",{children:r.jsx("a",{href:"#support",className:"text-gray-600 hover:text-purple-600 transition-colors text-sm",children:"Support"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Connect"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("a",{href:"https://github.com",className:"p-2 bg-white/60 rounded-lg border border-gray-200/60 text-gray-500 hover:text-gray-700 transition-colors","aria-label":"GitHub",children:r.jsx(yw,{className:"w-4 h-4"})}),r.jsx("a",{href:"https://twitter.com",className:"p-2 bg-white/60 rounded-lg border border-gray-200/60 text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Twitter",children:r.jsx(Pw,{className:"w-4 h-4"})}),r.jsx("a",{href:"mailto:hello@promptr.com",className:"p-2 bg-white/60 rounded-lg border border-gray-200/60 text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Email",children:r.jsx(iu,{className:"w-4 h-4"})})]})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsx("span",{children:" 2024 Promptr"}),r.jsx("a",{href:"#privacy",className:"hover:text-gray-700 transition-colors",children:"Privacy"}),r.jsx("a",{href:"#terms",className:"hover:text-gray-700 transition-colors",children:"Terms"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[r.jsx("span",{children:"Made with"}),r.jsx(vw,{className:"w-4 h-4 text-red-500 fill-current"}),r.jsx("span",{children:"for the AI community"})]})]})})]})}),Xw=()=>{const[l,n]=b.useState(""),[s,a]=b.useState(null),[o,c]=b.useState("getting-started"),d=[{id:1,category:"getting-started",question:"How do I create my first prompt?",answer:'Start by selecting a role that matches your use case, then describe your task clearly. Add context and requirements to help the AI understand what you need. Finally, choose the appropriate AI model and click "Generate Prompt".'},{id:2,category:"getting-started",question:"What makes a good prompt?",answer:"Good prompts are specific, clear, and provide context. Include your role, the task you want to accomplish, any constraints or requirements, and the desired output format. The more specific you are, the better results you'll get."},{id:3,category:"features",question:"How does prompt enrichment work?",answer:"Prompt enrichment uses AI to automatically improve your basic prompts by adding context, examples, and optimization techniques. Pro users get access to advanced enrichment powered by GPT-4."},{id:4,category:"features",question:"Can I share my prompts with others?",answer:"Yes! You can share prompts publicly or privately. Pro users can password-protect their shared prompts and set expiration dates for enhanced security."},{id:5,category:"models",question:"Which AI model should I choose?",answer:"Our smart routing system automatically suggests the best model based on your task. GPT-4 is great for complex reasoning, Claude for analysis, and Gemini for creative tasks. Each model has different strengths."},{id:6,category:"models",question:"What's the difference between AI models?",answer:"Different models excel at different tasks: GPT-4 for reasoning and code, Claude for analysis and safety, Gemini for creativity and multimodal tasks, and specialized models for specific use cases like image generation or code completion."},{id:7,category:"account",question:"What are the differences between Free and Pro?",answer:"Free users get 100 prompt generations and 20 enrichments per month. Pro users get 1000 generations, 500 enrichments, advanced features like password-protected sharing, priority support, and access to premium AI models."},{id:8,category:"account",question:"How do I upgrade to Pro?",answer:'Click the "Upgrade to Pro" button in your account menu or visit the pricing section. Pro subscriptions are billed monthly and can be cancelled anytime.'},{id:9,category:"troubleshooting",question:"Why isn't my prompt working?",answer:"Check that you've filled in the required fields (role and task). Make sure your prompt is specific enough and try using the enrichment feature to improve it. If issues persist, try a different AI model."},{id:10,category:"troubleshooting",question:"I'm hitting usage limits, what can I do?",answer:"Free users have monthly limits that reset each month. You can upgrade to Pro for higher limits, or wait for your limits to reset. Pro users have much higher limits and priority access."}],f=[{id:"getting-started",name:"Getting Started",icon:au,color:"blue"},{id:"features",name:"Features",icon:un,color:"purple"},{id:"models",name:"AI Models",icon:cn,color:"green"},{id:"account",name:"Account & Billing",icon:ns,color:"orange"},{id:"troubleshooting",name:"Troubleshooting",icon:Ff,color:"red"}],m=[{title:"Creating Your First Prompt",description:"Learn the basics of prompt creation",steps:["Choose a role","Describe your task","Add context","Generate prompt"],icon:""},{title:"Using AI Model Routing",description:"Let our system choose the best AI model",steps:["Enter your task","Review suggestions","Accept or override","Generate"],icon:""},{title:"Prompt Enrichment",description:"Enhance your prompts with AI assistance",steps:["Create basic prompt","Enable enrichment","Review improvements","Use enhanced prompt"],icon:""},{title:"Sharing Prompts",description:"Share your successful prompts",steps:["Generate prompt","Click share","Set permissions","Copy link"],icon:""}],g=d.filter(y=>(o==="all"||y.category===o)&&(l===""||y.question.toLowerCase().includes(l.toLowerCase())||y.answer.toLowerCase().includes(l.toLowerCase()))),x=y=>{a(s===y?null:y)};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsx("div",{className:"flex items-center mb-4",children:r.jsxs(rt,{to:"/",className:"flex items-center text-white hover:text-blue-200 transition-colors mr-4",children:[r.jsx(su,{className:"w-5 h-5 mr-1"}),"Back to App"]})}),r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Help & Support"}),r.jsx("p",{className:"text-xl text-blue-100",children:"Get the most out of Promptr with our comprehensive guides and support resources"})]})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-3 mb-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Quick Start Guides"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((y,w)=>r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border border-gray-100",children:[r.jsx("div",{className:"text-3xl mb-4",children:y.icon}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:y.title}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:y.description}),r.jsx("ol",{className:"text-sm text-gray-500 space-y-1",children:y.steps.map((j,N)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-medium mr-2",children:N+1}),j]},N))})]},w))})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx(Gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search FAQs...",value:l,onChange:y=>n(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[r.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="all"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),f.map(y=>{const w=y.icon;return r.jsxs("button",{onClick:()=>c(y.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center ${o===y.id?`bg-${y.color}-100 text-${y.color}-700`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[r.jsx(w,{className:"w-4 h-4 mr-1"}),y.name]},y.id)})]}),r.jsx("div",{className:"space-y-4",children:g.map(y=>r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>x(y.id),className:"w-full text-left px-4 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[r.jsx("span",{className:"font-medium text-gray-900",children:y.question}),s===y.id?r.jsx(Xi,{className:"w-5 h-5 text-gray-500"}):r.jsx(yt,{className:"w-5 h-5 text-gray-500"})]}),s===y.id&&r.jsx("div",{className:"px-4 pb-4 text-gray-600",children:y.answer})]},y.id))}),g.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Ff,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No FAQs found matching your search."})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Need More Help?"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("a",{href:"mailto:support@promptr.com",className:"flex items-center p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[r.jsx(iu,{className:"w-5 h-5 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-blue-900",children:"Email Support"}),r.jsx("div",{className:"text-sm text-blue-600",children:"support@promptr.com"})]})]}),r.jsxs("a",{href:"#",className:"flex items-center p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[r.jsx(Nw,{className:"w-5 h-5 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-green-900",children:"Live Chat"}),r.jsx("div",{className:"text-sm text-green-600",children:"Available 9AM-5PM EST"})]})]}),r.jsxs("a",{href:"#",className:"flex items-center p-3 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[r.jsx(Wc,{className:"w-5 h-5 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-purple-900",children:"Community"}),r.jsx("div",{className:"text-sm text-purple-600",children:"Join our Discord"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(rt,{to:"/docs",className:"block text-blue-600 hover:text-blue-800 transition-colors",children:" Full Documentation"}),r.jsx(rt,{to:"/pricing",className:"block text-blue-600 hover:text-blue-800 transition-colors",children:" Pricing & Plans"}),r.jsx("a",{href:"#",className:"block text-blue-600 hover:text-blue-800 transition-colors",children:" Video Tutorials"}),r.jsx("a",{href:"#",className:"block text-blue-600 hover:text-blue-800 transition-colors",children:" Best Practices Guide"}),r.jsx("a",{href:"#",className:"block text-blue-600 hover:text-blue-800 transition-colors",children:" System Status"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl shadow-lg p-6 border border-purple-200",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Zt,{className:"w-6 h-6 text-purple-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Pro Support"})]}),r.jsx("p",{className:"text-purple-700 text-sm mb-4",children:"Get priority support, advanced features, and higher usage limits with Pro."}),r.jsxs(rt,{to:"/pricing",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium",children:[r.jsx(Zt,{className:"w-4 h-4 mr-1"}),"Upgrade to Pro"]})]})]})]})})]})},Zw=()=>{const[l,n]=b.useState(""),[s,a]=b.useState("getting-started"),[o,c]=b.useState(null),[d,f]=b.useState(["getting-started"]),m=[{id:"getting-started",title:"Getting Started",icon:au,color:"blue",subsections:[{id:"introduction",title:"Introduction"},{id:"quick-start",title:"Quick Start Guide"},{id:"basic-concepts",title:"Basic Concepts"}]},{id:"prompt-engineering",title:"Prompt Engineering",icon:cn,color:"purple",subsections:[{id:"prompt-structure",title:"Prompt Structure"},{id:"best-practices",title:"Best Practices"},{id:"advanced-techniques",title:"Advanced Techniques"},{id:"examples",title:"Examples & Templates"}]},{id:"ai-models",title:"AI Models",icon:cp,color:"green",subsections:[{id:"model-overview",title:"Model Overview"},{id:"model-routing",title:"Smart Model Routing"},{id:"model-comparison",title:"Model Comparison"},{id:"custom-models",title:"Custom Models"}]},{id:"features",title:"Features",icon:un,color:"orange",subsections:[{id:"enrichment",title:"Prompt Enrichment"},{id:"sharing",title:"Prompt Sharing"},{id:"history",title:"Session History"},{id:"analytics",title:"Analytics & Insights"}]},{id:"api",title:"API Reference",icon:lp,color:"red",subsections:[{id:"authentication",title:"Authentication"},{id:"endpoints",title:"API Endpoints"},{id:"rate-limits",title:"Rate Limits"},{id:"webhooks",title:"Webhooks"}]},{id:"integration",title:"Integration",icon:eo,color:"indigo",subsections:[{id:"javascript-sdk",title:"JavaScript SDK"},{id:"python-sdk",title:"Python SDK"},{id:"rest-api",title:"REST API"},{id:"webhooks-setup",title:"Webhooks Setup"}]}],g={"javascript-basic":`// Basic prompt generation
import { PromptCraft } from '@promptcraft/sdk';

const client = new PromptCraft({
  apiKey: 'your-api-key'
});

const result = await client.generatePrompt({
  role: 'Marketing Manager',
  task: 'Create a product launch campaign',
  context: 'SaaS productivity tool for teams',
  requirements: 'Focus on benefits, include CTA'
});

console.log(result.prompt);`,"api-curl":`# Generate a prompt via REST API
curl -X POST https://api.promptcraft.ai/v1/prompts/generate \\
  -H "Authorization: Bearer YOUR_API_KEY" \\
  -H "Content-Type: application/json" \\
  -d '{
    "role": "Marketing Manager",
    "task": "Create a product launch campaign",
    "context": "SaaS productivity tool for teams",
    "requirements": "Focus on benefits, include CTA",
    "model": "gpt-4",
    "enrichment": true
  }'`},x=(j,N)=>{navigator.clipboard.writeText(j),c(N),setTimeout(()=>c(null),2e3)},y=j=>{f(N=>N.includes(j)?N.filter(C=>C!==j):[...N,j])},w=()=>{switch(s){case"getting-started":return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Getting Started"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Welcome to Promptr! This guide will help you create effective AI prompts and get the most out of our platform."})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(ln,{className:"w-5 h-5 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"What is Promptr?"})]}),r.jsx("p",{className:"text-blue-800",children:"Promptr is a professional prompt engineering platform that helps you create, optimize, and manage AI prompts for various use cases. Our smart routing system automatically selects the best AI model for your specific task."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Quick Start"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-semibold",children:"1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Choose Your Role"}),r.jsx("p",{className:"text-gray-600",children:"Select a role that matches your use case or create a custom role."})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-semibold",children:"2"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Describe Your Task"}),r.jsx("p",{className:"text-gray-600",children:"Clearly describe what you want the AI to accomplish."})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-semibold",children:"3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Add Context & Requirements"}),r.jsx("p",{className:"text-gray-600",children:"Provide additional context and specify any requirements or constraints."})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-semibold",children:"4"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Generate & Refine"}),r.jsx("p",{className:"text-gray-600",children:"Generate your prompt and use our enrichment features to optimize it."})]})]})]})]})]});case"prompt-structure":return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Prompt Structure"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Learn how to structure effective prompts for maximum AI performance."})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Anatomy of a Good Prompt"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"Role Definition"}),r.jsx("p",{className:"text-gray-600",children:"Clearly define who the AI should act as."}),r.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded mt-1 block",children:'"You are an experienced marketing manager..."'})]}),r.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"Task Description"}),r.jsx("p",{className:"text-gray-600",children:"Specify exactly what you want the AI to do."}),r.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded mt-1 block",children:'"Create a product launch email campaign..."'})]}),r.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"Context & Background"}),r.jsx("p",{className:"text-gray-600",children:"Provide relevant background information."}),r.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded mt-1 block",children:'"The product is a SaaS tool for project management..."'})]}),r.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"Requirements & Constraints"}),r.jsx("p",{className:"text-gray-600",children:"Specify format, length, style, and other requirements."}),r.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded mt-1 block",children:'"Keep it under 200 words, include a clear CTA..."'})]})]})]})]});case"api":return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"API Reference"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Complete reference for the Promptr REST API."})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(ww,{className:"w-5 h-5 text-yellow-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"Authentication"})]}),r.jsx("p",{className:"text-yellow-800 mb-4",children:"All API requests require authentication using your API key in the Authorization header."}),r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:r.jsx("code",{children:"Authorization: Bearer YOUR_API_KEY"})}),r.jsx("button",{onClick:()=>x("Authorization: Bearer YOUR_API_KEY","auth-header"),className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-gray-200 transition-colors",children:o==="auth-header"?r.jsx(St,{className:"w-4 h-4"}):r.jsx(es,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Core Endpoints"}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Generate Prompt"}),r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"POST"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an optimized prompt based on your inputs."}),r.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:"POST /v1/prompts/generate"}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Example Request"}),r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:r.jsx("code",{children:g["api-curl"]})}),r.jsx("button",{onClick:()=>x(g["api-curl"],"api-curl"),className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-gray-200 transition-colors",children:o==="api-curl"?r.jsx(St,{className:"w-4 h-4"}):r.jsx(es,{className:"w-4 h-4"})})]})]})]})})]})]});case"javascript-sdk":return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"JavaScript SDK"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Official JavaScript/TypeScript SDK for Promptr."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Installation"}),r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:r.jsx("code",{children:"npm install @promptcraft/sdk"})}),r.jsx("button",{onClick:()=>x("npm install @promptcraft/sdk","npm-install"),className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-gray-200 transition-colors",children:o==="npm-install"?r.jsx(St,{className:"w-4 h-4"}):r.jsx(es,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Basic Usage"}),r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:r.jsx("code",{children:g["javascript-basic"]})}),r.jsx("button",{onClick:()=>x(g["javascript-basic"],"js-basic"),className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-gray-200 transition-colors",children:o==="js-basic"?r.jsx(St,{className:"w-4 h-4"}):r.jsx(es,{className:"w-4 h-4"})})]})]})]});default:return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hw,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Select a documentation section"}),r.jsx("p",{className:"text-gray-500",children:"Choose a topic from the sidebar to get started."})]})}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx("div",{className:"flex items-center mb-4",children:r.jsxs(rt,{to:"/",className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mr-4",children:[r.jsx(su,{className:"w-5 h-5 mr-1"}),"Back to App"]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Documentation"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Everything you need to master Promptr"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search docs...",value:l,onChange:j=>n(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]})]})]})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"flex gap-8",children:[r.jsx("div",{className:"w-64 flex-shrink-0",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsx("nav",{className:"space-y-2",children:m.map(j=>{const N=j.icon,C=d.includes(j.id);return r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>y(j.id),className:"w-full flex items-center justify-between px-3 py-2 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(N,{className:`w-4 h-4 mr-2 text-${j.color}-600`}),r.jsx("span",{className:"font-medium",children:j.title})]}),C?r.jsx(Xi,{className:"w-4 h-4 text-gray-400"}):r.jsx(yt,{className:"w-4 h-4 text-gray-400"})]}),C&&r.jsx("div",{className:"ml-6 mt-1 space-y-1",children:j.subsections.map(A=>r.jsx("button",{onClick:()=>a(A.id),className:`block w-full text-left px-3 py-1 text-sm rounded-lg transition-colors ${s===A.id?`bg-${j.color}-50 text-${j.color}-700`:"text-gray-600 hover:bg-gray-50"}`,children:A.title},A.id))})]},j.id)})})})}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:w()})})]})})]})},eb=({isOpen:l,onClose:n})=>{const[s,a]=b.useState({email:!0,promptReminders:!0,usageAlerts:!1,securityAlerts:!0,marketingEmails:!1,weeklyDigest:!0}),[o,c]=b.useState(!1),[d,f]=b.useState(!1),[m,g]=b.useState(null),[x,y]=b.useState(!1),[w,j]=b.useState(!1);b.useEffect(()=>{l&&N()},[l]),b.useEffect(()=>{const _=P=>{P.key==="Escape"&&l&&n()};return l&&document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[l,n]);const N=async()=>{c(!0),g(null);try{const _=await Ve.getUserSettings();_.notifications&&a(_.notifications),j(!1)}catch(_){console.error("Failed to load notification settings:",_),g("Failed to load settings. Using defaults.")}finally{c(!1)}},C=_=>{a(P=>({...P,[_]:!P[_]})),j(!0),g(null)},A=async()=>{f(!0),g(null),y(!1);try{await Ve.updateNotificationSettings(s),console.log("Notification settings saved successfully"),y(!0),j(!1),setTimeout(()=>{n(),y(!1)},1500)}catch(_){console.error("Failed to save notification settings:",_),g("Failed to save settings. Please try again.")}finally{f(!1)}};return l?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(op,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Notifications"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage your notification preferences"})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Ct,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose which types of notifications you'd like to receive via email. You can change these settings at any time."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Email Notifications"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Master switch for all email notifications"})]}),r.jsx("button",{onClick:()=>C("email"),disabled:o,className:`w-12 h-6 rounded-full transition-colors ${s.email?"bg-blue-600":"bg-gray-300"} ${o?"opacity-50 cursor-not-allowed":""}`,children:r.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${s.email?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Prompt Reminders"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Get reminded about your saved prompts and templates"})]}),r.jsx("button",{onClick:()=>C("promptReminders"),className:`w-12 h-6 rounded-full transition-colors ${s.promptReminders?"bg-blue-600":"bg-gray-300"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${s.promptReminders?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Usage Alerts"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Get notified when you're approaching your monthly limits"})]}),r.jsx("button",{onClick:()=>C("usageAlerts"),className:`w-12 h-6 rounded-full transition-colors ${s.usageAlerts?"bg-blue-600":"bg-gray-300"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${s.usageAlerts?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Security Alerts"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Important security notifications like login attempts"})]}),r.jsx("button",{onClick:()=>C("securityAlerts"),className:`w-12 h-6 rounded-full transition-colors ${s.securityAlerts?"bg-blue-600":"bg-gray-300"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${s.securityAlerts?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Marketing Emails"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Product updates, new features, and promotional offers"})]}),r.jsx("button",{onClick:()=>C("marketingEmails"),className:`w-12 h-6 rounded-full transition-colors ${s.marketingEmails?"bg-blue-600":"bg-gray-300"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${s.marketingEmails?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Weekly Digest"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Weekly summary of your activity and usage statistics"})]}),r.jsx("button",{onClick:()=>C("weeklyDigest"),className:`w-12 h-6 rounded-full transition-colors ${s.weeklyDigest?"bg-blue-600":"bg-gray-300"}`,children:r.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${s.weeklyDigest?"translate-x-6":"translate-x-1"}`})})]})]})]})}),x&&r.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm text-green-700",children:"Settings saved successfully!"})]})}),m&&r.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ut,{className:"w-4 h-4 text-red-600"}),r.jsx("span",{className:"text-sm text-red-700",children:m})]})}),w&&!d&&r.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ut,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm text-blue-700",children:"You have unsaved changes"})]})}),r.jsxs("div",{className:"flex flex-col space-y-3 mt-8",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:n,disabled:d,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{onClick:A,disabled:d||o||!w,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"})]}),r.jsx("button",{onClick:()=>{a({email:!0,promptReminders:!0,usageAlerts:!1,securityAlerts:!0,marketingEmails:!1,weeklyDigest:!0}),j(!0),g(null)},disabled:d||o,className:"w-full px-4 py-2 text-gray-600 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Reset to Defaults"})]})]})})}):null};class tb{static async cleanupOldData(){try{console.log(" Starting data retention cleanup...");const n={sessionsCleaned:0,analyticsCleaned:0,failedLoginsCleaned:0,tempDataCleaned:0,errors:[]};try{const s=new Date;s.setMonth(s.getMonth()-12);const{data:a,error:o}=await se.from("session_history").delete().lt("created_at",s.toISOString()).select("id");o?n.errors.push(`Session cleanup error: ${o.message}`):n.sessionsCleaned=(a==null?void 0:a.length)||0}catch(s){n.errors.push(`Session cleanup failed: ${s.message}`)}try{const s=new Date;s.setMonth(s.getMonth()-12);const{data:a,error:o}=await se.from("user_analytics").delete().lt("created_at",s.toISOString()).select("id");o?n.errors.push(`Analytics cleanup error: ${o.message}`):n.analyticsCleaned=(a==null?void 0:a.length)||0}catch(s){n.errors.push(`Analytics cleanup failed: ${s.message}`)}try{const s=new Date;s.setDate(s.getDate()-30),n.failedLoginsCleaned=0}catch(s){n.errors.push(`Failed login cleanup failed: ${s.message}`)}try{const s=new Date;s.setDate(s.getDate()-30),n.tempDataCleaned=0}catch(s){n.errors.push(`Temp data cleanup failed: ${s.message}`)}return console.log(" Data retention cleanup completed:",n),n}catch(n){throw console.error(" Data retention cleanup failed:",n),n}}static async anonymizeOldData(){try{console.log(" Starting data anonymization...");const n={sessionsAnonymized:0,analyticsAnonymized:0,errors:[]};try{const s=new Date;s.setMonth(s.getMonth()-24);const{data:a,error:o}=await se.from("session_history").update({user_id:null,data:{anonymized:!0,original_user_id:"anonymized"},anonymized_at:new Date().toISOString()}).lt("created_at",s.toISOString()).is("anonymized_at",null).select("id");o?n.errors.push(`Session anonymization error: ${o.message}`):n.sessionsAnonymized=(a==null?void 0:a.length)||0}catch(s){n.errors.push(`Session anonymization failed: ${s.message}`)}try{const s=new Date;s.setMonth(s.getMonth()-24);const{data:a,error:o}=await se.from("user_analytics").update({user_id:null,metadata:{anonymized:!0,original_user_id:"anonymized"},anonymized_at:new Date().toISOString()}).lt("created_at",s.toISOString()).is("anonymized_at",null).select("id");o?n.errors.push(`Analytics anonymization error: ${o.message}`):n.analyticsAnonymized=(a==null?void 0:a.length)||0}catch(s){n.errors.push(`Analytics anonymization failed: ${s.message}`)}return console.log(" Data anonymization completed:",n),n}catch(n){throw console.error(" Data anonymization failed:",n),n}}static async deleteUserData(n){try{console.log(`  Deleting all data for user: ${n}`);const s={promptsDeleted:0,sessionsDeleted:0,analyticsDeleted:0,profileDeleted:!1,errors:[]};try{const{data:a,error:o}=await se.from("prompts").delete().eq("user_id",n).select("id");o?s.errors.push(`Prompts deletion error: ${o.message}`):s.promptsDeleted=(a==null?void 0:a.length)||0}catch(a){s.errors.push(`Prompts deletion failed: ${a.message}`)}try{const{data:a,error:o}=await se.from("session_history").delete().eq("user_id",n).select("id");o?s.errors.push(`Sessions deletion error: ${o.message}`):s.sessionsDeleted=(a==null?void 0:a.length)||0}catch(a){s.errors.push(`Sessions deletion failed: ${a.message}`)}try{const{data:a,error:o}=await se.from("user_analytics").delete().eq("user_id",n).select("id");o?s.errors.push(`Analytics deletion error: ${o.message}`):s.analyticsDeleted=(a==null?void 0:a.length)||0}catch(a){s.errors.push(`Analytics deletion failed: ${a.message}`)}try{const{error:a}=await se.from("profiles").update({email:`deleted_${Date.now()}@deleted.com`,full_name:null,avatar_url:null,subscription_tier:"deleted",subscription_status:"deleted",api_calls_remaining:0,total_prompts:0,total_shares:0,profile_views:0,deleted_at:new Date().toISOString(),created_at:null,updated_at:new Date().toISOString()}).eq("id",n);a?s.errors.push(`Profile deletion error: ${a.message}`):s.profileDeleted=!0}catch(a){s.errors.push(`Profile deletion failed: ${a.message}`)}return console.log(" User data deletion completed:",s),s}catch(s){throw console.error(" User data deletion failed:",s),s}}static async getRetentionStats(){try{const n={totalUsers:0,totalPrompts:0,totalSessions:0,totalAnalytics:0,oldDataToClean:{sessions:0,analytics:0}};try{const{count:a}=await se.from("profiles").select("*",{count:"exact",head:!0});n.totalUsers=a||0}catch(a){console.warn("Could not get user count:",a.message)}try{const{count:a}=await se.from("prompts").select("*",{count:"exact",head:!0});n.totalPrompts=a||0}catch(a){console.warn("Could not get prompt count:",a.message)}const s=new Date;s.setMonth(s.getMonth()-12);try{const{count:a}=await se.from("session_history").select("*",{count:"exact",head:!0}).lt("created_at",s.toISOString());n.oldDataToClean.sessions=a||0}catch(a){console.warn("Could not get old sessions count:",a.message)}try{const{count:a}=await se.from("user_analytics").select("*",{count:"exact",head:!0}).lt("created_at",s.toISOString());n.oldDataToClean.analytics=a||0}catch(a){console.warn("Could not get old analytics count:",a.message)}return n}catch(n){throw console.error("Error getting retention stats:",n),n}}static async scheduledCleanup(){try{console.log(" Running scheduled data retention cleanup...");const n=await this.cleanupOldData(),s=await this.anonymizeOldData(),a=await this.getRetentionStats(),o={cleanup:n,anonymize:s,stats:a,timestamp:new Date().toISOString()};return console.log(" Scheduled cleanup completed:",o),o}catch(n){throw console.error(" Scheduled cleanup failed:",n),n}}}const rb=({isOpen:l,onClose:n})=>{const[s,a]=b.useState(!1),[o,c]=b.useState(!1),[d,f]=b.useState(!1),[m,g]=b.useState(null),[x,y]=b.useState(!1),[w,j]=b.useState({dataRetentionPolicy:"standard",dataAnalyticsOptOut:!1,marketingOptOut:!1,dataExportConsent:!1,dataProcessingConsent:!1,gdprConsentGiven:!1,rightToBeForgottenRequested:!1,dataPortabilityRequested:!1});b.useEffect(()=>{l&&N()},[l]);const N=async()=>{try{a(!0),g(null);const S=await Ve.getUserSettings();j({dataRetentionPolicy:S.data_retention_policy||"standard",dataAnalyticsOptOut:S.data_analytics_opt_out||!1,marketingOptOut:S.marketing_opt_out||!1,dataExportConsent:S.data_export_consent||!1,dataProcessingConsent:S.data_processing_consent||!1,gdprConsentGiven:!!S.gdpr_consent_given_at,rightToBeForgottenRequested:S.right_to_be_forgotten_requested||!1,dataPortabilityRequested:S.data_portability_requested||!1}),y(!1)}catch(S){console.error("Error loading privacy settings:",S),g("Failed to load privacy settings. Using defaults.")}finally{a(!1)}},C=(S,L)=>{j(I=>({...I,[S]:L})),y(!0),g(null)},A=async()=>{try{c(!0),g(null),f(!1),await Ve.updatePreferences({dataRetentionPolicy:w.dataRetentionPolicy,dataAnalyticsOptOut:w.dataAnalyticsOptOut,marketingOptOut:w.marketingOptOut,dataExportConsent:w.dataExportConsent,dataProcessingConsent:w.dataProcessingConsent,gdprConsentGiven:w.gdprConsentGiven?new Date().toISOString():null,rightToBeForgottenRequested:w.rightToBeForgottenRequested,dataPortabilityRequested:w.dataPortabilityRequested}),f(!0),y(!1),setTimeout(()=>{n(),f(!1)},1500)}catch(S){console.error("Error saving privacy settings:",S),g("Failed to save privacy settings. Please try again.")}finally{c(!1)}},_=async()=>{if(window.confirm("Are you sure you want to delete all your data? This action cannot be undone."))try{a(!0),g(null);const{data:{user:S}}=await os(()=>Promise.resolve().then(()=>rw),void 0).then(I=>I.supabase.auth.getUser());if(!S)throw new Error("User not authenticated");const L=await tb.deleteUserData(S.id);console.log("Data deletion results:",L),f(!0),setTimeout(()=>{window.location.href="/"},2e3)}catch(S){console.error("Error deleting user data:",S),g("Failed to delete user data. Please contact support.")}finally{a(!1)}},P=()=>{n()};return l?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:r.jsx(Hi,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Privacy & Data Settings"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Control your data privacy and retention"})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(Ct,{className:"w-5 h-5 dark:text-gray-300"})})]}),s&&r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),!s&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Data Retention Policy"}),r.jsx("div",{className:"space-y-3",children:[{value:"minimal",label:"Minimal",desc:"Keep only essential data for account management"},{value:"standard",label:"Standard",desc:"Keep data for 12 months, then anonymize"},{value:"extended",label:"Extended",desc:"Keep data for 24 months before cleanup"}].map(S=>r.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer",children:[r.jsx("input",{type:"radio",name:"retentionPolicy",value:S.value,checked:w.dataRetentionPolicy===S.value,onChange:L=>C("dataRetentionPolicy",L.target.value),className:"w-4 h-4 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:S.label}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:S.desc})]})]},S.value))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Privacy Controls"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(on,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Data Analytics"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Allow us to analyze usage patterns to improve the service"})]})]}),r.jsx("button",{onClick:()=>C("dataAnalyticsOptOut",!w.dataAnalyticsOptOut),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${w.dataAnalyticsOptOut?"bg-gray-300":"bg-blue-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${w.dataAnalyticsOptOut?"translate-x-1":"translate-x-6"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Wi,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Marketing Communications"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Receive promotional emails and updates"})]})]}),r.jsx("button",{onClick:()=>C("marketingOptOut",!w.marketingOptOut),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${w.marketingOptOut?"bg-gray-300":"bg-blue-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${w.marketingOptOut?"translate-x-1":"translate-x-6"}`})})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Your Rights"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ln,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"GDPR Compliance"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"You have the right to access, rectify, and delete your personal data. You can also request data portability and object to data processing."})]})]})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:P,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Wt,{className:"w-4 h-4"}),r.jsx("span",{children:"Export My Data"})]}),r.jsxs("button",{onClick:_,disabled:s,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[r.jsx(fp,{className:"w-4 h-4"}),r.jsx("span",{children:s?"Deleting...":"Delete All Data"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Consent Management"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Data Processing Consent"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"I consent to the processing of my personal data"})]}),r.jsx("button",{onClick:()=>C("dataProcessingConsent",!w.dataProcessingConsent),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${w.dataProcessingConsent?"bg-blue-600":"bg-gray-300"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${w.dataProcessingConsent?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Data Export Consent"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"I consent to data export functionality"})]}),r.jsx("button",{onClick:()=>C("dataExportConsent",!w.dataExportConsent),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${w.dataExportConsent?"bg-blue-600":"bg-gray-300"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${w.dataExportConsent?"translate-x-6":"translate-x-1"}`})})]})]})]}),m&&r.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ip,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),r.jsx("span",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:m})]})}),d&&r.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(St,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"text-sm text-green-700 dark:text-green-300 font-medium",children:w.rightToBeForgottenRequested?"Data deletion completed successfully!":"Privacy settings saved successfully!"})]})}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",disabled:o,children:"Cancel"}),r.jsx("button",{onClick:A,disabled:o||!x,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":"Save Changes"})]})]})]})})}):null};class oc{static async exportUserData(n,s){try{const{data:{user:a}}=await se.auth.getUser();if(!a)throw new Error("User not authenticated");const o={};n.prompts&&(o.prompts=await this.getUserPrompts(a.id)),n.usage&&(o.usage=await this.getUserUsageHistory(a.id)),n.profile&&(o.profile=await this.getUserProfile(a.id)),n.settings&&(o.settings=await this.getUserSettings(a.id)),o.metadata={exportedAt:new Date().toISOString(),userId:a.id,format:s,version:"1.0"};const c=await this.formatExportData(o,s);return await this.saveExportPreferences(n,s),c}catch(a){throw console.error("Export failed:",a),a}}static async getUserPrompts(n){try{const{data:s,error:a}=await se.from("prompts").select("*").eq("user_id",n).order("created_at",{ascending:!1});if(a)throw a;const o=(s||[]).map(c=>({title:c.title,description:c.description,category:c.category,tags:c.tags,role:c.role,task:c.task,context:c.context,requirements:c.requirements,style:c.style,output:c.output,raw_prompt:c.raw_prompt,enriched_prompt:c.enriched_prompt,selected_model:c.selected_model,quality_score:c.quality_score,token_count:c.token_count,is_favorite:c.is_favorite,is_template:c.is_template,version:c.version,created_at:c.created_at,updated_at:c.updated_at,published_at:c.published_at}));return{count:o.length,prompts:o}}catch(s){return console.error("Error fetching prompts:",s),{count:0,prompts:[],error:s.message}}}static async getUserUsageHistory(n){try{let s=[];try{const{data:o,error:c}=await se.from("session_history").select("session_type, created_at, data").eq("user_id",n).order("created_at",{ascending:!1}).limit(100);!c&&o&&(s=o.map(d=>({session_type:d.session_type,created_at:d.created_at,data_summary:d.data?{features_used:d.data.features_used||[],duration:d.data.duration,success:d.data.success}:null})))}catch(o){console.warn("Session history table may not exist:",o.message)}let a=[];try{const{data:o,error:c}=await se.from("user_analytics").select("event_type, created_at, metadata").eq("user_id",n).order("created_at",{ascending:!1}).limit(50);!c&&o&&(a=o.map(d=>({event_type:d.event_type,created_at:d.created_at,metadata_summary:d.metadata?{feature:d.metadata.feature,success:d.metadata.success,duration:d.metadata.duration}:null})))}catch(o){console.warn("Analytics table may not exist:",o.message)}return{sessions:{count:s.length,data:s},analytics:{count:a.length,data:a}}}catch(s){return console.error("Error fetching usage history:",s),{sessions:{count:0,data:[]},analytics:{count:0,data:[]},error:s.message}}}static async getUserProfile(n){try{const{data:s,error:a}=await se.from("profiles").select("*").eq("id",n).single();if(a)throw a;return{email:s.email,subscription_tier:s.subscription_tier,subscription_status:s.subscription_status,created_at:s.created_at,updated_at:s.updated_at,privacy_profile_visibility:s.privacy_profile_visibility,privacy_prompt_sharing:s.privacy_prompt_sharing,privacy_data_analytics:s.privacy_data_analytics,privacy_third_party_sharing:s.privacy_third_party_sharing,privacy_search_visibility:s.privacy_search_visibility,notification_email:s.notification_email,notification_prompt_reminders:s.notification_prompt_reminders,notification_usage_alerts:s.notification_usage_alerts,notification_security_alerts:s.notification_security_alerts,notification_marketing_emails:s.notification_marketing_emails,notification_weekly_digest:s.notification_weekly_digest,preferences_theme:s.preferences_theme,preferences_language:s.preferences_language,preferences_timezone:s.preferences_timezone,preferences_email_frequency:s.preferences_email_frequency,preferences_background_animation:s.preferences_background_animation,export_preferences:s.export_preferences,total_prompts:s.total_prompts,total_shares:s.total_shares,profile_views:s.profile_views,last_active_at:s.last_active_at}}catch(s){return console.error("Error fetching profile:",s),{error:s.message}}}static async getUserSettings(n){try{return await Ve.getUserSettings()}catch(s){return console.error("Error fetching settings:",s),{error:s.message}}}static async formatExportData(n,s){switch(s){case"json":return{data:JSON.stringify(n,null,2),filename:`export_${new Date().toISOString().split("T")[0]}.json`,mimeType:"application/json"};case"csv":return{data:this.convertToCSV(n),filename:`export_${new Date().toISOString().split("T")[0]}.csv`,mimeType:"text/csv"};case"zip":return{data:await this.createZipArchive(n),filename:`export_${new Date().toISOString().split("T")[0]}.zip`,mimeType:"application/zip"};default:throw new Error(`Unsupported format: ${s}`)}}static convertToCSV(n){var a,o,c,d,f,m,g,x;const s=[];return s.push(["Metadata","Value"]),s.push(["Exported At",((a=n.metadata)==null?void 0:a.exportedAt)||""]),s.push(["User ID",((o=n.metadata)==null?void 0:o.userId)||""]),s.push(["Format",((c=n.metadata)==null?void 0:c.format)||""]),s.push([]),((f=(d=n.prompts)==null?void 0:d.prompts)==null?void 0:f.length)>0&&(s.push(["Prompts"]),s.push(["ID","Title","Content","Created At","Updated At"]),n.prompts.prompts.forEach(y=>{s.push([y.id,y.title||"",y.content||"",y.created_at||"",y.updated_at||""])}),s.push([])),((x=(g=(m=n.usage)==null?void 0:m.sessions)==null?void 0:g.data)==null?void 0:x.length)>0&&(s.push(["Usage Sessions"]),s.push(["ID","Session Type","Created At","Data"]),n.usage.sessions.data.forEach(y=>{s.push([y.id,y.session_type||"",y.created_at||"",JSON.stringify(y.data||{})])}),s.push([])),n.profile&&!n.profile.error&&(s.push(["Profile Data"]),s.push(["Field","Value"]),Object.entries(n.profile).forEach(([y,w])=>{typeof w=="object"?s.push([y,JSON.stringify(w)]):s.push([y,w])})),s.map(y=>y.map(w=>`"${w}"`).join(",")).join(`
`)}static async createZipArchive(n){const s=JSON.stringify(n,null,2);return btoa(s)}static async saveExportPreferences(n,s){try{await Ve.updateExportPreferences({include_prompts:n.prompts,include_usage:n.usage,include_profile:n.profile,include_settings:n.settings,format:s})}catch(a){console.error("Error saving export preferences:",a)}}static downloadFile(n,s,a){const o=new Blob([n],{type:a}),c=URL.createObjectURL(o),d=document.createElement("a");d.href=c,d.download=s,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}static async getExportPreferences(){try{return(await Ve.getUserSettings()).export||{include_prompts:!0,include_usage:!0,include_profile:!0,include_settings:!1,format:"json"}}catch(n){return console.error("Error loading export preferences:",n),{include_prompts:!0,include_usage:!0,include_profile:!0,include_settings:!1,format:"json"}}}}const nb=({isOpen:l,onClose:n})=>{const[s,a]=b.useState({prompts:!0,usage:!0,profile:!0,settings:!1}),[o,c]=b.useState("json"),[d,f]=b.useState(!1),[m,g]=b.useState(!1),[x,y]=b.useState(null),[w,j]=b.useState(!1);b.useEffect(()=>{l&&N()},[l]),b.useEffect(()=>{const P=S=>{S.key==="Escape"&&l&&n()};return l&&document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[l,n]);const N=async()=>{try{const P=await oc.getExportPreferences();a({prompts:P.include_prompts!==!1,usage:P.include_usage!==!1,profile:P.include_profile!==!1,settings:P.include_settings===!0}),c(P.format||"json"),j(!1),y(null)}catch(P){console.error("Error loading export preferences:",P),y("Failed to load export preferences. Using defaults.")}},C=P=>{a(S=>({...S,[P]:!S[P]})),j(!0),y(null)},A=P=>{c(P),j(!0),y(null)},_=async()=>{try{if(f(!0),y(null),Object.values(s).every(S=>!S))throw new Error("Please select at least one data type to export.");const P=await oc.exportUserData(s,o);oc.downloadFile(P.data,P.filename,P.mimeType),f(!1),g(!0),j(!1),setTimeout(()=>{g(!1),n()},2e3)}catch(P){console.error("Export failed:",P),y(P.message||"Export failed. Please try again."),f(!1)}};return l?m?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(St,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Export Complete!"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Your data has been prepared for download."}),r.jsx("button",{onClick:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})]})}):r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(Wt,{className:"w-5 h-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Export Data"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Download your data and settings"})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(Ct,{className:"w-5 h-5 dark:text-gray-300"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Select Data to Export"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:s.prompts,onChange:()=>C("prompts"),className:"w-4 h-4 text-blue-600 rounded"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Prompts & Templates"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"All your created and saved prompts"})]})]}),r.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:s.usage,onChange:()=>C("usage"),className:"w-4 h-4 text-blue-600 rounded"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Usage History"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your activity and usage statistics"})]})]}),r.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:s.profile,onChange:()=>C("profile"),className:"w-4 h-4 text-blue-600 rounded"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Profile Data"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Account information and preferences"})]})]}),r.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:s.settings,onChange:()=>C("settings"),className:"w-4 h-4 text-blue-600 rounded"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Settings"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Notification and privacy settings"})]})]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Export Format"}),r.jsx("div",{className:"space-y-2",children:[{value:"json",label:"JSON",desc:"Machine-readable format"},{value:"csv",label:"CSV",desc:"Spreadsheet compatible"},{value:"zip",label:"ZIP Archive",desc:"Compressed files"}].map(P=>r.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer",children:[r.jsx("input",{type:"radio",name:"format",value:P.value,checked:o===P.value,onChange:()=>A(P.value),className:"w-4 h-4 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:P.label}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:P.desc})]})]},P.value))})]}),x&&r.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ut,{className:"w-5 h-5 text-red-600"}),r.jsx("span",{className:"text-sm text-red-700 font-medium",children:x})]})}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Zi,{className:"w-5 h-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-blue-900",children:"Export Information"}),r.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"Your data will be prepared and available for download. Large exports may take a few minutes to process."})]})]})}),r.jsxs("div",{className:"flex flex-col space-y-3 mt-8",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:d,children:"Cancel"}),r.jsx("button",{onClick:_,disabled:d||Object.values(s).every(P=>!P),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Preparing..."]}):"Export Data"})]}),r.jsx("button",{onClick:()=>{a({prompts:!0,usage:!0,profile:!0,settings:!1}),c("json"),j(!0),y(null)},disabled:d,className:"w-full px-4 py-2 text-gray-600 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Reset to Defaults"})]})]})})}):null};var Yn={},lc,Hf;function sb(){return Hf||(Hf=1,lc=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),lc}var cc={},Ur={},Vf;function fn(){if(Vf)return Ur;Vf=1;let l;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Ur.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},Ur.getSymbolTotalCodewords=function(a){return n[a]},Ur.getBCHDigit=function(s){let a=0;for(;s!==0;)a++,s>>>=1;return a},Ur.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');l=a},Ur.isKanjiModeEnabled=function(){return typeof l<"u"},Ur.toSJIS=function(a){return l(a)},Ur}var uc={},Kf;function ou(){return Kf||(Kf=1,function(l){l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+s)}}l.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},l.from=function(a,o){if(l.isValid(a))return a;try{return n(a)}catch{return o}}}(uc)),uc}var dc,Jf;function ab(){if(Jf)return dc;Jf=1;function l(){this.buffer=[],this.length=0}return l.prototype={get:function(n){const s=Math.floor(n/8);return(this.buffer[s]>>>7-n%8&1)===1},put:function(n,s){for(let a=0;a<s;a++)this.putBit((n>>>s-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),n&&(this.buffer[s]|=128>>>this.length%8),this.length++}},dc=l,dc}var hc,Qf;function ib(){if(Qf)return hc;Qf=1;function l(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return l.prototype.set=function(n,s,a,o){const c=n*this.size+s;this.data[c]=a,o&&(this.reservedBit[c]=!0)},l.prototype.get=function(n,s){return this.data[n*this.size+s]},l.prototype.xor=function(n,s,a){this.data[n*this.size+s]^=a},l.prototype.isReserved=function(n,s){return this.reservedBit[n*this.size+s]},hc=l,hc}var fc={},Yf;function ob(){return Yf||(Yf=1,function(l){const n=fn().getSymbolSize;l.getRowColCoords=function(a){if(a===1)return[];const o=Math.floor(a/7)+2,c=n(a),d=c===145?26:Math.ceil((c-13)/(2*o-2))*2,f=[c-7];for(let m=1;m<o-1;m++)f[m]=f[m-1]-d;return f.push(6),f.reverse()},l.getPositions=function(a){const o=[],c=l.getRowColCoords(a),d=c.length;for(let f=0;f<d;f++)for(let m=0;m<d;m++)f===0&&m===0||f===0&&m===d-1||f===d-1&&m===0||o.push([c[f],c[m]]);return o}}(fc)),fc}var mc={},Xf;function lb(){if(Xf)return mc;Xf=1;const l=fn().getSymbolSize,n=7;return mc.getPositions=function(a){const o=l(a);return[[0,0],[o-n,0],[0,o-n]]},mc}var pc={},Zf;function cb(){return Zf||(Zf=1,function(l){l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};l.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},l.from=function(o){return l.isValid(o)?parseInt(o,10):void 0},l.getPenaltyN1=function(o){const c=o.size;let d=0,f=0,m=0,g=null,x=null;for(let y=0;y<c;y++){f=m=0,g=x=null;for(let w=0;w<c;w++){let j=o.get(y,w);j===g?f++:(f>=5&&(d+=n.N1+(f-5)),g=j,f=1),j=o.get(w,y),j===x?m++:(m>=5&&(d+=n.N1+(m-5)),x=j,m=1)}f>=5&&(d+=n.N1+(f-5)),m>=5&&(d+=n.N1+(m-5))}return d},l.getPenaltyN2=function(o){const c=o.size;let d=0;for(let f=0;f<c-1;f++)for(let m=0;m<c-1;m++){const g=o.get(f,m)+o.get(f,m+1)+o.get(f+1,m)+o.get(f+1,m+1);(g===4||g===0)&&d++}return d*n.N2},l.getPenaltyN3=function(o){const c=o.size;let d=0,f=0,m=0;for(let g=0;g<c;g++){f=m=0;for(let x=0;x<c;x++)f=f<<1&2047|o.get(g,x),x>=10&&(f===1488||f===93)&&d++,m=m<<1&2047|o.get(x,g),x>=10&&(m===1488||m===93)&&d++}return d*n.N3},l.getPenaltyN4=function(o){let c=0;const d=o.data.length;for(let m=0;m<d;m++)c+=o.data[m];return Math.abs(Math.ceil(c*100/d/5)-10)*n.N4};function s(a,o,c){switch(a){case l.Patterns.PATTERN000:return(o+c)%2===0;case l.Patterns.PATTERN001:return o%2===0;case l.Patterns.PATTERN010:return c%3===0;case l.Patterns.PATTERN011:return(o+c)%3===0;case l.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(c/3))%2===0;case l.Patterns.PATTERN101:return o*c%2+o*c%3===0;case l.Patterns.PATTERN110:return(o*c%2+o*c%3)%2===0;case l.Patterns.PATTERN111:return(o*c%3+(o+c)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}l.applyMask=function(o,c){const d=c.size;for(let f=0;f<d;f++)for(let m=0;m<d;m++)c.isReserved(m,f)||c.xor(m,f,s(o,m,f))},l.getBestMask=function(o,c){const d=Object.keys(l.Patterns).length;let f=0,m=1/0;for(let g=0;g<d;g++){c(g),l.applyMask(g,o);const x=l.getPenaltyN1(o)+l.getPenaltyN2(o)+l.getPenaltyN3(o)+l.getPenaltyN4(o);l.applyMask(g,o),x<m&&(m=x,f=g)}return f}}(pc)),pc}var Oi={},em;function mp(){if(em)return Oi;em=1;const l=ou(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Oi.getBlocksCount=function(o,c){switch(c){case l.L:return n[(o-1)*4+0];case l.M:return n[(o-1)*4+1];case l.Q:return n[(o-1)*4+2];case l.H:return n[(o-1)*4+3];default:return}},Oi.getTotalCodewordsCount=function(o,c){switch(c){case l.L:return s[(o-1)*4+0];case l.M:return s[(o-1)*4+1];case l.Q:return s[(o-1)*4+2];case l.H:return s[(o-1)*4+3];default:return}},Oi}var gc={},ta={},tm;function ub(){if(tm)return ta;tm=1;const l=new Uint8Array(512),n=new Uint8Array(256);return function(){let a=1;for(let o=0;o<255;o++)l[o]=a,n[a]=o,a<<=1,a&256&&(a^=285);for(let o=255;o<512;o++)l[o]=l[o-255]}(),ta.log=function(a){if(a<1)throw new Error("log("+a+")");return n[a]},ta.exp=function(a){return l[a]},ta.mul=function(a,o){return a===0||o===0?0:l[n[a]+n[o]]},ta}var rm;function db(){return rm||(rm=1,function(l){const n=ub();l.mul=function(a,o){const c=new Uint8Array(a.length+o.length-1);for(let d=0;d<a.length;d++)for(let f=0;f<o.length;f++)c[d+f]^=n.mul(a[d],o[f]);return c},l.mod=function(a,o){let c=new Uint8Array(a);for(;c.length-o.length>=0;){const d=c[0];for(let m=0;m<o.length;m++)c[m]^=n.mul(o[m],d);let f=0;for(;f<c.length&&c[f]===0;)f++;c=c.slice(f)}return c},l.generateECPolynomial=function(a){let o=new Uint8Array([1]);for(let c=0;c<a;c++)o=l.mul(o,new Uint8Array([1,n.exp(c)]));return o}}(gc)),gc}var xc,nm;function hb(){if(nm)return xc;nm=1;const l=db();function n(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(a){this.degree=a,this.genPoly=l.generateECPolynomial(this.degree)},n.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(a.length+this.degree);o.set(a);const c=l.mod(o,this.genPoly),d=this.degree-c.length;if(d>0){const f=new Uint8Array(this.degree);return f.set(c,d),f}return c},xc=n,xc}var yc={},vc={},wc={},sm;function pp(){return sm||(sm=1,wc.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),wc}var Xt={},am;function gp(){if(am)return Xt;am=1;const l="[0-9]+",n="[A-Z $%*+\\-./:]+";let s="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";s=s.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+s+`)(?:.|[\r
]))+`;Xt.KANJI=new RegExp(s,"g"),Xt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Xt.BYTE=new RegExp(a,"g"),Xt.NUMERIC=new RegExp(l,"g"),Xt.ALPHANUMERIC=new RegExp(n,"g");const o=new RegExp("^"+s+"$"),c=new RegExp("^"+l+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Xt.testKanji=function(m){return o.test(m)},Xt.testNumeric=function(m){return c.test(m)},Xt.testAlphanumeric=function(m){return d.test(m)},Xt}var im;function mn(){return im||(im=1,function(l){const n=pp(),s=gp();l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(c,d){if(!c.ccBits)throw new Error("Invalid mode: "+c);if(!n.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?c.ccBits[0]:d<27?c.ccBits[1]:c.ccBits[2]},l.getBestModeForData=function(c){return s.testNumeric(c)?l.NUMERIC:s.testAlphanumeric(c)?l.ALPHANUMERIC:s.testKanji(c)?l.KANJI:l.BYTE},l.toString=function(c){if(c&&c.id)return c.id;throw new Error("Invalid mode")},l.isValid=function(c){return c&&c.bit&&c.ccBits};function a(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+o)}}l.from=function(c,d){if(l.isValid(c))return c;try{return a(c)}catch{return d}}}(vc)),vc}var om;function fb(){return om||(om=1,function(l){const n=fn(),s=mp(),a=ou(),o=mn(),c=pp(),d=7973,f=n.getBCHDigit(d);function m(w,j,N){for(let C=1;C<=40;C++)if(j<=l.getCapacity(C,N,w))return C}function g(w,j){return o.getCharCountIndicator(w,j)+4}function x(w,j){let N=0;return w.forEach(function(C){const A=g(C.mode,j);N+=A+C.getBitsLength()}),N}function y(w,j){for(let N=1;N<=40;N++)if(x(w,N)<=l.getCapacity(N,j,o.MIXED))return N}l.from=function(j,N){return c.isValid(j)?parseInt(j,10):N},l.getCapacity=function(j,N,C){if(!c.isValid(j))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=o.BYTE);const A=n.getSymbolTotalCodewords(j),_=s.getTotalCodewordsCount(j,N),P=(A-_)*8;if(C===o.MIXED)return P;const S=P-g(C,j);switch(C){case o.NUMERIC:return Math.floor(S/10*3);case o.ALPHANUMERIC:return Math.floor(S/11*2);case o.KANJI:return Math.floor(S/13);case o.BYTE:default:return Math.floor(S/8)}},l.getBestVersionForData=function(j,N){let C;const A=a.from(N,a.M);if(Array.isArray(j)){if(j.length>1)return y(j,A);if(j.length===0)return 1;C=j[0]}else C=j;return m(C.mode,C.getLength(),A)},l.getEncodedBits=function(j){if(!c.isValid(j)||j<7)throw new Error("Invalid QR Code version");let N=j<<12;for(;n.getBCHDigit(N)-f>=0;)N^=d<<n.getBCHDigit(N)-f;return j<<12|N}}(yc)),yc}var bc={},lm;function mb(){if(lm)return bc;lm=1;const l=fn(),n=1335,s=21522,a=l.getBCHDigit(n);return bc.getEncodedBits=function(c,d){const f=c.bit<<3|d;let m=f<<10;for(;l.getBCHDigit(m)-a>=0;)m^=n<<l.getBCHDigit(m)-a;return(f<<10|m)^s},bc}var jc={},Nc,cm;function pb(){if(cm)return Nc;cm=1;const l=mn();function n(s){this.mode=l.NUMERIC,this.data=s.toString()}return n.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let o,c,d;for(o=0;o+3<=this.data.length;o+=3)c=this.data.substr(o,3),d=parseInt(c,10),a.put(d,10);const f=this.data.length-o;f>0&&(c=this.data.substr(o),d=parseInt(c,10),a.put(d,f*3+1))},Nc=n,Nc}var kc,um;function gb(){if(um)return kc;um=1;const l=mn(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(a){this.mode=l.ALPHANUMERIC,this.data=a}return s.getBitsLength=function(o){return 11*Math.floor(o/2)+6*(o%2)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(o){let c;for(c=0;c+2<=this.data.length;c+=2){let d=n.indexOf(this.data[c])*45;d+=n.indexOf(this.data[c+1]),o.put(d,11)}this.data.length%2&&o.put(n.indexOf(this.data[c]),6)},kc=s,kc}var _c,dm;function xb(){if(dm)return _c;dm=1;const l=mn();function n(s){this.mode=l.BYTE,typeof s=="string"?this.data=new TextEncoder().encode(s):this.data=new Uint8Array(s)}return n.getBitsLength=function(a){return a*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){for(let a=0,o=this.data.length;a<o;a++)s.put(this.data[a],8)},_c=n,_c}var Sc,hm;function yb(){if(hm)return Sc;hm=1;const l=mn(),n=fn();function s(a){this.mode=l.KANJI,this.data=a}return s.getBitsLength=function(o){return o*13},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(a){let o;for(o=0;o<this.data.length;o++){let c=n.toSJIS(this.data[o]);if(c>=33088&&c<=40956)c-=33088;else if(c>=57408&&c<=60351)c-=49472;else throw new Error("Invalid SJIS character: "+this.data[o]+`
Make sure your charset is UTF-8`);c=(c>>>8&255)*192+(c&255),a.put(c,13)}},Sc=s,Sc}var Cc={exports:{}},fm;function vb(){return fm||(fm=1,function(l){var n={single_source_shortest_paths:function(s,a,o){var c={},d={};d[a]=0;var f=n.PriorityQueue.make();f.push(a,0);for(var m,g,x,y,w,j,N,C,A;!f.empty();){m=f.pop(),g=m.value,y=m.cost,w=s[g]||{};for(x in w)w.hasOwnProperty(x)&&(j=w[x],N=y+j,C=d[x],A=typeof d[x]>"u",(A||C>N)&&(d[x]=N,f.push(x,N),c[x]=g))}if(typeof o<"u"&&typeof d[o]>"u"){var _=["Could not find a path from ",a," to ",o,"."].join("");throw new Error(_)}return c},extract_shortest_path_from_predecessor_list:function(s,a){for(var o=[],c=a;c;)o.push(c),s[c],c=s[c];return o.reverse(),o},find_path:function(s,a,o){var c=n.single_source_shortest_paths(s,a,o);return n.extract_shortest_path_from_predecessor_list(c,o)},PriorityQueue:{make:function(s){var a=n.PriorityQueue,o={},c;s=s||{};for(c in a)a.hasOwnProperty(c)&&(o[c]=a[c]);return o.queue=[],o.sorter=s.sorter||a.default_sorter,o},default_sorter:function(s,a){return s.cost-a.cost},push:function(s,a){var o={value:s,cost:a};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};l.exports=n}(Cc)),Cc.exports}var mm;function wb(){return mm||(mm=1,function(l){const n=mn(),s=pb(),a=gb(),o=xb(),c=yb(),d=gp(),f=fn(),m=vb();function g(_){return unescape(encodeURIComponent(_)).length}function x(_,P,S){const L=[];let I;for(;(I=_.exec(S))!==null;)L.push({data:I[0],index:I.index,mode:P,length:I[0].length});return L}function y(_){const P=x(d.NUMERIC,n.NUMERIC,_),S=x(d.ALPHANUMERIC,n.ALPHANUMERIC,_);let L,I;return f.isKanjiModeEnabled()?(L=x(d.BYTE,n.BYTE,_),I=x(d.KANJI,n.KANJI,_)):(L=x(d.BYTE_KANJI,n.BYTE,_),I=[]),P.concat(S,L,I).sort(function(z,ee){return z.index-ee.index}).map(function(z){return{data:z.data,mode:z.mode,length:z.length}})}function w(_,P){switch(P){case n.NUMERIC:return s.getBitsLength(_);case n.ALPHANUMERIC:return a.getBitsLength(_);case n.KANJI:return c.getBitsLength(_);case n.BYTE:return o.getBitsLength(_)}}function j(_){return _.reduce(function(P,S){const L=P.length-1>=0?P[P.length-1]:null;return L&&L.mode===S.mode?(P[P.length-1].data+=S.data,P):(P.push(S),P)},[])}function N(_){const P=[];for(let S=0;S<_.length;S++){const L=_[S];switch(L.mode){case n.NUMERIC:P.push([L,{data:L.data,mode:n.ALPHANUMERIC,length:L.length},{data:L.data,mode:n.BYTE,length:L.length}]);break;case n.ALPHANUMERIC:P.push([L,{data:L.data,mode:n.BYTE,length:L.length}]);break;case n.KANJI:P.push([L,{data:L.data,mode:n.BYTE,length:g(L.data)}]);break;case n.BYTE:P.push([{data:L.data,mode:n.BYTE,length:g(L.data)}])}}return P}function C(_,P){const S={},L={start:{}};let I=["start"];for(let U=0;U<_.length;U++){const z=_[U],ee=[];for(let H=0;H<z.length;H++){const te=z[H],$=""+U+H;ee.push($),S[$]={node:te,lastCount:0},L[$]={};for(let q=0;q<I.length;q++){const Z=I[q];S[Z]&&S[Z].node.mode===te.mode?(L[Z][$]=w(S[Z].lastCount+te.length,te.mode)-w(S[Z].lastCount,te.mode),S[Z].lastCount+=te.length):(S[Z]&&(S[Z].lastCount=te.length),L[Z][$]=w(te.length,te.mode)+4+n.getCharCountIndicator(te.mode,P))}}I=ee}for(let U=0;U<I.length;U++)L[I[U]].end=0;return{map:L,table:S}}function A(_,P){let S;const L=n.getBestModeForData(_);if(S=n.from(P,L),S!==n.BYTE&&S.bit<L.bit)throw new Error('"'+_+'" cannot be encoded with mode '+n.toString(S)+`.
 Suggested mode is: `+n.toString(L));switch(S===n.KANJI&&!f.isKanjiModeEnabled()&&(S=n.BYTE),S){case n.NUMERIC:return new s(_);case n.ALPHANUMERIC:return new a(_);case n.KANJI:return new c(_);case n.BYTE:return new o(_)}}l.fromArray=function(P){return P.reduce(function(S,L){return typeof L=="string"?S.push(A(L,null)):L.data&&S.push(A(L.data,L.mode)),S},[])},l.fromString=function(P,S){const L=y(P,f.isKanjiModeEnabled()),I=N(L),U=C(I,S),z=m.find_path(U.map,"start","end"),ee=[];for(let H=1;H<z.length-1;H++)ee.push(U.table[z[H]].node);return l.fromArray(j(ee))},l.rawSplit=function(P){return l.fromArray(y(P,f.isKanjiModeEnabled()))}}(jc)),jc}var pm;function bb(){if(pm)return cc;pm=1;const l=fn(),n=ou(),s=ab(),a=ib(),o=ob(),c=lb(),d=cb(),f=mp(),m=hb(),g=fb(),x=mb(),y=mn(),w=wb();function j(U,z){const ee=U.size,H=c.getPositions(z);for(let te=0;te<H.length;te++){const $=H[te][0],q=H[te][1];for(let Z=-1;Z<=7;Z++)if(!($+Z<=-1||ee<=$+Z))for(let ie=-1;ie<=7;ie++)q+ie<=-1||ee<=q+ie||(Z>=0&&Z<=6&&(ie===0||ie===6)||ie>=0&&ie<=6&&(Z===0||Z===6)||Z>=2&&Z<=4&&ie>=2&&ie<=4?U.set($+Z,q+ie,!0,!0):U.set($+Z,q+ie,!1,!0))}}function N(U){const z=U.size;for(let ee=8;ee<z-8;ee++){const H=ee%2===0;U.set(ee,6,H,!0),U.set(6,ee,H,!0)}}function C(U,z){const ee=o.getPositions(z);for(let H=0;H<ee.length;H++){const te=ee[H][0],$=ee[H][1];for(let q=-2;q<=2;q++)for(let Z=-2;Z<=2;Z++)q===-2||q===2||Z===-2||Z===2||q===0&&Z===0?U.set(te+q,$+Z,!0,!0):U.set(te+q,$+Z,!1,!0)}}function A(U,z){const ee=U.size,H=g.getEncodedBits(z);let te,$,q;for(let Z=0;Z<18;Z++)te=Math.floor(Z/3),$=Z%3+ee-8-3,q=(H>>Z&1)===1,U.set(te,$,q,!0),U.set($,te,q,!0)}function _(U,z,ee){const H=U.size,te=x.getEncodedBits(z,ee);let $,q;for($=0;$<15;$++)q=(te>>$&1)===1,$<6?U.set($,8,q,!0):$<8?U.set($+1,8,q,!0):U.set(H-15+$,8,q,!0),$<8?U.set(8,H-$-1,q,!0):$<9?U.set(8,15-$-1+1,q,!0):U.set(8,15-$-1,q,!0);U.set(H-8,8,1,!0)}function P(U,z){const ee=U.size;let H=-1,te=ee-1,$=7,q=0;for(let Z=ee-1;Z>0;Z-=2)for(Z===6&&Z--;;){for(let ie=0;ie<2;ie++)if(!U.isReserved(te,Z-ie)){let Ce=!1;q<z.length&&(Ce=(z[q]>>>$&1)===1),U.set(te,Z-ie,Ce),$--,$===-1&&(q++,$=7)}if(te+=H,te<0||ee<=te){te-=H,H=-H;break}}}function S(U,z,ee){const H=new s;ee.forEach(function(ie){H.put(ie.mode.bit,4),H.put(ie.getLength(),y.getCharCountIndicator(ie.mode,U)),ie.write(H)});const te=l.getSymbolTotalCodewords(U),$=f.getTotalCodewordsCount(U,z),q=(te-$)*8;for(H.getLengthInBits()+4<=q&&H.put(0,4);H.getLengthInBits()%8!==0;)H.putBit(0);const Z=(q-H.getLengthInBits())/8;for(let ie=0;ie<Z;ie++)H.put(ie%2?17:236,8);return L(H,U,z)}function L(U,z,ee){const H=l.getSymbolTotalCodewords(z),te=f.getTotalCodewordsCount(z,ee),$=H-te,q=f.getBlocksCount(z,ee),Z=H%q,ie=q-Z,Ce=Math.floor(H/q),Ee=Math.floor($/q),je=Ee+1,Q=Ce-Ee,K=new m(Q);let J=0;const E=new Array(q),B=new Array(q);let pe=0;const ae=new Uint8Array(U.buffer);for(let he=0;he<q;he++){const ke=he<ie?Ee:je;E[he]=ae.slice(J,J+ke),B[he]=K.encode(E[he]),J+=ke,pe=Math.max(pe,ke)}const xe=new Uint8Array(H);let ye=0,Y,re;for(Y=0;Y<pe;Y++)for(re=0;re<q;re++)Y<E[re].length&&(xe[ye++]=E[re][Y]);for(Y=0;Y<Q;Y++)for(re=0;re<q;re++)xe[ye++]=B[re][Y];return xe}function I(U,z,ee,H){let te;if(Array.isArray(U))te=w.fromArray(U);else if(typeof U=="string"){let Ce=z;if(!Ce){const Ee=w.rawSplit(U);Ce=g.getBestVersionForData(Ee,ee)}te=w.fromString(U,Ce||40)}else throw new Error("Invalid data");const $=g.getBestVersionForData(te,ee);if(!$)throw new Error("The amount of data is too big to be stored in a QR Code");if(!z)z=$;else if(z<$)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+$+`.
`);const q=S(z,ee,te),Z=l.getSymbolSize(z),ie=new a(Z);return j(ie,z),N(ie),C(ie,z),_(ie,ee,0),z>=7&&A(ie,z),P(ie,q),isNaN(H)&&(H=d.getBestMask(ie,_.bind(null,ie,ee))),d.applyMask(H,ie),_(ie,ee,H),{modules:ie,version:z,errorCorrectionLevel:ee,maskPattern:H,segments:te}}return cc.create=function(z,ee){if(typeof z>"u"||z==="")throw new Error("No input text");let H=n.M,te,$;return typeof ee<"u"&&(H=n.from(ee.errorCorrectionLevel,n.M),te=g.from(ee.version),$=d.from(ee.maskPattern),ee.toSJISFunc&&l.setToSJISFunction(ee.toSJISFunc)),I(z,te,H,$)},cc}var Ec={},Pc={},gm;function xp(){return gm||(gm=1,function(l){function n(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let a=s.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+s);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(c){return[c,c]}))),a.length===6&&a.push("F","F");const o=parseInt(a.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+a.slice(0,6).join("")}}l.getOptions=function(a){a||(a={}),a.color||(a.color={});const o=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,c=a.width&&a.width>=21?a.width:void 0,d=a.scale||4;return{width:c,scale:c?4:d,margin:o,color:{dark:n(a.color.dark||"#000000ff"),light:n(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},l.getScale=function(a,o){return o.width&&o.width>=a+o.margin*2?o.width/(a+o.margin*2):o.scale},l.getImageWidth=function(a,o){const c=l.getScale(a,o);return Math.floor((a+o.margin*2)*c)},l.qrToImageData=function(a,o,c){const d=o.modules.size,f=o.modules.data,m=l.getScale(d,c),g=Math.floor((d+c.margin*2)*m),x=c.margin*m,y=[c.color.light,c.color.dark];for(let w=0;w<g;w++)for(let j=0;j<g;j++){let N=(w*g+j)*4,C=c.color.light;if(w>=x&&j>=x&&w<g-x&&j<g-x){const A=Math.floor((w-x)/m),_=Math.floor((j-x)/m);C=y[f[A*d+_]?1:0]}a[N++]=C.r,a[N++]=C.g,a[N++]=C.b,a[N]=C.a}}}(Pc)),Pc}var xm;function jb(){return xm||(xm=1,function(l){const n=xp();function s(o,c,d){o.clearRect(0,0,c.width,c.height),c.style||(c.style={}),c.height=d,c.width=d,c.style.height=d+"px",c.style.width=d+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}l.render=function(c,d,f){let m=f,g=d;typeof m>"u"&&(!d||!d.getContext)&&(m=d,d=void 0),d||(g=a()),m=n.getOptions(m);const x=n.getImageWidth(c.modules.size,m),y=g.getContext("2d"),w=y.createImageData(x,x);return n.qrToImageData(w.data,c,m),s(y,g,x),y.putImageData(w,0,0),g},l.renderToDataURL=function(c,d,f){let m=f;typeof m>"u"&&(!d||!d.getContext)&&(m=d,d=void 0),m||(m={});const g=l.render(c,d,m),x=m.type||"image/png",y=m.rendererOpts||{};return g.toDataURL(x,y.quality)}}(Ec)),Ec}var Tc={},ym;function Nb(){if(ym)return Tc;ym=1;const l=xp();function n(o,c){const d=o.a/255,f=c+'="'+o.hex+'"';return d<1?f+" "+c+'-opacity="'+d.toFixed(2).slice(1)+'"':f}function s(o,c,d){let f=o+c;return typeof d<"u"&&(f+=" "+d),f}function a(o,c,d){let f="",m=0,g=!1,x=0;for(let y=0;y<o.length;y++){const w=Math.floor(y%c),j=Math.floor(y/c);!w&&!g&&(g=!0),o[y]?(x++,y>0&&w>0&&o[y-1]||(f+=g?s("M",w+d,.5+j+d):s("m",m,0),m=0,g=!1),w+1<c&&o[y+1]||(f+=s("h",x),x=0)):m++}return f}return Tc.render=function(c,d,f){const m=l.getOptions(d),g=c.modules.size,x=c.modules.data,y=g+m.margin*2,w=m.color.light.a?"<path "+n(m.color.light,"fill")+' d="M0 0h'+y+"v"+y+'H0z"/>':"",j="<path "+n(m.color.dark,"stroke")+' d="'+a(x,g,m.margin)+'"/>',N='viewBox="0 0 '+y+" "+y+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(m.width?'width="'+m.width+'" height="'+m.width+'" ':"")+N+' shape-rendering="crispEdges">'+w+j+`</svg>
`;return typeof f=="function"&&f(null,A),A},Tc}var vm;function kb(){if(vm)return Yn;vm=1;const l=sb(),n=bb(),s=jb(),a=Nb();function o(c,d,f,m,g){const x=[].slice.call(arguments,1),y=x.length,w=typeof x[y-1]=="function";if(!w&&!l())throw new Error("Callback required as last argument");if(w){if(y<2)throw new Error("Too few arguments provided");y===2?(g=f,f=d,d=m=void 0):y===3&&(d.getContext&&typeof g>"u"?(g=m,m=void 0):(g=m,m=f,f=d,d=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(f=d,d=m=void 0):y===2&&!d.getContext&&(m=f,f=d,d=void 0),new Promise(function(j,N){try{const C=n.create(f,m);j(c(C,d,m))}catch(C){N(C)}})}try{const j=n.create(f,m);g(null,c(j,d,m))}catch(j){g(j)}}return Yn.create=n.create,Yn.toCanvas=o.bind(null,s.render),Yn.toDataURL=o.bind(null,s.renderToDataURL),Yn.toString=o.bind(null,function(c,d,f){return a.render(c,f)}),Yn}var _b=kb();const Sb=Vi(_b);class Bt{static async generateTOTPSecret(n,s){try{const a=this.generateMockSecret(),o=await this.generateQRCodeDataURL(s,a);return{secret:a,qrCodeUrl:o,backupCodes:this.generateBackupCodes()}}catch(a){throw console.error("Failed to generate TOTP secret:",a),a}}static async verifyTOTPCode(n,s){try{if(!/^\d{6}$/.test(n))throw new Error("Invalid verification code");return{success:!0}}catch(a){throw console.error("Failed to verify TOTP code:",a),a}}static async enable2FA(n,s,a){try{return await Ve.updateSecuritySettings({twoFactorEnabled:!0,twoFactorSecret:s,backupCodes:a}),{success:!0}}catch(o){throw console.error("Failed to enable 2FA:",o),o}}static async disable2FA(n){try{return await Ve.updateSecuritySettings({twoFactorEnabled:!1,twoFactorSecret:null,backupCodes:[]}),{success:!0}}catch(s){throw console.error("Failed to disable 2FA:",s),s}}static async verifyBackupCode(n,s){var a;try{if(!(((a=(await Ve.getUserSettings()).security)==null?void 0:a.backupCodes)||[]).includes(n))throw new Error("Invalid backup code");return{success:!0}}catch(o){throw console.error("Failed to verify backup code:",o),o}}static async generateNewBackupCodes(n){try{const s=this.generateBackupCodes();return await Ve.updateSecuritySettings({backupCodes:s}),{backupCodes:s}}catch(s){throw console.error("Failed to generate new backup codes:",s),s}}static async is2FAEnabled(n){var s;try{return((s=(await Ve.getUserSettings()).security)==null?void 0:s.twoFactorEnabled)||!1}catch(a){return console.error("Failed to check 2FA status:",a),!1}}static async get2FAStatus(n){var s,a,o;try{const c=await Ve.getUserSettings();return{enabled:((s=c.security)==null?void 0:s.twoFactorEnabled)||!1,backupCodes:((a=c.security)==null?void 0:a.backupCodes)||[],lastLoginAt:(o=c.security)==null?void 0:o.lastLoginAt}}catch(c){throw console.error("Failed to get 2FA status:",c),c}}static generateMockSecret(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let s="";for(let a=0;a<32;a++)s+=n.charAt(Math.floor(Math.random()*n.length));return s}static generateQRCodeURL(n,s){const a="Promptr",o=n;return`otpauth://totp/${encodeURIComponent(a)}:${encodeURIComponent(o)}?secret=${s}&issuer=${encodeURIComponent(a)}&algorithm=SHA1&digits=6&period=30`}static async generateQRCodeDataURL(n,s){try{const a=this.generateQRCodeURL(n,s);return await Sb.toDataURL(a,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})}catch(a){return console.error("Error generating QR code:",a),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=="}}static generateBackupCodes(){const n=[];for(let s=0;s<8;s++){const a=Math.random().toString(36).substring(2,10).toUpperCase();n.push(a)}return n}static validateTOTPCode(n){return/^\d{6}$/.test(n)}static validateBackupCode(n){return/^[A-Z0-9]{8}$/.test(n)}static validateQRCodeDataURL(n){return n&&n.startsWith("data:image/png;base64,")&&n.length>100}static formatBackupCodes(n){return n.map((s,a)=>({id:a+1,code:s,used:!1}))}static downloadBackupCodes(n,s){const a=`Promptr Backup Codes for ${s}

IMPORTANT: Keep these codes in a safe place. You can use them to access your account if you lose your authenticator device.

${n.map((f,m)=>`${m+1}. ${f}`).join(`
`)}

Generated on: ${new Date().toLocaleDateString()}

Note: Each code can only be used once. Generate new codes if you run out.`,o=new Blob([a],{type:"text/plain"}),c=URL.createObjectURL(o),d=document.createElement("a");d.href=c,d.download=`promptr-backup-codes-${s}.txt`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}static async downloadQRCode(n,s){try{const a=await this.generateQRCodeDataURL(n,s),c=await(await fetch(a)).blob(),d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=`promptr-qr-code-${n}.png`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}catch(a){throw console.error("Error downloading QR code:",a),a}}static getAuthenticatorApps(){return[{name:"Google Authenticator",platforms:["iOS","Android"],description:"Simple and reliable TOTP authenticator",icon:"",url:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2"},{name:"Microsoft Authenticator",platforms:["iOS","Android"],description:"Microsoft's authenticator app",icon:"",url:"https://www.microsoft.com/en-us/account/authenticator"}]}}const Cb=({isOpen:l,onClose:n})=>{const{user:s}=hn(),[a,o]=b.useState("overview"),[c,d]=b.useState(""),[f,m]=b.useState(""),[g,x]=b.useState([]),[y,w]=b.useState(""),[j,N]=b.useState(!1),[C,A]=b.useState(!1),[_,P]=b.useState(null),[S,L]=b.useState(!1),[I,U]=b.useState(!1),[z,ee]=b.useState(!1);b.useEffect(()=>{l&&s&&H()},[l,s]),b.useEffect(()=>{const E=B=>{B.key==="Escape"&&l&&n()};return l&&document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[l,n]);const H=async()=>{A(!0),P(null);try{const E=await Bt.get2FAStatus(s.id);N(E.enabled),x(E.backupCodes)}catch(E){console.error("Failed to load 2FA status:",E),P("Failed to load 2FA status")}finally{A(!1)}},te=async()=>{A(!0),P(null);try{const{secret:E,qrCodeUrl:B,backupCodes:pe}=await Bt.generateTOTPSecret(s.id,s.email);if(!Bt.validateQRCodeDataURL(B))throw new Error("Failed to generate valid QR code");m(E),d(B),x(pe),o("setup")}catch(E){console.error("Failed to generate TOTP secret:",E),P("Failed to generate setup codes. Please try again.")}finally{A(!1)}},$=async()=>{if(!Bt.validateTOTPCode(y)){P("Please enter a valid 6-digit code");return}A(!0),P(null);try{await Bt.verifyTOTPCode(y,f),await Bt.enable2FA(s.id,f,g),N(!0),o("complete")}catch(E){console.error("Failed to verify code:",E),P("Invalid verification code. Please try again.")}finally{A(!1)}},q=async()=>{A(!0),P(null);try{await Bt.disable2FA(s.id),N(!1),o("overview")}catch(E){console.error("Failed to disable 2FA:",E),P("Failed to disable 2FA")}finally{A(!1)}},Z=async()=>{A(!0),P(null);try{const{backupCodes:E}=await Bt.generateNewBackupCodes(s.id);x(E),U(!0)}catch(E){console.error("Failed to generate new backup codes:",E),P("Failed to generate new backup codes")}finally{A(!1)}},ie=()=>{Bt.downloadBackupCodes(g,s.email)},Ce=async()=>{ee(!0),P(null);try{await Bt.downloadQRCode(s.email,f)}catch(E){console.error("Failed to download QR code:",E),P("Failed to download QR code")}finally{ee(!1)}};if(!l)return null;const Ee=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Hi,{className:"w-8 h-8 text-red-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-gray-600",children:j?"2FA is currently enabled for your account.":"Add an extra layer of security to your account."})]}),j?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"font-medium text-green-900",children:"2FA is Active"})]}),r.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your account is protected with two-factor authentication."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>o("manage"),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Manage 2FA Settings"}),r.jsx("button",{onClick:q,className:"w-full px-4 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",children:"Disable 2FA"})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ut,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"font-medium text-blue-900",children:"Security Recommendation"})]}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Enable 2FA to protect your account from unauthorized access."})]}),r.jsx("button",{onClick:te,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Enable 2FA"})]})]}),je=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Set Up 2FA"}),r.jsx("p",{className:"text-gray-600",children:"Scan the QR code with your authenticator app."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block p-4 bg-white border-2 border-gray-200 rounded-lg",children:r.jsx("img",{src:c,alt:"QR Code",className:"w-48 h-48"})}),r.jsx("div",{className:"mt-3",children:r.jsx("button",{onClick:Ce,disabled:z,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 mx-auto",children:z?r.jsxs(r.Fragment,{children:[r.jsx(na,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Wt,{className:"w-4 h-4"}),r.jsx("span",{children:"Download QR Code"})]})})}),r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Secret Key"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Enter this manually if QR code doesn't work"})]}),r.jsx("button",{onClick:()=>L(!S),className:"p-1 text-gray-500 hover:text-gray-700",children:S?r.jsx(Wi,{className:"w-4 h-4"}):r.jsx(on,{className:"w-4 h-4"})})]}),S&&r.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[r.jsx("code",{className:"flex-1 p-2 bg-white border rounded text-sm font-mono",children:f}),r.jsx("button",{onClick:()=>navigator.clipboard.writeText(f),className:"px-3 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Copy"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Step 1: Install an Authenticator App"}),r.jsx("div",{className:"space-y-2",children:Bt.getAuthenticatorApps().map((E,B)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl",children:E.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900",children:E.name}),r.jsx("div",{className:"text-sm text-gray-600",children:E.description}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:E.platforms.join(", ")})]}),r.jsx("a",{href:E.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download"})]},B))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Step 2: Scan QR Code"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Open your authenticator app and scan the QR code above, or manually enter the secret key."})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>o("overview"),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Back"}),r.jsx("button",{onClick:()=>o("verify"),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Next"})]})]}),Q=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Verify Setup"}),r.jsx("p",{className:"text-gray-600",children:"Enter the 6-digit code from your authenticator app."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),r.jsx("input",{type:"text",value:y,onChange:E=>w(E.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full px-4 py-3 text-center text-2xl font-mono border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:6})]}),r.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ut,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-yellow-900",children:"Important"}),r.jsx("div",{className:"text-sm text-yellow-700 mt-1",children:"Make sure to save your backup codes. You'll need them if you lose access to your authenticator app."})]})]})})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>o("setup"),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Back"}),r.jsx("button",{onClick:$,disabled:y.length!==6,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Verify"})]})]}),K=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"2FA Management"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Manage your two-factor authentication settings and backup codes."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Backup Codes"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[g.length," codes remaining"]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>U(!I),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[I?"Hide":"Show"," Codes"]}),r.jsxs("button",{onClick:ie,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center space-x-1",children:[r.jsx(Wt,{className:"w-3 h-3"}),r.jsx("span",{children:"Download"})]})]})]}),I&&r.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[r.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map((E,B)=>r.jsx("div",{className:"p-2 bg-white border rounded text-center font-mono text-sm",children:E},B))}),r.jsx("p",{className:"text-xs text-yellow-700 mt-2",children:"Each code can only be used once. Generate new codes if you run out."})]}),r.jsx("button",{onClick:Z,disabled:C,className:"w-full px-4 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:C?r.jsxs(r.Fragment,{children:[r.jsx(na,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(na,{className:"w-4 h-4"}),r.jsx("span",{children:"Generate New Backup Codes"})]})})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Security Information"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:" 2FA is enabled for your account"}),r.jsx("li",{children:" Backup codes provide emergency access"}),r.jsx("li",{children:" Each backup code can only be used once"}),r.jsx("li",{children:" Keep backup codes in a secure location"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>o("overview"),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Back"}),r.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Done"})]})]}),J=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(St,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"2FA Setup Complete!"}),r.jsx("p",{className:"text-gray-600",children:"Your account is now protected with two-factor authentication."})]}),r.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Backup Codes"}),r.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Save these backup codes in a secure location. You can use them to access your account if you lose your authenticator device."}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map((E,B)=>r.jsx("div",{className:"p-2 bg-white border rounded text-center font-mono text-sm",children:E},B))}),r.jsxs("div",{className:"mt-3 flex space-x-2",children:[r.jsxs("button",{onClick:ie,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(Wt,{className:"w-4 h-4"}),r.jsx("span",{children:"Download Codes"})]}),r.jsx("button",{onClick:()=>o("manage"),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Manage 2FA"})]})]})]});return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Hi,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Secure your account"})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Ct,{className:"w-5 h-5"})})]}),_&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ut,{className:"w-4 h-4 text-red-600"}),r.jsx("span",{className:"text-sm text-red-700",children:_})]})}),C&&r.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-10",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(na,{className:"w-5 h-5 animate-spin text-blue-600"}),r.jsx("span",{className:"text-blue-600",children:"Loading..."})]})}),a==="overview"&&Ee(),a==="setup"&&je(),a==="verify"&&Q(),a==="complete"&&J(),a==="manage"&&K()]})})})},Eb=({isOpen:l,onClose:n})=>{const s=[{id:1,date:"2024-01-15T10:30:00Z",device:"Chrome on MacBook Pro",location:"Amsterdam, Netherlands",ip:"192.168.1.100",status:"success",icon:Fi},{id:2,date:"2024-01-14T15:45:00Z",device:"Safari on iPhone",location:"Amsterdam, Netherlands",ip:"192.168.1.101",status:"success",icon:Cw},{id:3,date:"2024-01-13T09:20:00Z",device:"Firefox on Windows",location:"Unknown",ip:"203.0.113.1",status:"suspicious",icon:eo},{id:4,date:"2024-01-12T14:15:00Z",device:"Chrome on MacBook Pro",location:"Amsterdam, Netherlands",ip:"192.168.1.100",status:"success",icon:Fi},{id:5,date:"2024-01-11T11:30:00Z",device:"Chrome on MacBook Pro",location:"Amsterdam, Netherlands",ip:"192.168.1.100",status:"success",icon:Fi}],a=d=>{switch(d){case"success":return"text-green-600 bg-green-50";case"suspicious":return"text-yellow-600 bg-yellow-50";case"failed":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},o=d=>{switch(d){case"success":return"Successful";case"suspicious":return"Suspicious";case"failed":return"Failed";default:return"Unknown"}};b.useEffect(()=>{const d=f=>{f.key==="Escape"&&l&&n()};return l&&document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[l,n]);const c=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return l?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Yi,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Login History"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Recent account activity"})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Ct,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:"4"}),r.jsx("div",{className:"text-sm text-green-700",children:"Successful"})]}),r.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"1"}),r.jsx("div",{className:"text-sm text-yellow-700",children:"Suspicious"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-600",children:"5"}),r.jsx("div",{className:"text-sm text-gray-700",children:"Total"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Logins"}),s.map(d=>{const f=d.icon;return r.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:r.jsx(f,{className:"w-5 h-5 text-gray-600"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-gray-900",children:d.device}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(d.status)}`,children:o(d.status)})]}),r.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[d.location,"  ",d.ip]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:c(d.date)})]}),d.status==="suspicious"&&r.jsx("button",{className:"flex-shrink-0 p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",children:r.jsx(ip,{className:"w-4 h-4"})})]},d.id)})]}),r.jsxs("div",{className:"flex space-x-3 mt-8",children:[r.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"}),r.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Download Report"})]})]})})}):null},Pb=({isOpen:l,onClose:n})=>{const[s,a]=b.useState([{id:"pm_1OaBcD2eF3gH4iJ5kL6mN7oP8",type:"card",last4:"4242",brand:"visa",expiry_month:12,expiry_year:2025,isDefault:!0,name:"Visa ending in 4242",country:"US",funding:"credit"},{id:"pm_2QbCdE3fG4hI5jK6lM7nO8pQ9",type:"card",last4:"5555",brand:"mastercard",expiry_month:8,expiry_year:2026,isDefault:!1,name:"Mastercard ending in 5555",country:"US",funding:"credit"}]),[o,c]=b.useState(!1),[d,f]=b.useState(null),m=()=>{const y={id:`pm_${Date.now()}_stripe_placeholder`,type:"card",last4:"1234",brand:"visa",expiry_month:12,expiry_year:2027,isDefault:!1,name:"Visa ending in 1234",country:"US",funding:"credit"};a(w=>[...w,y]),c(!1)},g=y=>{a(w=>w.filter(j=>j.id!==y))};b.useEffect(()=>{const y=w=>{w.key==="Escape"&&l&&n()};return l&&document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[l,n]);const x=y=>{a(w=>w.map(j=>({...j,isDefault:j.id===y})))};return l?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx($i,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Methods"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage your payment options"})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Ct,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"space-y-3 mb-6",children:s.map(y=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:r.jsx($i,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:y.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Expires ",y.expiry_month.toString().padStart(2,"0"),"/",y.expiry_year]}),y.isDefault&&r.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full mt-1",children:"Default"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[!y.isDefault&&r.jsx("button",{onClick:()=>x(y.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Set as default",children:r.jsx(St,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>f(y),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(hp,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>g(y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove",children:r.jsx(fp,{className:"w-4 h-4"})})]})]},y.id))}),r.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx($i,{className:"w-3 h-3 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-blue-900",children:"Stripe Payment Processing"}),r.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"Payment methods are processed securely through Stripe. All card information is encrypted and never stored on our servers."})]})]})}),o?r.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Add New Payment Method"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),r.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVC"}),r.jsx("input",{type:"text",placeholder:"123",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),r.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Check,{className:"w-2 h-2 text-green-600"})}),r.jsx("span",{className:"text-sm text-green-700",children:"Your card details are secured by Stripe's PCI-compliant infrastructure"})]})})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:m,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Card"})]})]}):r.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-colors",children:[r.jsx(_w,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Payment Method"})]}),r.jsx("div",{className:"flex space-x-3 mt-8",children:r.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})}):null},Tb=({isOpen:l,onClose:n})=>{const s=[{id:"in_1OaBcD2eF3gH4iJ5kL6mN7oP8",date:"2024-01-15",amount:300,currency:"eur",status:"paid",description:"Premium Plan - January 2024",invoiceNumber:"INV-2024-001",stripeInvoiceId:"in_1OaBcD2eF3gH4iJ5kL6mN7oP8",subscriptionId:"sub_1OaBcD2eF3gH4iJ5kL6mN7oP8",paymentMethod:"pm_1OaBcD2eF3gH4iJ5kL6mN7oP8"},{id:"in_2QbCdE3fG4hI5jK6lM7nO8pQ9",date:"2023-12-15",amount:300,currency:"eur",status:"paid",description:"Premium Plan - December 2023",invoiceNumber:"INV-2023-012",stripeInvoiceId:"in_2QbCdE3fG4hI5jK6lM7nO8pQ9",subscriptionId:"sub_2QbCdE3fG4hI5jK6lM7nO8pQ9",paymentMethod:"pm_2QbCdE3fG4hI5jK6lM7nO8pQ9"},{id:"in_3RcDeF4gH5iJ6kL7mN8oP9qR0",date:"2023-11-15",amount:300,currency:"eur",status:"paid",description:"Premium Plan - November 2023",invoiceNumber:"INV-2023-011",stripeInvoiceId:"in_3RcDeF4gH5iJ6kL7mN8oP9qR0",subscriptionId:"sub_3RcDeF4gH5iJ6kL7mN8oP9qR0",paymentMethod:"pm_3RcDeF4gH5iJ6kL7mN8oP9qR0"},{id:"in_4SdEfG5hI6jK7lM8nO9pQ0rS1",date:"2023-10-15",amount:300,currency:"eur",status:"paid",description:"Premium Plan - October 2023",invoiceNumber:"INV-2023-010",stripeInvoiceId:"in_4SdEfG5hI6jK7lM8nO9pQ0rS1",subscriptionId:"sub_4SdEfG5hI6jK7lM8nO9pQ0rS1",paymentMethod:"pm_4SdEfG5hI6jK7lM8nO9pQ0rS1"}],a=f=>{switch(f){case"paid":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"failed":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},o=f=>{switch(f){case"paid":return"Paid";case"pending":return"Pending";case"failed":return"Failed";default:return"Unknown"}},c=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});b.useEffect(()=>{const f=m=>{m.key==="Escape"&&l&&n()};return l&&document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[l,n]);const d=f=>{console.log("Downloading invoice:",f.invoiceNumber)};return l?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Wt,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Billing History"}),r.jsx("p",{className:"text-sm text-gray-600",children:"View and download invoices"})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Ct,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"12.00"}),r.jsx("div",{className:"text-sm text-blue-700",children:"Total Paid"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:"4"}),r.jsx("div",{className:"text-sm text-green-700",children:"Invoices"})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"3.00"}),r.jsx("div",{className:"text-sm text-purple-700",children:"Monthly"})]})]}),r.jsx("div",{className:"p-4 bg-blue-50 rounded-lg mb-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(Wt,{className:"w-3 h-3 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-blue-900",children:"Stripe Billing"}),r.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"All billing is processed securely through Stripe. Invoices are generated automatically and can be downloaded as PDF."})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Invoices"}),s.map(f=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:r.jsx(Zi,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:f.description}),r.jsxs("div",{className:"text-sm text-gray-600",children:[f.invoiceNumber,"  ",c(f.date)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-gray-900",children:[(f.amount/100).toFixed(2)," ",f.currency.toUpperCase()]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(f.status)}`,children:o(f.status)})]}),r.jsx("button",{onClick:()=>d(f),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Download Invoice",children:r.jsx(Wt,{className:"w-4 h-4"})})]})]},f.id))]}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yi,{className:"w-5 h-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-blue-900",children:"Billing Information"}),r.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"Invoices are generated monthly on the 15th. You can download PDF copies of all invoices."})]})]})}),r.jsxs("div",{className:"flex space-x-3 mt-8",children:[r.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"}),r.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Download All"})]})]})})}):null},Ab=({isOpen:l,onClose:n})=>{const[s,a]=b.useState(!1),[o,c]=b.useState({theme:"light",backgroundAnimation:!0}),[d,f]=b.useState(!1),[m,g]=b.useState(null),[x,y]=b.useState(!1),{backgroundAnimation:w,updateBackgroundPreference:j}=np(),{theme:N,updateTheme:C}=ap();b.useEffect(()=>{l&&A()},[l]);const A=async()=>{try{a(!0),g(null);const L=await Ve.getUserSettings();c({theme:N,backgroundAnimation:w}),y(!1)}catch(L){console.error("Error loading settings:",L),g("Failed to load settings. Using defaults.")}finally{a(!1)}},_=async()=>{try{a(!0),g(null),f(!1),await j(o.backgroundAnimation),await C(o.theme),f(!0),y(!1),setTimeout(()=>{n(),f(!1)},1500)}catch(L){console.error("Error saving settings:",L),g("Failed to save settings. Please try again.")}finally{a(!1)}},P=()=>{c(L=>({...L,backgroundAnimation:!L.backgroundAnimation})),y(!0),g(null)},S=L=>{c(I=>({...I,theme:L})),y(!0),g(null)};return l?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(dp,{className:"w-6 h-6 text-purple-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Appearance Settings"})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Ct,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Theme"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("button",{onClick:()=>S("light"),className:`p-4 rounded-xl border-2 transition-all ${o.theme==="light"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ew,{className:"w-6 h-6 text-yellow-500"}),r.jsx("span",{className:"font-semibold text-gray-900",children:"Light"})]})}),r.jsx("button",{onClick:()=>S("dark"),className:`p-4 rounded-xl border-2 transition-all ${o.theme==="dark"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(kw,{className:"w-6 h-6 text-blue-500"}),r.jsx("span",{className:"font-semibold text-gray-900",children:"Dark"})]})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Background"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ke,{className:"w-6 h-6 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Dynamic Background"}),r.jsx("p",{className:"text-base text-gray-700",children:"Animated gradient with scroll acceleration"})]})]}),r.jsx("button",{onClick:P,className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors ${o.backgroundAnimation?"bg-purple-600":"bg-gray-300"}`,children:r.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${o.backgroundAnimation?"translate-x-6":"translate-x-1"}`})})]}),!o.backgroundAnimation&&r.jsx("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:r.jsxs("p",{className:"text-base text-blue-800 font-medium",children:[r.jsx("strong",{children:"Static background enabled:"})," You'll see a clean, solid background without animations."]})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Preview"}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[r.jsx("div",{className:"text-base text-gray-700 mb-3 font-medium",children:"Current setting:"}),r.jsx("div",{className:"flex items-center space-x-3",children:o.backgroundAnimation?r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"w-5 h-5 text-purple-600"}),r.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:"Dynamic animated background"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Fi,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:"Static background"})]})})]})]})]}),d&&r.jsx("div",{className:"px-6 pb-4",children:r.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(vt,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"text-base text-green-700 font-medium",children:"Settings saved successfully!"})]})})}),m&&r.jsx("div",{className:"px-6 pb-4",children:r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ut,{className:"w-5 h-5 text-red-600"}),r.jsx("span",{className:"text-base text-red-700 font-medium",children:m})]})})}),x&&!s&&r.jsx("div",{className:"px-6 pb-4",children:r.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ut,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"text-base text-blue-700 font-medium",children:"You have unsaved changes"})]})})}),r.jsxs("div",{className:"flex flex-col space-y-3 p-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 text-gray-700 hover:text-gray-900 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{onClick:_,disabled:s||!x,className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold text-lg",children:s?"Saving...":"Save Changes"})]}),r.jsx("button",{onClick:()=>{c({theme:"light",backgroundAnimation:!0}),y(!0),g(null)},disabled:s,className:"w-full px-4 py-3 text-gray-700 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:"Reset to Defaults"})]})]})}):null};function Rb({stats:l,initialTab:n}){var Y;const{user:s,signOut:a}=hn(),[o,c]=b.useState(n||"overview"),[d,f]=b.useState(!1),[m,g]=b.useState(((Y=s==null?void 0:s.email)==null?void 0:Y.split("@")[0])||""),[x,y]=b.useState(!1),[w,j]=b.useState(ze.FREE),[N,C]=b.useState(!1),[A,_]=b.useState(!0),[P,S]=b.useState(!1),[L,I]=b.useState(!1),[U,z]=b.useState(!1),[ee,H]=b.useState(!1),[te,$]=b.useState(!1),[q,Z]=b.useState(!1),[ie,Ce]=b.useState(!1),[Ee,je]=b.useState(!1);if(b.useEffect(()=>{(async()=>{if(s)try{const he=await an.getSubscriptionTier(s),ke=await an.isProUser(s);j(he),C(ke)}catch(he){console.error("Error checking subscription:",he)}finally{_(!1)}else _(!1)})()},[s]),!s)return null;const K=l||{promptsCreated:12,promptsShared:2,tokensUsed:15420,modelsUsed:["claude-3-5-sonnet","gpt-4o","gemini-2.5-pro"],monthlyUsage:{prompts:12,tokens:15420,enrichments:8}},J=()=>{f(!1)},E=re=>{switch(re){case ze.PRO:return"Premium";case ze.ENTERPRISE:return"Enterprise";default:return"Free"}},B=re=>{switch(re){case ze.PRO:return"text-purple-600 bg-purple-50 border-purple-200";case ze.ENTERPRISE:return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},pe=[{id:"overview",label:"Overview",icon:ss},{id:"usage",label:"Usage",icon:dw},{id:"settings",label:"Settings",icon:ns}],ae=()=>{var re;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-2xl text-white font-bold",children:((re=s.email)==null?void 0:re.charAt(0).toUpperCase())||r.jsx(ss,{})}),r.jsx("button",{onClick:()=>y(!0),className:"absolute -bottom-1 -right-1 w-6 h-6 bg-white rounded-full border-2 border-gray-200 flex items-center justify-center hover:bg-gray-50",children:r.jsx(mw,{className:"w-3 h-3 text-gray-600"})})]}),r.jsx("div",{className:"flex-1",children:d?r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"text",value:m,onChange:he=>g(he.target.value),className:"text-lg font-semibold bg-gray-50 border border-gray-200 rounded px-2 py-1 w-full"}),r.jsx("div",{className:"text-sm text-gray-500",children:s.email})]}):r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold text-gray-900",children:m}),r.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})}),r.jsxs("button",{onClick:()=>d?J():f(!0),className:"flex items-center space-x-1 px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[d?r.jsx(St,{className:"w-4 h-4"}):r.jsx(hp,{className:"w-4 h-4"}),r.jsx("span",{children:d?"Save":"Edit"})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Account Status"}),r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),r.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium border ${B(w)}`,children:[A?"Loading...":E(w)," Plan"]})]}),!A&&!N&&r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-4 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Zt,{className:"w-5 h-5"}),r.jsx("h4",{className:"font-semibold",children:"Upgrade to Premium"})]}),r.jsx("p",{className:"text-sm text-purple-100 mb-3",children:"Get unlimited prompts, advanced AI enhancements, and priority support"}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs text-purple-200",children:[r.jsx(Ke,{className:"w-3 h-3"}),r.jsx("span",{children:"Save 70% - Limited time offer"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:"3 EUR"}),r.jsx("div",{className:"text-xs text-purple-200",children:"/ month"}),r.jsx("button",{className:"mt-2 px-4 py-2 bg-white text-purple-600 rounded-lg text-sm font-medium hover:bg-purple-50 transition-colors",children:"Upgrade Now"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:K.promptsCreated}),r.jsx("div",{className:"text-xs text-gray-600",children:"Prompts"})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:K.promptsShared}),r.jsx("div",{className:"text-xs text-gray-600",children:"Shared"})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:K.modelsUsed.length}),r.jsx("div",{className:"text-xs text-gray-600",children:"Models Used"})]})]})]})},xe=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"This Month"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:K.monthlyUsage.prompts}),r.jsx("div",{className:"text-xs text-gray-600",children:"Prompts Created"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:K.monthlyUsage.tokens.toLocaleString()}),r.jsx("div",{className:"text-xs text-gray-600",children:"Tokens Used"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:K.monthlyUsage.enrichments}),r.jsx("div",{className:"text-xs text-gray-600",children:"Enrichments"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"AI Models Used"}),r.jsx("div",{className:"space-y-2",children:K.modelsUsed.map(re=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:re}),r.jsx(un,{className:"w-4 h-4 text-yellow-500"})]},re))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Usage Limits"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Token Usage"}),r.jsxs("span",{className:"text-sm font-medium",children:[K.tokensUsed.toLocaleString()," / 4,000"]})]}),r.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${Math.min(K.tokensUsed/4e3*100,100)}%`}})}),!N&&r.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Upgrade to Premium for unlimited tokens"})]})]})]}),ye=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Account Settings"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>S(!0),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(op,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Notifications"})]}),r.jsx(yt,{className:"w-4 h-4 text-gray-400"})]}),r.jsxs("button",{onClick:()=>I(!0),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(eo,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Privacy Settings"})]}),r.jsx(yt,{className:"w-4 h-4 text-gray-400"})]}),r.jsxs("button",{onClick:()=>je(!0),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(dp,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Appearance"})]}),r.jsx(yt,{className:"w-4 h-4 text-gray-400"})]}),r.jsxs("button",{onClick:()=>z(!0),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Wt,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Export Data"})]}),r.jsx(yt,{className:"w-4 h-4 text-gray-400"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Security"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>H(!0),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Hi,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Two-Factor Authentication"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-red-600",children:"Not enabled"}),r.jsx(yt,{className:"w-4 h-4 text-gray-400"})]})]}),r.jsxs("button",{onClick:()=>$(!0),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Yi,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Login History"})]}),r.jsx(yt,{className:"w-4 h-4 text-gray-400"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Billing & Subscription"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>Z(!0),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx($i,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Payment Methods"})]}),r.jsx(yt,{className:"w-4 h-4 text-gray-400"})]}),r.jsxs("button",{onClick:()=>Ce(!0),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Wt,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Billing History"})]}),r.jsx(yt,{className:"w-4 h-4 text-gray-400"})]})]})]}),r.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center space-x-2 p-3 text-red-600 hover:bg-red-50 rounded-lg border border-red-200",children:[r.jsx(up,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})]});return r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx("div",{className:"flex space-x-2 bg-gray-100 rounded-lg p-2 mb-8",children:pe.map(re=>{const he=re.icon;return r.jsxs("button",{onClick:()=>c(re.id),className:`flex-1 flex items-center justify-center space-x-3 py-3 px-4 rounded-md text-sm font-medium transition-colors ${o===re.id?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(he,{className:"w-4 h-4"}),r.jsx("span",{children:re.label})]},re.id)})}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[o==="overview"&&ae(),o==="usage"&&xe(),o==="settings"&&ye()]}),r.jsx(eb,{isOpen:P,onClose:()=>S(!1)}),r.jsx(rb,{isOpen:L,onClose:()=>I(!1)}),r.jsx(nb,{isOpen:U,onClose:()=>z(!1)}),r.jsx(Cb,{isOpen:ee,onClose:()=>H(!1)}),r.jsx(Eb,{isOpen:te,onClose:()=>$(!1)}),r.jsx(Pb,{isOpen:q,onClose:()=>Z(!1)}),r.jsx(Tb,{isOpen:ie,onClose:()=>Ce(!1)}),r.jsx(Ab,{isOpen:Ee,onClose:()=>je(!1)})]})}function Lb(){const[l]=Gx(),n=l.get("tab")||"overview";return r.jsx(Rb,{initialTab:n})}function Ib(){const[l,n]=b.useState(!1),{backgroundAnimation:s}=np(),{theme:a}=ap();b.useEffect(()=>{if(!s)return;let c;const d=()=>{n(!0),c&&clearTimeout(c),c=setTimeout(()=>{n(!1)},150)};return window.addEventListener("scroll",d,{passive:!0}),()=>{window.removeEventListener("scroll",d),c&&clearTimeout(c)}},[s]);const o=()=>s?`bg-gradient-to-br from-yellow-100 via-orange-100 via-pink-100 via-purple-100 via-blue-100 to-cyan-100 ${l?"animate-gradient-fast":"animate-gradient"}`:"bg-gray-50";return r.jsxs("div",{className:`min-h-screen ${o()} ${a}`,children:[r.jsx(Jw,{}),r.jsx("main",{className:"flex-1",children:r.jsxs(px,{children:[r.jsx(Xn,{path:"/",element:r.jsx(Hw,{})}),r.jsx(Xn,{path:"/help",element:r.jsx(Xw,{})}),r.jsx(Xn,{path:"/docs",element:r.jsx(Zw,{})}),r.jsx(Xn,{path:"/pricing",element:r.jsx(Qw,{})}),r.jsx(Xn,{path:"/profile",element:r.jsx(Lb,{})})]})}),r.jsx(Yw,{})]})}function Ob(){return r.jsx(aw,{children:r.jsx(ow,{children:r.jsx(iw,{children:r.jsx(Fx,{children:r.jsx(Ib,{})})})})})}k0.createRoot(document.getElementById("root")).render(r.jsx(ca.StrictMode,{children:r.jsx(Ob,{})}));
